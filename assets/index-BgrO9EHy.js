(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();var Wf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ex(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var hp={exports:{}},ku={},dp={exports:{}},ot={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gv;function ZS(){if(Gv)return ot;Gv=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),_=Symbol.iterator;function y(J){return J===null||typeof J!="object"?null:(J=_&&J[_]||J["@@iterator"],typeof J=="function"?J:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,w={};function S(J,O,Y){this.props=J,this.context=O,this.refs=w,this.updater=Y||E}S.prototype.isReactComponent={},S.prototype.setState=function(J,O){if(typeof J!="object"&&typeof J!="function"&&J!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,J,O,"setState")},S.prototype.forceUpdate=function(J){this.updater.enqueueForceUpdate(this,J,"forceUpdate")};function H(){}H.prototype=S.prototype;function z(J,O,Y){this.props=J,this.context=O,this.refs=w,this.updater=Y||E}var W=z.prototype=new H;W.constructor=z,A(W,S.prototype),W.isPureReactComponent=!0;var Z=Array.isArray,fe=Object.prototype.hasOwnProperty,ge={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function P(J,O,Y){var q,K={},le=null,Ae=null;if(O!=null)for(q in O.ref!==void 0&&(Ae=O.ref),O.key!==void 0&&(le=""+O.key),O)fe.call(O,q)&&!k.hasOwnProperty(q)&&(K[q]=O[q]);var Re=arguments.length-2;if(Re===1)K.children=Y;else if(1<Re){for(var Pe=Array(Re),Se=0;Se<Re;Se++)Pe[Se]=arguments[Se+2];K.children=Pe}if(J&&J.defaultProps)for(q in Re=J.defaultProps,Re)K[q]===void 0&&(K[q]=Re[q]);return{$$typeof:r,type:J,key:le,ref:Ae,props:K,_owner:ge.current}}function C(J,O){return{$$typeof:r,type:J.type,key:O,ref:J.ref,props:J.props,_owner:J._owner}}function L(J){return typeof J=="object"&&J!==null&&J.$$typeof===r}function V(J){var O={"=":"=0",":":"=2"};return"$"+J.replace(/[=:]/g,function(Y){return O[Y]})}var j=/\/+/g;function F(J,O){return typeof J=="object"&&J!==null&&J.key!=null?V(""+J.key):O.toString(36)}function qe(J,O,Y,q,K){var le=typeof J;(le==="undefined"||le==="boolean")&&(J=null);var Ae=!1;if(J===null)Ae=!0;else switch(le){case"string":case"number":Ae=!0;break;case"object":switch(J.$$typeof){case r:case e:Ae=!0}}if(Ae)return Ae=J,K=K(Ae),J=q===""?"."+F(Ae,0):q,Z(K)?(Y="",J!=null&&(Y=J.replace(j,"$&/")+"/"),qe(K,O,Y,"",function(Se){return Se})):K!=null&&(L(K)&&(K=C(K,Y+(!K.key||Ae&&Ae.key===K.key?"":(""+K.key).replace(j,"$&/")+"/")+J)),O.push(K)),1;if(Ae=0,q=q===""?".":q+":",Z(J))for(var Re=0;Re<J.length;Re++){le=J[Re];var Pe=q+F(le,Re);Ae+=qe(le,O,Y,Pe,K)}else if(Pe=y(J),typeof Pe=="function")for(J=Pe.call(J),Re=0;!(le=J.next()).done;)le=le.value,Pe=q+F(le,Re++),Ae+=qe(le,O,Y,Pe,K);else if(le==="object")throw O=String(J),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(J).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.");return Ae}function We(J,O,Y){if(J==null)return J;var q=[],K=0;return qe(J,q,"","",function(le){return O.call(Y,le,K++)}),q}function ut(J){if(J._status===-1){var O=J._result;O=O(),O.then(function(Y){(J._status===0||J._status===-1)&&(J._status=1,J._result=Y)},function(Y){(J._status===0||J._status===-1)&&(J._status=2,J._result=Y)}),J._status===-1&&(J._status=0,J._result=O)}if(J._status===1)return J._result.default;throw J._result}var Xe={current:null},Te={transition:null},Le={ReactCurrentDispatcher:Xe,ReactCurrentBatchConfig:Te,ReactCurrentOwner:ge};function Fe(){throw Error("act(...) is not supported in production builds of React.")}return ot.Children={map:We,forEach:function(J,O,Y){We(J,function(){O.apply(this,arguments)},Y)},count:function(J){var O=0;return We(J,function(){O++}),O},toArray:function(J){return We(J,function(O){return O})||[]},only:function(J){if(!L(J))throw Error("React.Children.only expected to receive a single React element child.");return J}},ot.Component=S,ot.Fragment=t,ot.Profiler=i,ot.PureComponent=z,ot.StrictMode=n,ot.Suspense=h,ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Le,ot.act=Fe,ot.cloneElement=function(J,O,Y){if(J==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+J+".");var q=A({},J.props),K=J.key,le=J.ref,Ae=J._owner;if(O!=null){if(O.ref!==void 0&&(le=O.ref,Ae=ge.current),O.key!==void 0&&(K=""+O.key),J.type&&J.type.defaultProps)var Re=J.type.defaultProps;for(Pe in O)fe.call(O,Pe)&&!k.hasOwnProperty(Pe)&&(q[Pe]=O[Pe]===void 0&&Re!==void 0?Re[Pe]:O[Pe])}var Pe=arguments.length-2;if(Pe===1)q.children=Y;else if(1<Pe){Re=Array(Pe);for(var Se=0;Se<Pe;Se++)Re[Se]=arguments[Se+2];q.children=Re}return{$$typeof:r,type:J.type,key:K,ref:le,props:q,_owner:Ae}},ot.createContext=function(J){return J={$$typeof:l,_currentValue:J,_currentValue2:J,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},J.Provider={$$typeof:o,_context:J},J.Consumer=J},ot.createElement=P,ot.createFactory=function(J){var O=P.bind(null,J);return O.type=J,O},ot.createRef=function(){return{current:null}},ot.forwardRef=function(J){return{$$typeof:c,render:J}},ot.isValidElement=L,ot.lazy=function(J){return{$$typeof:m,_payload:{_status:-1,_result:J},_init:ut}},ot.memo=function(J,O){return{$$typeof:d,type:J,compare:O===void 0?null:O}},ot.startTransition=function(J){var O=Te.transition;Te.transition={};try{J()}finally{Te.transition=O}},ot.unstable_act=Fe,ot.useCallback=function(J,O){return Xe.current.useCallback(J,O)},ot.useContext=function(J){return Xe.current.useContext(J)},ot.useDebugValue=function(){},ot.useDeferredValue=function(J){return Xe.current.useDeferredValue(J)},ot.useEffect=function(J,O){return Xe.current.useEffect(J,O)},ot.useId=function(){return Xe.current.useId()},ot.useImperativeHandle=function(J,O,Y){return Xe.current.useImperativeHandle(J,O,Y)},ot.useInsertionEffect=function(J,O){return Xe.current.useInsertionEffect(J,O)},ot.useLayoutEffect=function(J,O){return Xe.current.useLayoutEffect(J,O)},ot.useMemo=function(J,O){return Xe.current.useMemo(J,O)},ot.useReducer=function(J,O,Y){return Xe.current.useReducer(J,O,Y)},ot.useRef=function(J){return Xe.current.useRef(J)},ot.useState=function(J){return Xe.current.useState(J)},ot.useSyncExternalStore=function(J,O,Y){return Xe.current.useSyncExternalStore(J,O,Y)},ot.useTransition=function(){return Xe.current.useTransition()},ot.version="18.3.1",ot}var Kv;function vm(){return Kv||(Kv=1,dp.exports=ZS()),dp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qv;function eA(){if(qv)return ku;qv=1;var r=vm(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(c,h,d){var m,_={},y=null,E=null;d!==void 0&&(y=""+d),h.key!==void 0&&(y=""+h.key),h.ref!==void 0&&(E=h.ref);for(m in h)n.call(h,m)&&!o.hasOwnProperty(m)&&(_[m]=h[m]);if(c&&c.defaultProps)for(m in h=c.defaultProps,h)_[m]===void 0&&(_[m]=h[m]);return{$$typeof:e,type:c,key:y,ref:E,props:_,_owner:i.current}}return ku.Fragment=t,ku.jsx=l,ku.jsxs=l,ku}var Xv;function tA(){return Xv||(Xv=1,hp.exports=eA()),hp.exports}var $e=tA(),de=vm();const rA=Ex(de);var $f={},pp={exports:{}},vn={},mp={exports:{}},gp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yv;function nA(){return Yv||(Yv=1,(function(r){function e(Te,Le){var Fe=Te.length;Te.push(Le);e:for(;0<Fe;){var J=Fe-1>>>1,O=Te[J];if(0<i(O,Le))Te[J]=Le,Te[Fe]=O,Fe=J;else break e}}function t(Te){return Te.length===0?null:Te[0]}function n(Te){if(Te.length===0)return null;var Le=Te[0],Fe=Te.pop();if(Fe!==Le){Te[0]=Fe;e:for(var J=0,O=Te.length,Y=O>>>1;J<Y;){var q=2*(J+1)-1,K=Te[q],le=q+1,Ae=Te[le];if(0>i(K,Fe))le<O&&0>i(Ae,K)?(Te[J]=Ae,Te[le]=Fe,J=le):(Te[J]=K,Te[q]=Fe,J=q);else if(le<O&&0>i(Ae,Fe))Te[J]=Ae,Te[le]=Fe,J=le;else break e}}return Le}function i(Te,Le){var Fe=Te.sortIndex-Le.sortIndex;return Fe!==0?Fe:Te.id-Le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();r.unstable_now=function(){return l.now()-c}}var h=[],d=[],m=1,_=null,y=3,E=!1,A=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function W(Te){for(var Le=t(d);Le!==null;){if(Le.callback===null)n(d);else if(Le.startTime<=Te)n(d),Le.sortIndex=Le.expirationTime,e(h,Le);else break;Le=t(d)}}function Z(Te){if(w=!1,W(Te),!A)if(t(h)!==null)A=!0,ut(fe);else{var Le=t(d);Le!==null&&Xe(Z,Le.startTime-Te)}}function fe(Te,Le){A=!1,w&&(w=!1,H(P),P=-1),E=!0;var Fe=y;try{for(W(Le),_=t(h);_!==null&&(!(_.expirationTime>Le)||Te&&!V());){var J=_.callback;if(typeof J=="function"){_.callback=null,y=_.priorityLevel;var O=J(_.expirationTime<=Le);Le=r.unstable_now(),typeof O=="function"?_.callback=O:_===t(h)&&n(h),W(Le)}else n(h);_=t(h)}if(_!==null)var Y=!0;else{var q=t(d);q!==null&&Xe(Z,q.startTime-Le),Y=!1}return Y}finally{_=null,y=Fe,E=!1}}var ge=!1,k=null,P=-1,C=5,L=-1;function V(){return!(r.unstable_now()-L<C)}function j(){if(k!==null){var Te=r.unstable_now();L=Te;var Le=!0;try{Le=k(!0,Te)}finally{Le?F():(ge=!1,k=null)}}else ge=!1}var F;if(typeof z=="function")F=function(){z(j)};else if(typeof MessageChannel<"u"){var qe=new MessageChannel,We=qe.port2;qe.port1.onmessage=j,F=function(){We.postMessage(null)}}else F=function(){S(j,0)};function ut(Te){k=Te,ge||(ge=!0,F())}function Xe(Te,Le){P=S(function(){Te(r.unstable_now())},Le)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Te){Te.callback=null},r.unstable_continueExecution=function(){A||E||(A=!0,ut(fe))},r.unstable_forceFrameRate=function(Te){0>Te||125<Te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<Te?Math.floor(1e3/Te):5},r.unstable_getCurrentPriorityLevel=function(){return y},r.unstable_getFirstCallbackNode=function(){return t(h)},r.unstable_next=function(Te){switch(y){case 1:case 2:case 3:var Le=3;break;default:Le=y}var Fe=y;y=Le;try{return Te()}finally{y=Fe}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(Te,Le){switch(Te){case 1:case 2:case 3:case 4:case 5:break;default:Te=3}var Fe=y;y=Te;try{return Le()}finally{y=Fe}},r.unstable_scheduleCallback=function(Te,Le,Fe){var J=r.unstable_now();switch(typeof Fe=="object"&&Fe!==null?(Fe=Fe.delay,Fe=typeof Fe=="number"&&0<Fe?J+Fe:J):Fe=J,Te){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=Fe+O,Te={id:m++,callback:Le,priorityLevel:Te,startTime:Fe,expirationTime:O,sortIndex:-1},Fe>J?(Te.sortIndex=Fe,e(d,Te),t(h)===null&&Te===t(d)&&(w?(H(P),P=-1):w=!0,Xe(Z,Fe-J))):(Te.sortIndex=O,e(h,Te),A||E||(A=!0,ut(fe))),Te},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(Te){var Le=y;return function(){var Fe=y;y=Le;try{return Te.apply(this,arguments)}finally{y=Fe}}}})(gp)),gp}var Qv;function iA(){return Qv||(Qv=1,mp.exports=nA()),mp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jv;function sA(){if(Jv)return vn;Jv=1;var r=vm(),e=iA();function t(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function o(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(i[s]=a,s=0;s<a.length;s++)n.add(a[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},_={};function y(s){return h.call(_,s)?!0:h.call(m,s)?!1:d.test(s)?_[s]=!0:(m[s]=!0,!1)}function E(s,a,u,p){if(u!==null&&u.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return p?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function A(s,a,u,p){if(a===null||typeof a>"u"||E(s,a,u,p))return!0;if(p)return!1;if(u!==null)switch(u.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function w(s,a,u,p,g,x,I){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=p,this.attributeNamespace=g,this.mustUseProperty=u,this.propertyName=s,this.type=a,this.sanitizeURL=x,this.removeEmptyString=I}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){S[s]=new w(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];S[a]=new w(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){S[s]=new w(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){S[s]=new w(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){S[s]=new w(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){S[s]=new w(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){S[s]=new w(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){S[s]=new w(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){S[s]=new w(s,5,!1,s.toLowerCase(),null,!1,!1)});var H=/[\-:]([a-z])/g;function z(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(H,z);S[a]=new w(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(H,z);S[a]=new w(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(H,z);S[a]=new w(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){S[s]=new w(s,1,!1,s.toLowerCase(),null,!1,!1)}),S.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){S[s]=new w(s,1,!1,s.toLowerCase(),null,!0,!0)});function W(s,a,u,p){var g=S.hasOwnProperty(a)?S[a]:null;(g!==null?g.type!==0:p||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(A(a,u,g,p)&&(u=null),p||g===null?y(a)&&(u===null?s.removeAttribute(a):s.setAttribute(a,""+u)):g.mustUseProperty?s[g.propertyName]=u===null?g.type===3?!1:"":u:(a=g.attributeName,p=g.attributeNamespace,u===null?s.removeAttribute(a):(g=g.type,u=g===3||g===4&&u===!0?"":""+u,p?s.setAttributeNS(p,a,u):s.setAttribute(a,u))))}var Z=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fe=Symbol.for("react.element"),ge=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),V=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),qe=Symbol.for("react.suspense_list"),We=Symbol.for("react.memo"),ut=Symbol.for("react.lazy"),Xe=Symbol.for("react.offscreen"),Te=Symbol.iterator;function Le(s){return s===null||typeof s!="object"?null:(s=Te&&s[Te]||s["@@iterator"],typeof s=="function"?s:null)}var Fe=Object.assign,J;function O(s){if(J===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);J=a&&a[1]||""}return`
`+J+s}var Y=!1;function q(s,a){if(!s||Y)return"";Y=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(oe){var p=oe}Reflect.construct(s,[],a)}else{try{a.call()}catch(oe){p=oe}s.call(a.prototype)}else{try{throw Error()}catch(oe){p=oe}s()}}catch(oe){if(oe&&p&&typeof oe.stack=="string"){for(var g=oe.stack.split(`
`),x=p.stack.split(`
`),I=g.length-1,G=x.length-1;1<=I&&0<=G&&g[I]!==x[G];)G--;for(;1<=I&&0<=G;I--,G--)if(g[I]!==x[G]){if(I!==1||G!==1)do if(I--,G--,0>G||g[I]!==x[G]){var X=`
`+g[I].replace(" at new "," at ");return s.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",s.displayName)),X}while(1<=I&&0<=G);break}}}finally{Y=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?O(s):""}function K(s){switch(s.tag){case 5:return O(s.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 2:case 15:return s=q(s.type,!1),s;case 11:return s=q(s.type.render,!1),s;case 1:return s=q(s.type,!0),s;default:return""}}function le(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case k:return"Fragment";case ge:return"Portal";case C:return"Profiler";case P:return"StrictMode";case F:return"Suspense";case qe:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case V:return(s.displayName||"Context")+".Consumer";case L:return(s._context.displayName||"Context")+".Provider";case j:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case We:return a=s.displayName||null,a!==null?a:le(s.type)||"Memo";case ut:a=s._payload,s=s._init;try{return le(s(a))}catch{}}return null}function Ae(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return le(a);case 8:return a===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Re(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Pe(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Se(s){var a=Pe(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),p=""+s[a];if(!s.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,x=u.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return g.call(this)},set:function(I){p=""+I,x.call(this,I)}}),Object.defineProperty(s,a,{enumerable:u.enumerable}),{getValue:function(){return p},setValue:function(I){p=""+I},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function lt(s){s._valueTracker||(s._valueTracker=Se(s))}function it(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var u=a.getValue(),p="";return s&&(p=Pe(s)?s.checked?"true":"false":s.value),s=p,s!==u?(a.setValue(s),!0):!1}function Bt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function at(s,a){var u=a.checked;return Fe({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function zr(s,a){var u=a.defaultValue==null?"":a.defaultValue,p=a.checked!=null?a.checked:a.defaultChecked;u=Re(a.value!=null?a.value:u),s._wrapperState={initialChecked:p,initialValue:u,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Pt(s,a){a=a.checked,a!=null&&W(s,"checked",a,!1)}function Ue(s,a){Pt(s,a);var u=Re(a.value),p=a.type;if(u!=null)p==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(p==="submit"||p==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?Hr(s,a.type,u):a.hasOwnProperty("defaultValue")&&Hr(s,a.type,Re(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function Ar(s,a,u){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var p=a.type;if(!(p!=="submit"&&p!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,u||a===s.value||(s.value=a),s.defaultValue=a}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function Hr(s,a,u){(a!=="number"||Bt(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var Ir=Array.isArray;function Wr(s,a,u,p){if(s=s.options,a){a={};for(var g=0;g<u.length;g++)a["$"+u[g]]=!0;for(u=0;u<s.length;u++)g=a.hasOwnProperty("$"+s[u].value),s[u].selected!==g&&(s[u].selected=g),g&&p&&(s[u].defaultSelected=!0)}else{for(u=""+Re(u),a=null,g=0;g<s.length;g++){if(s[g].value===u){s[g].selected=!0,p&&(s[g].defaultSelected=!0);return}a!==null||s[g].disabled||(a=s[g])}a!==null&&(a.selected=!0)}}function Ds(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return Fe({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function wi(s,a){var u=a.value;if(u==null){if(u=a.children,a=a.defaultValue,u!=null){if(a!=null)throw Error(t(92));if(Ir(u)){if(1<u.length)throw Error(t(93));u=u[0]}a=u}a==null&&(a=""),u=a}s._wrapperState={initialValue:Re(u)}}function Cr(s,a){var u=Re(a.value),p=Re(a.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),a.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),p!=null&&(s.defaultValue=""+p)}function Ti(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function Ht(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wt(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?Ht(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Rr,Oa=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,u,p,g){MSApp.execUnsafeLocalFunction(function(){return s(a,u,p,g)})}:s})(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(Rr=Rr||document.createElement("div"),Rr.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Rr.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function Qn(s,a){if(a){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=a;return}}s.textContent=a}var Si={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ai=["Webkit","ms","Moz","O"];Object.keys(Si).forEach(function(s){Ai.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),Si[a]=Si[s]})});function Fs(s,a,u){return a==null||typeof a=="boolean"||a===""?"":u||typeof a!="number"||a===0||Si.hasOwnProperty(s)&&Si[s]?(""+a).trim():a+"px"}function Ls(s,a){s=s.style;for(var u in a)if(a.hasOwnProperty(u)){var p=u.indexOf("--")===0,g=Fs(u,a[u],p);u==="float"&&(u="cssFloat"),p?s.setProperty(u,g):s[u]=g}}var Ms=Fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Da(s,a){if(a){if(Ms[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function Fa(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ii=null;function Yi(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Qi=null,un=null,Mn=null;function Jn(s){if(s=mu(s)){if(typeof Qi!="function")throw Error(t(280));var a=s.stateNode;a&&(a=sf(a),Qi(s.stateNode,s.type,a))}}function Vn(s){un?Mn?Mn.push(s):Mn=[s]:un=s}function La(){if(un){var s=un,a=Mn;if(Mn=un=null,Jn(s),a)for(s=0;s<a.length;s++)Jn(a[s])}}function Ji(s,a){return s(a)}function Ma(){}var Zn=!1;function Va(s,a,u){if(Zn)return s(a,u);Zn=!0;try{return Ji(s,a,u)}finally{Zn=!1,(un!==null||Mn!==null)&&(Ma(),La())}}function $t(s,a){var u=s.stateNode;if(u===null)return null;var p=sf(u);if(p===null)return null;u=p[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(t(231,a,typeof u));return u}var Vs=!1;if(c)try{var tn={};Object.defineProperty(tn,"passive",{get:function(){Vs=!0}}),window.addEventListener("test",tn,tn),window.removeEventListener("test",tn,tn)}catch{Vs=!1}function Zi(s,a,u,p,g,x,I,G,X){var oe=Array.prototype.slice.call(arguments,3);try{a.apply(u,oe)}catch(ye){this.onError(ye)}}var es=!1,bs=null,R=!1,b=null,D={onError:function(s){es=!0,bs=s}};function M(s,a,u,p,g,x,I,G,X){es=!1,bs=null,Zi.apply(D,arguments)}function U(s,a,u,p,g,x,I,G,X){if(M.apply(this,arguments),es){if(es){var oe=bs;es=!1,bs=null}else throw Error(t(198));R||(R=!0,b=oe)}}function B(s){var a=s,u=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(u=a.return),s=a.return;while(s)}return a.tag===3?u:null}function re(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function ce(s){if(B(s)!==s)throw Error(t(188))}function ne(s){var a=s.alternate;if(!a){if(a=B(s),a===null)throw Error(t(188));return a!==s?null:s}for(var u=s,p=a;;){var g=u.return;if(g===null)break;var x=g.alternate;if(x===null){if(p=g.return,p!==null){u=p;continue}break}if(g.child===x.child){for(x=g.child;x;){if(x===u)return ce(g),s;if(x===p)return ce(g),a;x=x.sibling}throw Error(t(188))}if(u.return!==p.return)u=g,p=x;else{for(var I=!1,G=g.child;G;){if(G===u){I=!0,u=g,p=x;break}if(G===p){I=!0,p=g,u=x;break}G=G.sibling}if(!I){for(G=x.child;G;){if(G===u){I=!0,u=x,p=g;break}if(G===p){I=!0,p=x,u=g;break}G=G.sibling}if(!I)throw Error(t(189))}}if(u.alternate!==p)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?s:a}function se(s){return s=ne(s),s!==null?ae(s):null}function ae(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=ae(s);if(a!==null)return a;s=s.sibling}return null}var xe=e.unstable_scheduleCallback,Ne=e.unstable_cancelCallback,Me=e.unstable_shouldYield,Ie=e.unstable_requestPaint,Ee=e.unstable_now,Ze=e.unstable_getCurrentPriorityLevel,xt=e.unstable_ImmediatePriority,vt=e.unstable_UserBlockingPriority,Tt=e.unstable_NormalPriority,ei=e.unstable_LowPriority,Ci=e.unstable_IdlePriority,wn=null,Zt=null;function Us(s){if(Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(wn,s,void 0,(s.current.flags&128)===128)}catch{}}var Lt=Math.clz32?Math.clz32:Mc,Zl=Math.log,Lc=Math.LN2;function Mc(s){return s>>>=0,s===0?32:31-(Zl(s)/Lc|0)|0}var Po=64,ko=4194304;function Bs(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function ba(s,a){var u=s.pendingLanes;if(u===0)return 0;var p=0,g=s.suspendedLanes,x=s.pingedLanes,I=u&268435455;if(I!==0){var G=I&~g;G!==0?p=Bs(G):(x&=I,x!==0&&(p=Bs(x)))}else I=u&~g,I!==0?p=Bs(I):x!==0&&(p=Bs(x));if(p===0)return 0;if(a!==0&&a!==p&&(a&g)===0&&(g=p&-p,x=a&-a,g>=x||g===16&&(x&4194240)!==0))return a;if((p&4)!==0&&(p|=u&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=p;0<a;)u=31-Lt(a),g=1<<u,p|=s[u],a&=~g;return p}function z0(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ts(s,a){for(var u=s.suspendedLanes,p=s.pingedLanes,g=s.expirationTimes,x=s.pendingLanes;0<x;){var I=31-Lt(x),G=1<<I,X=g[I];X===-1?((G&u)===0||(G&p)!==0)&&(g[I]=z0(G,a)):X<=a&&(s.expiredLanes|=G),x&=~G}}function Tn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Ua(){var s=Po;return Po<<=1,(Po&4194240)===0&&(Po=64),s}function js(s){for(var a=[],u=0;31>u;u++)a.push(s);return a}function zs(s,a,u){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-Lt(a),s[a]=u}function Ot(s,a){var u=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var p=s.eventTimes;for(s=s.expirationTimes;0<u;){var g=31-Lt(u),x=1<<g;a[g]=0,p[g]=-1,s[g]=-1,u&=~x}}function Hs(s,a){var u=s.entangledLanes|=a;for(s=s.entanglements;u;){var p=31-Lt(u),g=1<<p;g&a|s[p]&a&&(s[p]|=a),u&=~g}}var dt=0;function Ws(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Vc,No,bc,Uc,Bc,eu=!1,Ri=[],Pr=null,ti=null,ri=null,$s=new Map,bn=new Map,Pi=[],H0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jc(s,a){switch(s){case"focusin":case"focusout":Pr=null;break;case"dragenter":case"dragleave":ti=null;break;case"mouseover":case"mouseout":ri=null;break;case"pointerover":case"pointerout":$s.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":bn.delete(a.pointerId)}}function cn(s,a,u,p,g,x){return s===null||s.nativeEvent!==x?(s={blockedOn:a,domEventName:u,eventSystemFlags:p,nativeEvent:x,targetContainers:[g]},a!==null&&(a=mu(a),a!==null&&No(a)),s):(s.eventSystemFlags|=p,a=s.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),s)}function W0(s,a,u,p,g){switch(a){case"focusin":return Pr=cn(Pr,s,a,u,p,g),!0;case"dragenter":return ti=cn(ti,s,a,u,p,g),!0;case"mouseover":return ri=cn(ri,s,a,u,p,g),!0;case"pointerover":var x=g.pointerId;return $s.set(x,cn($s.get(x)||null,s,a,u,p,g)),!0;case"gotpointercapture":return x=g.pointerId,bn.set(x,cn(bn.get(x)||null,s,a,u,p,g)),!0}return!1}function zc(s){var a=Wa(s.target);if(a!==null){var u=B(a);if(u!==null){if(a=u.tag,a===13){if(a=re(u),a!==null){s.blockedOn=a,Bc(s.priority,function(){bc(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function rs(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var u=Oo(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var p=new u.constructor(u.type,u);Ii=p,u.target.dispatchEvent(p),Ii=null}else return a=mu(u),a!==null&&No(a),s.blockedOn=u,!1;a.shift()}return!0}function Ba(s,a,u){rs(s)&&u.delete(a)}function Hc(){eu=!1,Pr!==null&&rs(Pr)&&(Pr=null),ti!==null&&rs(ti)&&(ti=null),ri!==null&&rs(ri)&&(ri=null),$s.forEach(Ba),bn.forEach(Ba)}function ni(s,a){s.blockedOn===a&&(s.blockedOn=null,eu||(eu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Hc)))}function ii(s){function a(g){return ni(g,s)}if(0<Ri.length){ni(Ri[0],s);for(var u=1;u<Ri.length;u++){var p=Ri[u];p.blockedOn===s&&(p.blockedOn=null)}}for(Pr!==null&&ni(Pr,s),ti!==null&&ni(ti,s),ri!==null&&ni(ri,s),$s.forEach(a),bn.forEach(a),u=0;u<Pi.length;u++)p=Pi[u],p.blockedOn===s&&(p.blockedOn=null);for(;0<Pi.length&&(u=Pi[0],u.blockedOn===null);)zc(u),u.blockedOn===null&&Pi.shift()}var ns=Z.ReactCurrentBatchConfig,Gs=!0;function jt(s,a,u,p){var g=dt,x=ns.transition;ns.transition=null;try{dt=1,tu(s,a,u,p)}finally{dt=g,ns.transition=x}}function $0(s,a,u,p){var g=dt,x=ns.transition;ns.transition=null;try{dt=4,tu(s,a,u,p)}finally{dt=g,ns.transition=x}}function tu(s,a,u,p){if(Gs){var g=Oo(s,a,u,p);if(g===null)rd(s,a,p,ja,u),jc(s,p);else if(W0(g,s,a,u,p))p.stopPropagation();else if(jc(s,p),a&4&&-1<H0.indexOf(s)){for(;g!==null;){var x=mu(g);if(x!==null&&Vc(x),x=Oo(s,a,u,p),x===null&&rd(s,a,p,ja,u),x===g)break;g=x}g!==null&&p.stopPropagation()}else rd(s,a,p,null,u)}}var ja=null;function Oo(s,a,u,p){if(ja=null,s=Yi(p),s=Wa(s),s!==null)if(a=B(s),a===null)s=null;else if(u=a.tag,u===13){if(s=re(a),s!==null)return s;s=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return ja=s,null}function ru(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case xt:return 1;case vt:return 4;case Tt:case ei:return 16;case Ci:return 536870912;default:return 16}default:return 16}}var Sn=null,Do=null,fn=null;function nu(){if(fn)return fn;var s,a=Do,u=a.length,p,g="value"in Sn?Sn.value:Sn.textContent,x=g.length;for(s=0;s<u&&a[s]===g[s];s++);var I=u-s;for(p=1;p<=I&&a[u-p]===g[x-p];p++);return fn=g.slice(s,1<p?1-p:void 0)}function Fo(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function ki(){return!0}function iu(){return!1}function kr(s){function a(u,p,g,x,I){this._reactName=u,this._targetInst=g,this.type=p,this.nativeEvent=x,this.target=I,this.currentTarget=null;for(var G in s)s.hasOwnProperty(G)&&(u=s[G],this[G]=u?u(x):x[G]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?ki:iu,this.isPropagationStopped=iu,this}return Fe(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=ki)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=ki)},persist:function(){},isPersistent:ki}),a}var si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lo=kr(si),Ni=Fe({},si,{view:0,detail:0}),G0=kr(Ni),Mo,is,Ks,za=Fe({},Ni,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oi,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ks&&(Ks&&s.type==="mousemove"?(Mo=s.screenX-Ks.screenX,is=s.screenY-Ks.screenY):is=Mo=0,Ks=s),Mo)},movementY:function(s){return"movementY"in s?s.movementY:is}}),Vo=kr(za),su=Fe({},za,{dataTransfer:0}),Wc=kr(su),bo=Fe({},Ni,{relatedTarget:0}),Uo=kr(bo),$c=Fe({},si,{animationName:0,elapsedTime:0,pseudoElement:0}),ss=kr($c),Gc=Fe({},si,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Kc=kr(Gc),qc=Fe({},si,{data:0}),au=kr(qc),Bo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yc(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Xc[s])?!!a[s]:!1}function Oi(){return Yc}var f=Fe({},Ni,{key:function(s){if(s.key){var a=Bo[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Fo(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?rn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oi,charCode:function(s){return s.type==="keypress"?Fo(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Fo(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),v=kr(f),T=Fe({},za,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),N=kr(T),ee=Fe({},Ni,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oi}),ue=kr(ee),De=Fe({},si,{propertyName:0,elapsedTime:0,pseudoElement:0}),St=kr(De),cr=Fe({},za,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),pt=kr(cr),gr=[9,13,27,32],rr=c&&"CompositionEvent"in window,Un=null;c&&"documentMode"in document&&(Un=document.documentMode);var An=c&&"TextEvent"in window&&!Un,Ha=c&&(!rr||Un&&8<Un&&11>=Un),jo=" ",Bg=!1;function jg(s,a){switch(s){case"keyup":return gr.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zg(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var zo=!1;function Y2(s,a){switch(s){case"compositionend":return zg(a);case"keypress":return a.which!==32?null:(Bg=!0,jo);case"textInput":return s=a.data,s===jo&&Bg?null:s;default:return null}}function Q2(s,a){if(zo)return s==="compositionend"||!rr&&jg(s,a)?(s=nu(),fn=Do=Sn=null,zo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Ha&&a.locale!=="ko"?null:a.data;default:return null}}var J2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hg(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!J2[s.type]:a==="textarea"}function Wg(s,a,u,p){Vn(p),a=tf(a,"onChange"),0<a.length&&(u=new Lo("onChange","change",null,u,p),s.push({event:u,listeners:a}))}var ou=null,lu=null;function Z2(s){l1(s,0)}function Qc(s){var a=Ko(s);if(it(a))return s}function eS(s,a){if(s==="change")return a}var $g=!1;if(c){var K0;if(c){var q0="oninput"in document;if(!q0){var Gg=document.createElement("div");Gg.setAttribute("oninput","return;"),q0=typeof Gg.oninput=="function"}K0=q0}else K0=!1;$g=K0&&(!document.documentMode||9<document.documentMode)}function Kg(){ou&&(ou.detachEvent("onpropertychange",qg),lu=ou=null)}function qg(s){if(s.propertyName==="value"&&Qc(lu)){var a=[];Wg(a,lu,s,Yi(s)),Va(Z2,a)}}function tS(s,a,u){s==="focusin"?(Kg(),ou=a,lu=u,ou.attachEvent("onpropertychange",qg)):s==="focusout"&&Kg()}function rS(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Qc(lu)}function nS(s,a){if(s==="click")return Qc(a)}function iS(s,a){if(s==="input"||s==="change")return Qc(a)}function sS(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var ai=typeof Object.is=="function"?Object.is:sS;function uu(s,a){if(ai(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var u=Object.keys(s),p=Object.keys(a);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var g=u[p];if(!h.call(a,g)||!ai(s[g],a[g]))return!1}return!0}function Xg(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Yg(s,a){var u=Xg(s);s=0;for(var p;u;){if(u.nodeType===3){if(p=s+u.textContent.length,s<=a&&p>=a)return{node:u,offset:a-s};s=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Xg(u)}}function Qg(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?Qg(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function Jg(){for(var s=window,a=Bt();a instanceof s.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)s=a.contentWindow;else break;a=Bt(s.document)}return a}function X0(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function aS(s){var a=Jg(),u=s.focusedElem,p=s.selectionRange;if(a!==u&&u&&u.ownerDocument&&Qg(u.ownerDocument.documentElement,u)){if(p!==null&&X0(u)){if(a=p.start,s=p.end,s===void 0&&(s=a),"selectionStart"in u)u.selectionStart=a,u.selectionEnd=Math.min(s,u.value.length);else if(s=(a=u.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var g=u.textContent.length,x=Math.min(p.start,g);p=p.end===void 0?x:Math.min(p.end,g),!s.extend&&x>p&&(g=p,p=x,x=g),g=Yg(u,x);var I=Yg(u,p);g&&I&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==I.node||s.focusOffset!==I.offset)&&(a=a.createRange(),a.setStart(g.node,g.offset),s.removeAllRanges(),x>p?(s.addRange(a),s.extend(I.node,I.offset)):(a.setEnd(I.node,I.offset),s.addRange(a)))}}for(a=[],s=u;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<a.length;u++)s=a[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var oS=c&&"documentMode"in document&&11>=document.documentMode,Ho=null,Y0=null,cu=null,Q0=!1;function Zg(s,a,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Q0||Ho==null||Ho!==Bt(p)||(p=Ho,"selectionStart"in p&&X0(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),cu&&uu(cu,p)||(cu=p,p=tf(Y0,"onSelect"),0<p.length&&(a=new Lo("onSelect","select",null,a,u),s.push({event:a,listeners:p}),a.target=Ho)))}function Jc(s,a){var u={};return u[s.toLowerCase()]=a.toLowerCase(),u["Webkit"+s]="webkit"+a,u["Moz"+s]="moz"+a,u}var Wo={animationend:Jc("Animation","AnimationEnd"),animationiteration:Jc("Animation","AnimationIteration"),animationstart:Jc("Animation","AnimationStart"),transitionend:Jc("Transition","TransitionEnd")},J0={},e1={};c&&(e1=document.createElement("div").style,"AnimationEvent"in window||(delete Wo.animationend.animation,delete Wo.animationiteration.animation,delete Wo.animationstart.animation),"TransitionEvent"in window||delete Wo.transitionend.transition);function Zc(s){if(J0[s])return J0[s];if(!Wo[s])return s;var a=Wo[s],u;for(u in a)if(a.hasOwnProperty(u)&&u in e1)return J0[s]=a[u];return s}var t1=Zc("animationend"),r1=Zc("animationiteration"),n1=Zc("animationstart"),i1=Zc("transitionend"),s1=new Map,a1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qs(s,a){s1.set(s,a),o(a,[s])}for(var Z0=0;Z0<a1.length;Z0++){var ed=a1[Z0],lS=ed.toLowerCase(),uS=ed[0].toUpperCase()+ed.slice(1);qs(lS,"on"+uS)}qs(t1,"onAnimationEnd"),qs(r1,"onAnimationIteration"),qs(n1,"onAnimationStart"),qs("dblclick","onDoubleClick"),qs("focusin","onFocus"),qs("focusout","onBlur"),qs(i1,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cS=new Set("cancel close invalid load scroll toggle".split(" ").concat(fu));function o1(s,a,u){var p=s.type||"unknown-event";s.currentTarget=u,U(p,a,void 0,s),s.currentTarget=null}function l1(s,a){a=(a&4)!==0;for(var u=0;u<s.length;u++){var p=s[u],g=p.event;p=p.listeners;e:{var x=void 0;if(a)for(var I=p.length-1;0<=I;I--){var G=p[I],X=G.instance,oe=G.currentTarget;if(G=G.listener,X!==x&&g.isPropagationStopped())break e;o1(g,G,oe),x=X}else for(I=0;I<p.length;I++){if(G=p[I],X=G.instance,oe=G.currentTarget,G=G.listener,X!==x&&g.isPropagationStopped())break e;o1(g,G,oe),x=X}}}if(R)throw s=b,R=!1,b=null,s}function Mt(s,a){var u=a[ld];u===void 0&&(u=a[ld]=new Set);var p=s+"__bubble";u.has(p)||(u1(a,s,2,!1),u.add(p))}function td(s,a,u){var p=0;a&&(p|=4),u1(u,s,p,a)}var ef="_reactListening"+Math.random().toString(36).slice(2);function hu(s){if(!s[ef]){s[ef]=!0,n.forEach(function(u){u!=="selectionchange"&&(cS.has(u)||td(u,!1,s),td(u,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[ef]||(a[ef]=!0,td("selectionchange",!1,a))}}function u1(s,a,u,p){switch(ru(a)){case 1:var g=jt;break;case 4:g=$0;break;default:g=tu}u=g.bind(null,a,u,s),g=void 0,!Vs||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),p?g!==void 0?s.addEventListener(a,u,{capture:!0,passive:g}):s.addEventListener(a,u,!0):g!==void 0?s.addEventListener(a,u,{passive:g}):s.addEventListener(a,u,!1)}function rd(s,a,u,p,g){var x=p;if((a&1)===0&&(a&2)===0&&p!==null)e:for(;;){if(p===null)return;var I=p.tag;if(I===3||I===4){var G=p.stateNode.containerInfo;if(G===g||G.nodeType===8&&G.parentNode===g)break;if(I===4)for(I=p.return;I!==null;){var X=I.tag;if((X===3||X===4)&&(X=I.stateNode.containerInfo,X===g||X.nodeType===8&&X.parentNode===g))return;I=I.return}for(;G!==null;){if(I=Wa(G),I===null)return;if(X=I.tag,X===5||X===6){p=x=I;continue e}G=G.parentNode}}p=p.return}Va(function(){var oe=x,ye=Yi(u),we=[];e:{var _e=s1.get(s);if(_e!==void 0){var Ve=Lo,ze=s;switch(s){case"keypress":if(Fo(u)===0)break e;case"keydown":case"keyup":Ve=v;break;case"focusin":ze="focus",Ve=Uo;break;case"focusout":ze="blur",Ve=Uo;break;case"beforeblur":case"afterblur":Ve=Uo;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ve=Vo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ve=Wc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ve=ue;break;case t1:case r1:case n1:Ve=ss;break;case i1:Ve=St;break;case"scroll":Ve=G0;break;case"wheel":Ve=pt;break;case"copy":case"cut":case"paste":Ve=Kc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ve=N}var He=(a&4)!==0,er=!He&&s==="scroll",te=He?_e!==null?_e+"Capture":null:_e;He=[];for(var Q=oe,ie;Q!==null;){ie=Q;var Ce=ie.stateNode;if(ie.tag===5&&Ce!==null&&(ie=Ce,te!==null&&(Ce=$t(Q,te),Ce!=null&&He.push(du(Q,Ce,ie)))),er)break;Q=Q.return}0<He.length&&(_e=new Ve(_e,ze,null,u,ye),we.push({event:_e,listeners:He}))}}if((a&7)===0){e:{if(_e=s==="mouseover"||s==="pointerover",Ve=s==="mouseout"||s==="pointerout",_e&&u!==Ii&&(ze=u.relatedTarget||u.fromElement)&&(Wa(ze)||ze[as]))break e;if((Ve||_e)&&(_e=ye.window===ye?ye:(_e=ye.ownerDocument)?_e.defaultView||_e.parentWindow:window,Ve?(ze=u.relatedTarget||u.toElement,Ve=oe,ze=ze?Wa(ze):null,ze!==null&&(er=B(ze),ze!==er||ze.tag!==5&&ze.tag!==6)&&(ze=null)):(Ve=null,ze=oe),Ve!==ze)){if(He=Vo,Ce="onMouseLeave",te="onMouseEnter",Q="mouse",(s==="pointerout"||s==="pointerover")&&(He=N,Ce="onPointerLeave",te="onPointerEnter",Q="pointer"),er=Ve==null?_e:Ko(Ve),ie=ze==null?_e:Ko(ze),_e=new He(Ce,Q+"leave",Ve,u,ye),_e.target=er,_e.relatedTarget=ie,Ce=null,Wa(ye)===oe&&(He=new He(te,Q+"enter",ze,u,ye),He.target=ie,He.relatedTarget=er,Ce=He),er=Ce,Ve&&ze)t:{for(He=Ve,te=ze,Q=0,ie=He;ie;ie=$o(ie))Q++;for(ie=0,Ce=te;Ce;Ce=$o(Ce))ie++;for(;0<Q-ie;)He=$o(He),Q--;for(;0<ie-Q;)te=$o(te),ie--;for(;Q--;){if(He===te||te!==null&&He===te.alternate)break t;He=$o(He),te=$o(te)}He=null}else He=null;Ve!==null&&c1(we,_e,Ve,He,!1),ze!==null&&er!==null&&c1(we,er,ze,He,!0)}}e:{if(_e=oe?Ko(oe):window,Ve=_e.nodeName&&_e.nodeName.toLowerCase(),Ve==="select"||Ve==="input"&&_e.type==="file")var Ge=eS;else if(Hg(_e))if($g)Ge=iS;else{Ge=rS;var Ye=tS}else(Ve=_e.nodeName)&&Ve.toLowerCase()==="input"&&(_e.type==="checkbox"||_e.type==="radio")&&(Ge=nS);if(Ge&&(Ge=Ge(s,oe))){Wg(we,Ge,u,ye);break e}Ye&&Ye(s,_e,oe),s==="focusout"&&(Ye=_e._wrapperState)&&Ye.controlled&&_e.type==="number"&&Hr(_e,"number",_e.value)}switch(Ye=oe?Ko(oe):window,s){case"focusin":(Hg(Ye)||Ye.contentEditable==="true")&&(Ho=Ye,Y0=oe,cu=null);break;case"focusout":cu=Y0=Ho=null;break;case"mousedown":Q0=!0;break;case"contextmenu":case"mouseup":case"dragend":Q0=!1,Zg(we,u,ye);break;case"selectionchange":if(oS)break;case"keydown":case"keyup":Zg(we,u,ye)}var Qe;if(rr)e:{switch(s){case"compositionstart":var et="onCompositionStart";break e;case"compositionend":et="onCompositionEnd";break e;case"compositionupdate":et="onCompositionUpdate";break e}et=void 0}else zo?jg(s,u)&&(et="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(et="onCompositionStart");et&&(Ha&&u.locale!=="ko"&&(zo||et!=="onCompositionStart"?et==="onCompositionEnd"&&zo&&(Qe=nu()):(Sn=ye,Do="value"in Sn?Sn.value:Sn.textContent,zo=!0)),Ye=tf(oe,et),0<Ye.length&&(et=new au(et,s,null,u,ye),we.push({event:et,listeners:Ye}),Qe?et.data=Qe:(Qe=zg(u),Qe!==null&&(et.data=Qe)))),(Qe=An?Y2(s,u):Q2(s,u))&&(oe=tf(oe,"onBeforeInput"),0<oe.length&&(ye=new au("onBeforeInput","beforeinput",null,u,ye),we.push({event:ye,listeners:oe}),ye.data=Qe))}l1(we,a)})}function du(s,a,u){return{instance:s,listener:a,currentTarget:u}}function tf(s,a){for(var u=a+"Capture",p=[];s!==null;){var g=s,x=g.stateNode;g.tag===5&&x!==null&&(g=x,x=$t(s,u),x!=null&&p.unshift(du(s,x,g)),x=$t(s,a),x!=null&&p.push(du(s,x,g))),s=s.return}return p}function $o(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function c1(s,a,u,p,g){for(var x=a._reactName,I=[];u!==null&&u!==p;){var G=u,X=G.alternate,oe=G.stateNode;if(X!==null&&X===p)break;G.tag===5&&oe!==null&&(G=oe,g?(X=$t(u,x),X!=null&&I.unshift(du(u,X,G))):g||(X=$t(u,x),X!=null&&I.push(du(u,X,G)))),u=u.return}I.length!==0&&s.push({event:a,listeners:I})}var fS=/\r\n?/g,hS=/\u0000|\uFFFD/g;function f1(s){return(typeof s=="string"?s:""+s).replace(fS,`
`).replace(hS,"")}function rf(s,a,u){if(a=f1(a),f1(s)!==a&&u)throw Error(t(425))}function nf(){}var nd=null,id=null;function sd(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var ad=typeof setTimeout=="function"?setTimeout:void 0,dS=typeof clearTimeout=="function"?clearTimeout:void 0,h1=typeof Promise=="function"?Promise:void 0,pS=typeof queueMicrotask=="function"?queueMicrotask:typeof h1<"u"?function(s){return h1.resolve(null).then(s).catch(mS)}:ad;function mS(s){setTimeout(function(){throw s})}function od(s,a){var u=a,p=0;do{var g=u.nextSibling;if(s.removeChild(u),g&&g.nodeType===8)if(u=g.data,u==="/$"){if(p===0){s.removeChild(g),ii(a);return}p--}else u!=="$"&&u!=="$?"&&u!=="$!"||p++;u=g}while(u);ii(a)}function Xs(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function d1(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return s;a--}else u==="/$"&&a++}s=s.previousSibling}return null}var Go=Math.random().toString(36).slice(2),Di="__reactFiber$"+Go,pu="__reactProps$"+Go,as="__reactContainer$"+Go,ld="__reactEvents$"+Go,gS="__reactListeners$"+Go,vS="__reactHandles$"+Go;function Wa(s){var a=s[Di];if(a)return a;for(var u=s.parentNode;u;){if(a=u[as]||u[Di]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(s=d1(s);s!==null;){if(u=s[Di])return u;s=d1(s)}return a}s=u,u=s.parentNode}return null}function mu(s){return s=s[Di]||s[as],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Ko(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function sf(s){return s[pu]||null}var ud=[],qo=-1;function Ys(s){return{current:s}}function Vt(s){0>qo||(s.current=ud[qo],ud[qo]=null,qo--)}function Dt(s,a){qo++,ud[qo]=s.current,s.current=a}var Qs={},$r=Ys(Qs),hn=Ys(!1),$a=Qs;function Xo(s,a){var u=s.type.contextTypes;if(!u)return Qs;var p=s.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===a)return p.__reactInternalMemoizedMaskedChildContext;var g={},x;for(x in u)g[x]=a[x];return p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=g),g}function dn(s){return s=s.childContextTypes,s!=null}function af(){Vt(hn),Vt($r)}function p1(s,a,u){if($r.current!==Qs)throw Error(t(168));Dt($r,a),Dt(hn,u)}function m1(s,a,u){var p=s.stateNode;if(a=a.childContextTypes,typeof p.getChildContext!="function")return u;p=p.getChildContext();for(var g in p)if(!(g in a))throw Error(t(108,Ae(s)||"Unknown",g));return Fe({},u,p)}function of(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Qs,$a=$r.current,Dt($r,s),Dt(hn,hn.current),!0}function g1(s,a,u){var p=s.stateNode;if(!p)throw Error(t(169));u?(s=m1(s,a,$a),p.__reactInternalMemoizedMergedChildContext=s,Vt(hn),Vt($r),Dt($r,s)):Vt(hn),Dt(hn,u)}var os=null,lf=!1,cd=!1;function v1(s){os===null?os=[s]:os.push(s)}function _S(s){lf=!0,v1(s)}function Js(){if(!cd&&os!==null){cd=!0;var s=0,a=dt;try{var u=os;for(dt=1;s<u.length;s++){var p=u[s];do p=p(!0);while(p!==null)}os=null,lf=!1}catch(g){throw os!==null&&(os=os.slice(s+1)),xe(xt,Js),g}finally{dt=a,cd=!1}}return null}var Yo=[],Qo=0,uf=null,cf=0,Bn=[],jn=0,Ga=null,ls=1,us="";function Ka(s,a){Yo[Qo++]=cf,Yo[Qo++]=uf,uf=s,cf=a}function _1(s,a,u){Bn[jn++]=ls,Bn[jn++]=us,Bn[jn++]=Ga,Ga=s;var p=ls;s=us;var g=32-Lt(p)-1;p&=~(1<<g),u+=1;var x=32-Lt(a)+g;if(30<x){var I=g-g%5;x=(p&(1<<I)-1).toString(32),p>>=I,g-=I,ls=1<<32-Lt(a)+g|u<<g|p,us=x+s}else ls=1<<x|u<<g|p,us=s}function fd(s){s.return!==null&&(Ka(s,1),_1(s,1,0))}function hd(s){for(;s===uf;)uf=Yo[--Qo],Yo[Qo]=null,cf=Yo[--Qo],Yo[Qo]=null;for(;s===Ga;)Ga=Bn[--jn],Bn[jn]=null,us=Bn[--jn],Bn[jn]=null,ls=Bn[--jn],Bn[jn]=null}var In=null,Cn=null,zt=!1,oi=null;function y1(s,a){var u=$n(5,null,null,0);u.elementType="DELETED",u.stateNode=a,u.return=s,a=s.deletions,a===null?(s.deletions=[u],s.flags|=16):a.push(u)}function x1(s,a){switch(s.tag){case 5:var u=s.type;return a=a.nodeType!==1||u.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,In=s,Cn=Xs(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,In=s,Cn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(u=Ga!==null?{id:ls,overflow:us}:null,s.memoizedState={dehydrated:a,treeContext:u,retryLane:1073741824},u=$n(18,null,null,0),u.stateNode=a,u.return=s,s.child=u,In=s,Cn=null,!0):!1;default:return!1}}function dd(s){return(s.mode&1)!==0&&(s.flags&128)===0}function pd(s){if(zt){var a=Cn;if(a){var u=a;if(!x1(s,a)){if(dd(s))throw Error(t(418));a=Xs(u.nextSibling);var p=In;a&&x1(s,a)?y1(p,u):(s.flags=s.flags&-4097|2,zt=!1,In=s)}}else{if(dd(s))throw Error(t(418));s.flags=s.flags&-4097|2,zt=!1,In=s}}}function E1(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;In=s}function ff(s){if(s!==In)return!1;if(!zt)return E1(s),zt=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!sd(s.type,s.memoizedProps)),a&&(a=Cn)){if(dd(s))throw w1(),Error(t(418));for(;a;)y1(s,a),a=Xs(a.nextSibling)}if(E1(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(a===0){Cn=Xs(s.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++}s=s.nextSibling}Cn=null}}else Cn=In?Xs(s.stateNode.nextSibling):null;return!0}function w1(){for(var s=Cn;s;)s=Xs(s.nextSibling)}function Jo(){Cn=In=null,zt=!1}function md(s){oi===null?oi=[s]:oi.push(s)}var yS=Z.ReactCurrentBatchConfig;function gu(s,a,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var p=u.stateNode}if(!p)throw Error(t(147,s));var g=p,x=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===x?a.ref:(a=function(I){var G=g.refs;I===null?delete G[x]:G[x]=I},a._stringRef=x,a)}if(typeof s!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,s))}return s}function hf(s,a){throw s=Object.prototype.toString.call(a),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function T1(s){var a=s._init;return a(s._payload)}function S1(s){function a(te,Q){if(s){var ie=te.deletions;ie===null?(te.deletions=[Q],te.flags|=16):ie.push(Q)}}function u(te,Q){if(!s)return null;for(;Q!==null;)a(te,Q),Q=Q.sibling;return null}function p(te,Q){for(te=new Map;Q!==null;)Q.key!==null?te.set(Q.key,Q):te.set(Q.index,Q),Q=Q.sibling;return te}function g(te,Q){return te=aa(te,Q),te.index=0,te.sibling=null,te}function x(te,Q,ie){return te.index=ie,s?(ie=te.alternate,ie!==null?(ie=ie.index,ie<Q?(te.flags|=2,Q):ie):(te.flags|=2,Q)):(te.flags|=1048576,Q)}function I(te){return s&&te.alternate===null&&(te.flags|=2),te}function G(te,Q,ie,Ce){return Q===null||Q.tag!==6?(Q=ap(ie,te.mode,Ce),Q.return=te,Q):(Q=g(Q,ie),Q.return=te,Q)}function X(te,Q,ie,Ce){var Ge=ie.type;return Ge===k?ye(te,Q,ie.props.children,Ce,ie.key):Q!==null&&(Q.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===ut&&T1(Ge)===Q.type)?(Ce=g(Q,ie.props),Ce.ref=gu(te,Q,ie),Ce.return=te,Ce):(Ce=Mf(ie.type,ie.key,ie.props,null,te.mode,Ce),Ce.ref=gu(te,Q,ie),Ce.return=te,Ce)}function oe(te,Q,ie,Ce){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==ie.containerInfo||Q.stateNode.implementation!==ie.implementation?(Q=op(ie,te.mode,Ce),Q.return=te,Q):(Q=g(Q,ie.children||[]),Q.return=te,Q)}function ye(te,Q,ie,Ce,Ge){return Q===null||Q.tag!==7?(Q=to(ie,te.mode,Ce,Ge),Q.return=te,Q):(Q=g(Q,ie),Q.return=te,Q)}function we(te,Q,ie){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Q=ap(""+Q,te.mode,ie),Q.return=te,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case fe:return ie=Mf(Q.type,Q.key,Q.props,null,te.mode,ie),ie.ref=gu(te,null,Q),ie.return=te,ie;case ge:return Q=op(Q,te.mode,ie),Q.return=te,Q;case ut:var Ce=Q._init;return we(te,Ce(Q._payload),ie)}if(Ir(Q)||Le(Q))return Q=to(Q,te.mode,ie,null),Q.return=te,Q;hf(te,Q)}return null}function _e(te,Q,ie,Ce){var Ge=Q!==null?Q.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number")return Ge!==null?null:G(te,Q,""+ie,Ce);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case fe:return ie.key===Ge?X(te,Q,ie,Ce):null;case ge:return ie.key===Ge?oe(te,Q,ie,Ce):null;case ut:return Ge=ie._init,_e(te,Q,Ge(ie._payload),Ce)}if(Ir(ie)||Le(ie))return Ge!==null?null:ye(te,Q,ie,Ce,null);hf(te,ie)}return null}function Ve(te,Q,ie,Ce,Ge){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number")return te=te.get(ie)||null,G(Q,te,""+Ce,Ge);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case fe:return te=te.get(Ce.key===null?ie:Ce.key)||null,X(Q,te,Ce,Ge);case ge:return te=te.get(Ce.key===null?ie:Ce.key)||null,oe(Q,te,Ce,Ge);case ut:var Ye=Ce._init;return Ve(te,Q,ie,Ye(Ce._payload),Ge)}if(Ir(Ce)||Le(Ce))return te=te.get(ie)||null,ye(Q,te,Ce,Ge,null);hf(Q,Ce)}return null}function ze(te,Q,ie,Ce){for(var Ge=null,Ye=null,Qe=Q,et=Q=0,yr=null;Qe!==null&&et<ie.length;et++){Qe.index>et?(yr=Qe,Qe=null):yr=Qe.sibling;var _t=_e(te,Qe,ie[et],Ce);if(_t===null){Qe===null&&(Qe=yr);break}s&&Qe&&_t.alternate===null&&a(te,Qe),Q=x(_t,Q,et),Ye===null?Ge=_t:Ye.sibling=_t,Ye=_t,Qe=yr}if(et===ie.length)return u(te,Qe),zt&&Ka(te,et),Ge;if(Qe===null){for(;et<ie.length;et++)Qe=we(te,ie[et],Ce),Qe!==null&&(Q=x(Qe,Q,et),Ye===null?Ge=Qe:Ye.sibling=Qe,Ye=Qe);return zt&&Ka(te,et),Ge}for(Qe=p(te,Qe);et<ie.length;et++)yr=Ve(Qe,te,et,ie[et],Ce),yr!==null&&(s&&yr.alternate!==null&&Qe.delete(yr.key===null?et:yr.key),Q=x(yr,Q,et),Ye===null?Ge=yr:Ye.sibling=yr,Ye=yr);return s&&Qe.forEach(function(oa){return a(te,oa)}),zt&&Ka(te,et),Ge}function He(te,Q,ie,Ce){var Ge=Le(ie);if(typeof Ge!="function")throw Error(t(150));if(ie=Ge.call(ie),ie==null)throw Error(t(151));for(var Ye=Ge=null,Qe=Q,et=Q=0,yr=null,_t=ie.next();Qe!==null&&!_t.done;et++,_t=ie.next()){Qe.index>et?(yr=Qe,Qe=null):yr=Qe.sibling;var oa=_e(te,Qe,_t.value,Ce);if(oa===null){Qe===null&&(Qe=yr);break}s&&Qe&&oa.alternate===null&&a(te,Qe),Q=x(oa,Q,et),Ye===null?Ge=oa:Ye.sibling=oa,Ye=oa,Qe=yr}if(_t.done)return u(te,Qe),zt&&Ka(te,et),Ge;if(Qe===null){for(;!_t.done;et++,_t=ie.next())_t=we(te,_t.value,Ce),_t!==null&&(Q=x(_t,Q,et),Ye===null?Ge=_t:Ye.sibling=_t,Ye=_t);return zt&&Ka(te,et),Ge}for(Qe=p(te,Qe);!_t.done;et++,_t=ie.next())_t=Ve(Qe,te,et,_t.value,Ce),_t!==null&&(s&&_t.alternate!==null&&Qe.delete(_t.key===null?et:_t.key),Q=x(_t,Q,et),Ye===null?Ge=_t:Ye.sibling=_t,Ye=_t);return s&&Qe.forEach(function(JS){return a(te,JS)}),zt&&Ka(te,et),Ge}function er(te,Q,ie,Ce){if(typeof ie=="object"&&ie!==null&&ie.type===k&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case fe:e:{for(var Ge=ie.key,Ye=Q;Ye!==null;){if(Ye.key===Ge){if(Ge=ie.type,Ge===k){if(Ye.tag===7){u(te,Ye.sibling),Q=g(Ye,ie.props.children),Q.return=te,te=Q;break e}}else if(Ye.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===ut&&T1(Ge)===Ye.type){u(te,Ye.sibling),Q=g(Ye,ie.props),Q.ref=gu(te,Ye,ie),Q.return=te,te=Q;break e}u(te,Ye);break}else a(te,Ye);Ye=Ye.sibling}ie.type===k?(Q=to(ie.props.children,te.mode,Ce,ie.key),Q.return=te,te=Q):(Ce=Mf(ie.type,ie.key,ie.props,null,te.mode,Ce),Ce.ref=gu(te,Q,ie),Ce.return=te,te=Ce)}return I(te);case ge:e:{for(Ye=ie.key;Q!==null;){if(Q.key===Ye)if(Q.tag===4&&Q.stateNode.containerInfo===ie.containerInfo&&Q.stateNode.implementation===ie.implementation){u(te,Q.sibling),Q=g(Q,ie.children||[]),Q.return=te,te=Q;break e}else{u(te,Q);break}else a(te,Q);Q=Q.sibling}Q=op(ie,te.mode,Ce),Q.return=te,te=Q}return I(te);case ut:return Ye=ie._init,er(te,Q,Ye(ie._payload),Ce)}if(Ir(ie))return ze(te,Q,ie,Ce);if(Le(ie))return He(te,Q,ie,Ce);hf(te,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"?(ie=""+ie,Q!==null&&Q.tag===6?(u(te,Q.sibling),Q=g(Q,ie),Q.return=te,te=Q):(u(te,Q),Q=ap(ie,te.mode,Ce),Q.return=te,te=Q),I(te)):u(te,Q)}return er}var Zo=S1(!0),A1=S1(!1),df=Ys(null),pf=null,el=null,gd=null;function vd(){gd=el=pf=null}function _d(s){var a=df.current;Vt(df),s._currentValue=a}function yd(s,a,u){for(;s!==null;){var p=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,p!==null&&(p.childLanes|=a)):p!==null&&(p.childLanes&a)!==a&&(p.childLanes|=a),s===u)break;s=s.return}}function tl(s,a){pf=s,gd=el=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(pn=!0),s.firstContext=null)}function zn(s){var a=s._currentValue;if(gd!==s)if(s={context:s,memoizedValue:a,next:null},el===null){if(pf===null)throw Error(t(308));el=s,pf.dependencies={lanes:0,firstContext:s}}else el=el.next=s;return a}var qa=null;function xd(s){qa===null?qa=[s]:qa.push(s)}function I1(s,a,u,p){var g=a.interleaved;return g===null?(u.next=u,xd(a)):(u.next=g.next,g.next=u),a.interleaved=u,cs(s,p)}function cs(s,a){s.lanes|=a;var u=s.alternate;for(u!==null&&(u.lanes|=a),u=s,s=s.return;s!==null;)s.childLanes|=a,u=s.alternate,u!==null&&(u.childLanes|=a),u=s,s=s.return;return u.tag===3?u.stateNode:null}var Zs=!1;function Ed(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function C1(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function fs(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function ea(s,a,u){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,(gt&2)!==0){var g=p.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),p.pending=a,cs(s,u)}return g=p.interleaved,g===null?(a.next=a,xd(p)):(a.next=g.next,g.next=a),p.interleaved=a,cs(s,u)}function mf(s,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194240)!==0)){var p=a.lanes;p&=s.pendingLanes,u|=p,a.lanes=u,Hs(s,u)}}function R1(s,a){var u=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var g=null,x=null;if(u=u.firstBaseUpdate,u!==null){do{var I={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};x===null?g=x=I:x=x.next=I,u=u.next}while(u!==null);x===null?g=x=a:x=x.next=a}else g=x=a;u={baseState:p.baseState,firstBaseUpdate:g,lastBaseUpdate:x,shared:p.shared,effects:p.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=a:s.next=a,u.lastBaseUpdate=a}function gf(s,a,u,p){var g=s.updateQueue;Zs=!1;var x=g.firstBaseUpdate,I=g.lastBaseUpdate,G=g.shared.pending;if(G!==null){g.shared.pending=null;var X=G,oe=X.next;X.next=null,I===null?x=oe:I.next=oe,I=X;var ye=s.alternate;ye!==null&&(ye=ye.updateQueue,G=ye.lastBaseUpdate,G!==I&&(G===null?ye.firstBaseUpdate=oe:G.next=oe,ye.lastBaseUpdate=X))}if(x!==null){var we=g.baseState;I=0,ye=oe=X=null,G=x;do{var _e=G.lane,Ve=G.eventTime;if((p&_e)===_e){ye!==null&&(ye=ye.next={eventTime:Ve,lane:0,tag:G.tag,payload:G.payload,callback:G.callback,next:null});e:{var ze=s,He=G;switch(_e=a,Ve=u,He.tag){case 1:if(ze=He.payload,typeof ze=="function"){we=ze.call(Ve,we,_e);break e}we=ze;break e;case 3:ze.flags=ze.flags&-65537|128;case 0:if(ze=He.payload,_e=typeof ze=="function"?ze.call(Ve,we,_e):ze,_e==null)break e;we=Fe({},we,_e);break e;case 2:Zs=!0}}G.callback!==null&&G.lane!==0&&(s.flags|=64,_e=g.effects,_e===null?g.effects=[G]:_e.push(G))}else Ve={eventTime:Ve,lane:_e,tag:G.tag,payload:G.payload,callback:G.callback,next:null},ye===null?(oe=ye=Ve,X=we):ye=ye.next=Ve,I|=_e;if(G=G.next,G===null){if(G=g.shared.pending,G===null)break;_e=G,G=_e.next,_e.next=null,g.lastBaseUpdate=_e,g.shared.pending=null}}while(!0);if(ye===null&&(X=we),g.baseState=X,g.firstBaseUpdate=oe,g.lastBaseUpdate=ye,a=g.shared.interleaved,a!==null){g=a;do I|=g.lane,g=g.next;while(g!==a)}else x===null&&(g.shared.lanes=0);Qa|=I,s.lanes=I,s.memoizedState=we}}function P1(s,a,u){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var p=s[a],g=p.callback;if(g!==null){if(p.callback=null,p=u,typeof g!="function")throw Error(t(191,g));g.call(p)}}}var vu={},Fi=Ys(vu),_u=Ys(vu),yu=Ys(vu);function Xa(s){if(s===vu)throw Error(t(174));return s}function wd(s,a){switch(Dt(yu,a),Dt(_u,s),Dt(Fi,vu),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Wt(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=Wt(a,s)}Vt(Fi),Dt(Fi,a)}function rl(){Vt(Fi),Vt(_u),Vt(yu)}function k1(s){Xa(yu.current);var a=Xa(Fi.current),u=Wt(a,s.type);a!==u&&(Dt(_u,s),Dt(Fi,u))}function Td(s){_u.current===s&&(Vt(Fi),Vt(_u))}var Gt=Ys(0);function vf(s){for(var a=s;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Sd=[];function Ad(){for(var s=0;s<Sd.length;s++)Sd[s]._workInProgressVersionPrimary=null;Sd.length=0}var _f=Z.ReactCurrentDispatcher,Id=Z.ReactCurrentBatchConfig,Ya=0,Kt=null,fr=null,vr=null,yf=!1,xu=!1,Eu=0,xS=0;function Gr(){throw Error(t(321))}function Cd(s,a){if(a===null)return!1;for(var u=0;u<a.length&&u<s.length;u++)if(!ai(s[u],a[u]))return!1;return!0}function Rd(s,a,u,p,g,x){if(Ya=x,Kt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,_f.current=s===null||s.memoizedState===null?SS:AS,s=u(p,g),xu){x=0;do{if(xu=!1,Eu=0,25<=x)throw Error(t(301));x+=1,vr=fr=null,a.updateQueue=null,_f.current=IS,s=u(p,g)}while(xu)}if(_f.current=wf,a=fr!==null&&fr.next!==null,Ya=0,vr=fr=Kt=null,yf=!1,a)throw Error(t(300));return s}function Pd(){var s=Eu!==0;return Eu=0,s}function Li(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vr===null?Kt.memoizedState=vr=s:vr=vr.next=s,vr}function Hn(){if(fr===null){var s=Kt.alternate;s=s!==null?s.memoizedState:null}else s=fr.next;var a=vr===null?Kt.memoizedState:vr.next;if(a!==null)vr=a,fr=s;else{if(s===null)throw Error(t(310));fr=s,s={memoizedState:fr.memoizedState,baseState:fr.baseState,baseQueue:fr.baseQueue,queue:fr.queue,next:null},vr===null?Kt.memoizedState=vr=s:vr=vr.next=s}return vr}function wu(s,a){return typeof a=="function"?a(s):a}function kd(s){var a=Hn(),u=a.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var p=fr,g=p.baseQueue,x=u.pending;if(x!==null){if(g!==null){var I=g.next;g.next=x.next,x.next=I}p.baseQueue=g=x,u.pending=null}if(g!==null){x=g.next,p=p.baseState;var G=I=null,X=null,oe=x;do{var ye=oe.lane;if((Ya&ye)===ye)X!==null&&(X=X.next={lane:0,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),p=oe.hasEagerState?oe.eagerState:s(p,oe.action);else{var we={lane:ye,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null};X===null?(G=X=we,I=p):X=X.next=we,Kt.lanes|=ye,Qa|=ye}oe=oe.next}while(oe!==null&&oe!==x);X===null?I=p:X.next=G,ai(p,a.memoizedState)||(pn=!0),a.memoizedState=p,a.baseState=I,a.baseQueue=X,u.lastRenderedState=p}if(s=u.interleaved,s!==null){g=s;do x=g.lane,Kt.lanes|=x,Qa|=x,g=g.next;while(g!==s)}else g===null&&(u.lanes=0);return[a.memoizedState,u.dispatch]}function Nd(s){var a=Hn(),u=a.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var p=u.dispatch,g=u.pending,x=a.memoizedState;if(g!==null){u.pending=null;var I=g=g.next;do x=s(x,I.action),I=I.next;while(I!==g);ai(x,a.memoizedState)||(pn=!0),a.memoizedState=x,a.baseQueue===null&&(a.baseState=x),u.lastRenderedState=x}return[x,p]}function N1(){}function O1(s,a){var u=Kt,p=Hn(),g=a(),x=!ai(p.memoizedState,g);if(x&&(p.memoizedState=g,pn=!0),p=p.queue,Od(L1.bind(null,u,p,s),[s]),p.getSnapshot!==a||x||vr!==null&&vr.memoizedState.tag&1){if(u.flags|=2048,Tu(9,F1.bind(null,u,p,g,a),void 0,null),_r===null)throw Error(t(349));(Ya&30)!==0||D1(u,a,g)}return g}function D1(s,a,u){s.flags|=16384,s={getSnapshot:a,value:u},a=Kt.updateQueue,a===null?(a={lastEffect:null,stores:null},Kt.updateQueue=a,a.stores=[s]):(u=a.stores,u===null?a.stores=[s]:u.push(s))}function F1(s,a,u,p){a.value=u,a.getSnapshot=p,M1(a)&&V1(s)}function L1(s,a,u){return u(function(){M1(a)&&V1(s)})}function M1(s){var a=s.getSnapshot;s=s.value;try{var u=a();return!ai(s,u)}catch{return!0}}function V1(s){var a=cs(s,1);a!==null&&fi(a,s,1,-1)}function b1(s){var a=Li();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wu,lastRenderedState:s},a.queue=s,s=s.dispatch=TS.bind(null,Kt,s),[a.memoizedState,s]}function Tu(s,a,u,p){return s={tag:s,create:a,destroy:u,deps:p,next:null},a=Kt.updateQueue,a===null?(a={lastEffect:null,stores:null},Kt.updateQueue=a,a.lastEffect=s.next=s):(u=a.lastEffect,u===null?a.lastEffect=s.next=s:(p=u.next,u.next=s,s.next=p,a.lastEffect=s)),s}function U1(){return Hn().memoizedState}function xf(s,a,u,p){var g=Li();Kt.flags|=s,g.memoizedState=Tu(1|a,u,void 0,p===void 0?null:p)}function Ef(s,a,u,p){var g=Hn();p=p===void 0?null:p;var x=void 0;if(fr!==null){var I=fr.memoizedState;if(x=I.destroy,p!==null&&Cd(p,I.deps)){g.memoizedState=Tu(a,u,x,p);return}}Kt.flags|=s,g.memoizedState=Tu(1|a,u,x,p)}function B1(s,a){return xf(8390656,8,s,a)}function Od(s,a){return Ef(2048,8,s,a)}function j1(s,a){return Ef(4,2,s,a)}function z1(s,a){return Ef(4,4,s,a)}function H1(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function W1(s,a,u){return u=u!=null?u.concat([s]):null,Ef(4,4,H1.bind(null,a,s),u)}function Dd(){}function $1(s,a){var u=Hn();a=a===void 0?null:a;var p=u.memoizedState;return p!==null&&a!==null&&Cd(a,p[1])?p[0]:(u.memoizedState=[s,a],s)}function G1(s,a){var u=Hn();a=a===void 0?null:a;var p=u.memoizedState;return p!==null&&a!==null&&Cd(a,p[1])?p[0]:(s=s(),u.memoizedState=[s,a],s)}function K1(s,a,u){return(Ya&21)===0?(s.baseState&&(s.baseState=!1,pn=!0),s.memoizedState=u):(ai(u,a)||(u=Ua(),Kt.lanes|=u,Qa|=u,s.baseState=!0),a)}function ES(s,a){var u=dt;dt=u!==0&&4>u?u:4,s(!0);var p=Id.transition;Id.transition={};try{s(!1),a()}finally{dt=u,Id.transition=p}}function q1(){return Hn().memoizedState}function wS(s,a,u){var p=ia(s);if(u={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null},X1(s))Y1(a,u);else if(u=I1(s,a,u,p),u!==null){var g=sn();fi(u,s,p,g),Q1(u,a,p)}}function TS(s,a,u){var p=ia(s),g={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null};if(X1(s))Y1(a,g);else{var x=s.alternate;if(s.lanes===0&&(x===null||x.lanes===0)&&(x=a.lastRenderedReducer,x!==null))try{var I=a.lastRenderedState,G=x(I,u);if(g.hasEagerState=!0,g.eagerState=G,ai(G,I)){var X=a.interleaved;X===null?(g.next=g,xd(a)):(g.next=X.next,X.next=g),a.interleaved=g;return}}catch{}finally{}u=I1(s,a,g,p),u!==null&&(g=sn(),fi(u,s,p,g),Q1(u,a,p))}}function X1(s){var a=s.alternate;return s===Kt||a!==null&&a===Kt}function Y1(s,a){xu=yf=!0;var u=s.pending;u===null?a.next=a:(a.next=u.next,u.next=a),s.pending=a}function Q1(s,a,u){if((u&4194240)!==0){var p=a.lanes;p&=s.pendingLanes,u|=p,a.lanes=u,Hs(s,u)}}var wf={readContext:zn,useCallback:Gr,useContext:Gr,useEffect:Gr,useImperativeHandle:Gr,useInsertionEffect:Gr,useLayoutEffect:Gr,useMemo:Gr,useReducer:Gr,useRef:Gr,useState:Gr,useDebugValue:Gr,useDeferredValue:Gr,useTransition:Gr,useMutableSource:Gr,useSyncExternalStore:Gr,useId:Gr,unstable_isNewReconciler:!1},SS={readContext:zn,useCallback:function(s,a){return Li().memoizedState=[s,a===void 0?null:a],s},useContext:zn,useEffect:B1,useImperativeHandle:function(s,a,u){return u=u!=null?u.concat([s]):null,xf(4194308,4,H1.bind(null,a,s),u)},useLayoutEffect:function(s,a){return xf(4194308,4,s,a)},useInsertionEffect:function(s,a){return xf(4,2,s,a)},useMemo:function(s,a){var u=Li();return a=a===void 0?null:a,s=s(),u.memoizedState=[s,a],s},useReducer:function(s,a,u){var p=Li();return a=u!==void 0?u(a):a,p.memoizedState=p.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},p.queue=s,s=s.dispatch=wS.bind(null,Kt,s),[p.memoizedState,s]},useRef:function(s){var a=Li();return s={current:s},a.memoizedState=s},useState:b1,useDebugValue:Dd,useDeferredValue:function(s){return Li().memoizedState=s},useTransition:function(){var s=b1(!1),a=s[0];return s=ES.bind(null,s[1]),Li().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,u){var p=Kt,g=Li();if(zt){if(u===void 0)throw Error(t(407));u=u()}else{if(u=a(),_r===null)throw Error(t(349));(Ya&30)!==0||D1(p,a,u)}g.memoizedState=u;var x={value:u,getSnapshot:a};return g.queue=x,B1(L1.bind(null,p,x,s),[s]),p.flags|=2048,Tu(9,F1.bind(null,p,x,u,a),void 0,null),u},useId:function(){var s=Li(),a=_r.identifierPrefix;if(zt){var u=us,p=ls;u=(p&~(1<<32-Lt(p)-1)).toString(32)+u,a=":"+a+"R"+u,u=Eu++,0<u&&(a+="H"+u.toString(32)),a+=":"}else u=xS++,a=":"+a+"r"+u.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},AS={readContext:zn,useCallback:$1,useContext:zn,useEffect:Od,useImperativeHandle:W1,useInsertionEffect:j1,useLayoutEffect:z1,useMemo:G1,useReducer:kd,useRef:U1,useState:function(){return kd(wu)},useDebugValue:Dd,useDeferredValue:function(s){var a=Hn();return K1(a,fr.memoizedState,s)},useTransition:function(){var s=kd(wu)[0],a=Hn().memoizedState;return[s,a]},useMutableSource:N1,useSyncExternalStore:O1,useId:q1,unstable_isNewReconciler:!1},IS={readContext:zn,useCallback:$1,useContext:zn,useEffect:Od,useImperativeHandle:W1,useInsertionEffect:j1,useLayoutEffect:z1,useMemo:G1,useReducer:Nd,useRef:U1,useState:function(){return Nd(wu)},useDebugValue:Dd,useDeferredValue:function(s){var a=Hn();return fr===null?a.memoizedState=s:K1(a,fr.memoizedState,s)},useTransition:function(){var s=Nd(wu)[0],a=Hn().memoizedState;return[s,a]},useMutableSource:N1,useSyncExternalStore:O1,useId:q1,unstable_isNewReconciler:!1};function li(s,a){if(s&&s.defaultProps){a=Fe({},a),s=s.defaultProps;for(var u in s)a[u]===void 0&&(a[u]=s[u]);return a}return a}function Fd(s,a,u,p){a=s.memoizedState,u=u(p,a),u=u==null?a:Fe({},a,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var Tf={isMounted:function(s){return(s=s._reactInternals)?B(s)===s:!1},enqueueSetState:function(s,a,u){s=s._reactInternals;var p=sn(),g=ia(s),x=fs(p,g);x.payload=a,u!=null&&(x.callback=u),a=ea(s,x,g),a!==null&&(fi(a,s,g,p),mf(a,s,g))},enqueueReplaceState:function(s,a,u){s=s._reactInternals;var p=sn(),g=ia(s),x=fs(p,g);x.tag=1,x.payload=a,u!=null&&(x.callback=u),a=ea(s,x,g),a!==null&&(fi(a,s,g,p),mf(a,s,g))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var u=sn(),p=ia(s),g=fs(u,p);g.tag=2,a!=null&&(g.callback=a),a=ea(s,g,p),a!==null&&(fi(a,s,p,u),mf(a,s,p))}};function J1(s,a,u,p,g,x,I){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,x,I):a.prototype&&a.prototype.isPureReactComponent?!uu(u,p)||!uu(g,x):!0}function Z1(s,a,u){var p=!1,g=Qs,x=a.contextType;return typeof x=="object"&&x!==null?x=zn(x):(g=dn(a)?$a:$r.current,p=a.contextTypes,x=(p=p!=null)?Xo(s,g):Qs),a=new a(u,x),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Tf,s.stateNode=a,a._reactInternals=s,p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=x),a}function ev(s,a,u,p){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,p),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,p),a.state!==s&&Tf.enqueueReplaceState(a,a.state,null)}function Ld(s,a,u,p){var g=s.stateNode;g.props=u,g.state=s.memoizedState,g.refs={},Ed(s);var x=a.contextType;typeof x=="object"&&x!==null?g.context=zn(x):(x=dn(a)?$a:$r.current,g.context=Xo(s,x)),g.state=s.memoizedState,x=a.getDerivedStateFromProps,typeof x=="function"&&(Fd(s,a,x,u),g.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(a=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),a!==g.state&&Tf.enqueueReplaceState(g,g.state,null),gf(s,u,g,p),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function nl(s,a){try{var u="",p=a;do u+=K(p),p=p.return;while(p);var g=u}catch(x){g=`
Error generating stack: `+x.message+`
`+x.stack}return{value:s,source:a,stack:g,digest:null}}function Md(s,a,u){return{value:s,source:null,stack:u??null,digest:a??null}}function Vd(s,a){try{console.error(a.value)}catch(u){setTimeout(function(){throw u})}}var CS=typeof WeakMap=="function"?WeakMap:Map;function tv(s,a,u){u=fs(-1,u),u.tag=3,u.payload={element:null};var p=a.value;return u.callback=function(){kf||(kf=!0,Jd=p),Vd(s,a)},u}function rv(s,a,u){u=fs(-1,u),u.tag=3;var p=s.type.getDerivedStateFromError;if(typeof p=="function"){var g=a.value;u.payload=function(){return p(g)},u.callback=function(){Vd(s,a)}}var x=s.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(u.callback=function(){Vd(s,a),typeof p!="function"&&(ra===null?ra=new Set([this]):ra.add(this));var I=a.stack;this.componentDidCatch(a.value,{componentStack:I!==null?I:""})}),u}function nv(s,a,u){var p=s.pingCache;if(p===null){p=s.pingCache=new CS;var g=new Set;p.set(a,g)}else g=p.get(a),g===void 0&&(g=new Set,p.set(a,g));g.has(u)||(g.add(u),s=jS.bind(null,s,a,u),a.then(s,s))}function iv(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function sv(s,a,u,p,g){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(a=fs(-1,1),a.tag=2,ea(u,a,1))),u.lanes|=1),s):(s.flags|=65536,s.lanes=g,s)}var RS=Z.ReactCurrentOwner,pn=!1;function nn(s,a,u,p){a.child=s===null?A1(a,null,u,p):Zo(a,s.child,u,p)}function av(s,a,u,p,g){u=u.render;var x=a.ref;return tl(a,g),p=Rd(s,a,u,p,x,g),u=Pd(),s!==null&&!pn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,hs(s,a,g)):(zt&&u&&fd(a),a.flags|=1,nn(s,a,p,g),a.child)}function ov(s,a,u,p,g){if(s===null){var x=u.type;return typeof x=="function"&&!sp(x)&&x.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(a.tag=15,a.type=x,lv(s,a,x,p,g)):(s=Mf(u.type,null,p,a,a.mode,g),s.ref=a.ref,s.return=a,a.child=s)}if(x=s.child,(s.lanes&g)===0){var I=x.memoizedProps;if(u=u.compare,u=u!==null?u:uu,u(I,p)&&s.ref===a.ref)return hs(s,a,g)}return a.flags|=1,s=aa(x,p),s.ref=a.ref,s.return=a,a.child=s}function lv(s,a,u,p,g){if(s!==null){var x=s.memoizedProps;if(uu(x,p)&&s.ref===a.ref)if(pn=!1,a.pendingProps=p=x,(s.lanes&g)!==0)(s.flags&131072)!==0&&(pn=!0);else return a.lanes=s.lanes,hs(s,a,g)}return bd(s,a,u,p,g)}function uv(s,a,u){var p=a.pendingProps,g=p.children,x=s!==null?s.memoizedState:null;if(p.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Dt(sl,Rn),Rn|=u;else{if((u&1073741824)===0)return s=x!==null?x.baseLanes|u:u,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,Dt(sl,Rn),Rn|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=x!==null?x.baseLanes:u,Dt(sl,Rn),Rn|=p}else x!==null?(p=x.baseLanes|u,a.memoizedState=null):p=u,Dt(sl,Rn),Rn|=p;return nn(s,a,g,u),a.child}function cv(s,a){var u=a.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(a.flags|=512,a.flags|=2097152)}function bd(s,a,u,p,g){var x=dn(u)?$a:$r.current;return x=Xo(a,x),tl(a,g),u=Rd(s,a,u,p,x,g),p=Pd(),s!==null&&!pn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,hs(s,a,g)):(zt&&p&&fd(a),a.flags|=1,nn(s,a,u,g),a.child)}function fv(s,a,u,p,g){if(dn(u)){var x=!0;of(a)}else x=!1;if(tl(a,g),a.stateNode===null)Af(s,a),Z1(a,u,p),Ld(a,u,p,g),p=!0;else if(s===null){var I=a.stateNode,G=a.memoizedProps;I.props=G;var X=I.context,oe=u.contextType;typeof oe=="object"&&oe!==null?oe=zn(oe):(oe=dn(u)?$a:$r.current,oe=Xo(a,oe));var ye=u.getDerivedStateFromProps,we=typeof ye=="function"||typeof I.getSnapshotBeforeUpdate=="function";we||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(G!==p||X!==oe)&&ev(a,I,p,oe),Zs=!1;var _e=a.memoizedState;I.state=_e,gf(a,p,I,g),X=a.memoizedState,G!==p||_e!==X||hn.current||Zs?(typeof ye=="function"&&(Fd(a,u,ye,p),X=a.memoizedState),(G=Zs||J1(a,u,G,p,_e,X,oe))?(we||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(a.flags|=4194308)):(typeof I.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=p,a.memoizedState=X),I.props=p,I.state=X,I.context=oe,p=G):(typeof I.componentDidMount=="function"&&(a.flags|=4194308),p=!1)}else{I=a.stateNode,C1(s,a),G=a.memoizedProps,oe=a.type===a.elementType?G:li(a.type,G),I.props=oe,we=a.pendingProps,_e=I.context,X=u.contextType,typeof X=="object"&&X!==null?X=zn(X):(X=dn(u)?$a:$r.current,X=Xo(a,X));var Ve=u.getDerivedStateFromProps;(ye=typeof Ve=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(G!==we||_e!==X)&&ev(a,I,p,X),Zs=!1,_e=a.memoizedState,I.state=_e,gf(a,p,I,g);var ze=a.memoizedState;G!==we||_e!==ze||hn.current||Zs?(typeof Ve=="function"&&(Fd(a,u,Ve,p),ze=a.memoizedState),(oe=Zs||J1(a,u,oe,p,_e,ze,X)||!1)?(ye||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(p,ze,X),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(p,ze,X)),typeof I.componentDidUpdate=="function"&&(a.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof I.componentDidUpdate!="function"||G===s.memoizedProps&&_e===s.memoizedState||(a.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||G===s.memoizedProps&&_e===s.memoizedState||(a.flags|=1024),a.memoizedProps=p,a.memoizedState=ze),I.props=p,I.state=ze,I.context=X,p=oe):(typeof I.componentDidUpdate!="function"||G===s.memoizedProps&&_e===s.memoizedState||(a.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||G===s.memoizedProps&&_e===s.memoizedState||(a.flags|=1024),p=!1)}return Ud(s,a,u,p,x,g)}function Ud(s,a,u,p,g,x){cv(s,a);var I=(a.flags&128)!==0;if(!p&&!I)return g&&g1(a,u,!1),hs(s,a,x);p=a.stateNode,RS.current=a;var G=I&&typeof u.getDerivedStateFromError!="function"?null:p.render();return a.flags|=1,s!==null&&I?(a.child=Zo(a,s.child,null,x),a.child=Zo(a,null,G,x)):nn(s,a,G,x),a.memoizedState=p.state,g&&g1(a,u,!0),a.child}function hv(s){var a=s.stateNode;a.pendingContext?p1(s,a.pendingContext,a.pendingContext!==a.context):a.context&&p1(s,a.context,!1),wd(s,a.containerInfo)}function dv(s,a,u,p,g){return Jo(),md(g),a.flags|=256,nn(s,a,u,p),a.child}var Bd={dehydrated:null,treeContext:null,retryLane:0};function jd(s){return{baseLanes:s,cachePool:null,transitions:null}}function pv(s,a,u){var p=a.pendingProps,g=Gt.current,x=!1,I=(a.flags&128)!==0,G;if((G=I)||(G=s!==null&&s.memoizedState===null?!1:(g&2)!==0),G?(x=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),Dt(Gt,g&1),s===null)return pd(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(I=p.children,s=p.fallback,x?(p=a.mode,x=a.child,I={mode:"hidden",children:I},(p&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=I):x=Vf(I,p,0,null),s=to(s,p,u,null),x.return=a,s.return=a,x.sibling=s,a.child=x,a.child.memoizedState=jd(u),a.memoizedState=Bd,s):zd(a,I));if(g=s.memoizedState,g!==null&&(G=g.dehydrated,G!==null))return PS(s,a,I,p,G,g,u);if(x){x=p.fallback,I=a.mode,g=s.child,G=g.sibling;var X={mode:"hidden",children:p.children};return(I&1)===0&&a.child!==g?(p=a.child,p.childLanes=0,p.pendingProps=X,a.deletions=null):(p=aa(g,X),p.subtreeFlags=g.subtreeFlags&14680064),G!==null?x=aa(G,x):(x=to(x,I,u,null),x.flags|=2),x.return=a,p.return=a,p.sibling=x,a.child=p,p=x,x=a.child,I=s.child.memoizedState,I=I===null?jd(u):{baseLanes:I.baseLanes|u,cachePool:null,transitions:I.transitions},x.memoizedState=I,x.childLanes=s.childLanes&~u,a.memoizedState=Bd,p}return x=s.child,s=x.sibling,p=aa(x,{mode:"visible",children:p.children}),(a.mode&1)===0&&(p.lanes=u),p.return=a,p.sibling=null,s!==null&&(u=a.deletions,u===null?(a.deletions=[s],a.flags|=16):u.push(s)),a.child=p,a.memoizedState=null,p}function zd(s,a){return a=Vf({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function Sf(s,a,u,p){return p!==null&&md(p),Zo(a,s.child,null,u),s=zd(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function PS(s,a,u,p,g,x,I){if(u)return a.flags&256?(a.flags&=-257,p=Md(Error(t(422))),Sf(s,a,I,p)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(x=p.fallback,g=a.mode,p=Vf({mode:"visible",children:p.children},g,0,null),x=to(x,g,I,null),x.flags|=2,p.return=a,x.return=a,p.sibling=x,a.child=p,(a.mode&1)!==0&&Zo(a,s.child,null,I),a.child.memoizedState=jd(I),a.memoizedState=Bd,x);if((a.mode&1)===0)return Sf(s,a,I,null);if(g.data==="$!"){if(p=g.nextSibling&&g.nextSibling.dataset,p)var G=p.dgst;return p=G,x=Error(t(419)),p=Md(x,p,void 0),Sf(s,a,I,p)}if(G=(I&s.childLanes)!==0,pn||G){if(p=_r,p!==null){switch(I&-I){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(p.suspendedLanes|I))!==0?0:g,g!==0&&g!==x.retryLane&&(x.retryLane=g,cs(s,g),fi(p,s,g,-1))}return ip(),p=Md(Error(t(421))),Sf(s,a,I,p)}return g.data==="$?"?(a.flags|=128,a.child=s.child,a=zS.bind(null,s),g._reactRetry=a,null):(s=x.treeContext,Cn=Xs(g.nextSibling),In=a,zt=!0,oi=null,s!==null&&(Bn[jn++]=ls,Bn[jn++]=us,Bn[jn++]=Ga,ls=s.id,us=s.overflow,Ga=a),a=zd(a,p.children),a.flags|=4096,a)}function mv(s,a,u){s.lanes|=a;var p=s.alternate;p!==null&&(p.lanes|=a),yd(s.return,a,u)}function Hd(s,a,u,p,g){var x=s.memoizedState;x===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:g}:(x.isBackwards=a,x.rendering=null,x.renderingStartTime=0,x.last=p,x.tail=u,x.tailMode=g)}function gv(s,a,u){var p=a.pendingProps,g=p.revealOrder,x=p.tail;if(nn(s,a,p.children,u),p=Gt.current,(p&2)!==0)p=p&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&mv(s,u,a);else if(s.tag===19)mv(s,u,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}p&=1}if(Dt(Gt,p),(a.mode&1)===0)a.memoizedState=null;else switch(g){case"forwards":for(u=a.child,g=null;u!==null;)s=u.alternate,s!==null&&vf(s)===null&&(g=u),u=u.sibling;u=g,u===null?(g=a.child,a.child=null):(g=u.sibling,u.sibling=null),Hd(a,!1,g,u,x);break;case"backwards":for(u=null,g=a.child,a.child=null;g!==null;){if(s=g.alternate,s!==null&&vf(s)===null){a.child=g;break}s=g.sibling,g.sibling=u,u=g,g=s}Hd(a,!0,u,null,x);break;case"together":Hd(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Af(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function hs(s,a,u){if(s!==null&&(a.dependencies=s.dependencies),Qa|=a.lanes,(u&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(t(153));if(a.child!==null){for(s=a.child,u=aa(s,s.pendingProps),a.child=u,u.return=a;s.sibling!==null;)s=s.sibling,u=u.sibling=aa(s,s.pendingProps),u.return=a;u.sibling=null}return a.child}function kS(s,a,u){switch(a.tag){case 3:hv(a),Jo();break;case 5:k1(a);break;case 1:dn(a.type)&&of(a);break;case 4:wd(a,a.stateNode.containerInfo);break;case 10:var p=a.type._context,g=a.memoizedProps.value;Dt(df,p._currentValue),p._currentValue=g;break;case 13:if(p=a.memoizedState,p!==null)return p.dehydrated!==null?(Dt(Gt,Gt.current&1),a.flags|=128,null):(u&a.child.childLanes)!==0?pv(s,a,u):(Dt(Gt,Gt.current&1),s=hs(s,a,u),s!==null?s.sibling:null);Dt(Gt,Gt.current&1);break;case 19:if(p=(u&a.childLanes)!==0,(s.flags&128)!==0){if(p)return gv(s,a,u);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Dt(Gt,Gt.current),p)break;return null;case 22:case 23:return a.lanes=0,uv(s,a,u)}return hs(s,a,u)}var vv,Wd,_v,yv;vv=function(s,a){for(var u=a.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Wd=function(){},_v=function(s,a,u,p){var g=s.memoizedProps;if(g!==p){s=a.stateNode,Xa(Fi.current);var x=null;switch(u){case"input":g=at(s,g),p=at(s,p),x=[];break;case"select":g=Fe({},g,{value:void 0}),p=Fe({},p,{value:void 0}),x=[];break;case"textarea":g=Ds(s,g),p=Ds(s,p),x=[];break;default:typeof g.onClick!="function"&&typeof p.onClick=="function"&&(s.onclick=nf)}Da(u,p);var I;u=null;for(oe in g)if(!p.hasOwnProperty(oe)&&g.hasOwnProperty(oe)&&g[oe]!=null)if(oe==="style"){var G=g[oe];for(I in G)G.hasOwnProperty(I)&&(u||(u={}),u[I]="")}else oe!=="dangerouslySetInnerHTML"&&oe!=="children"&&oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&oe!=="autoFocus"&&(i.hasOwnProperty(oe)?x||(x=[]):(x=x||[]).push(oe,null));for(oe in p){var X=p[oe];if(G=g?.[oe],p.hasOwnProperty(oe)&&X!==G&&(X!=null||G!=null))if(oe==="style")if(G){for(I in G)!G.hasOwnProperty(I)||X&&X.hasOwnProperty(I)||(u||(u={}),u[I]="");for(I in X)X.hasOwnProperty(I)&&G[I]!==X[I]&&(u||(u={}),u[I]=X[I])}else u||(x||(x=[]),x.push(oe,u)),u=X;else oe==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,G=G?G.__html:void 0,X!=null&&G!==X&&(x=x||[]).push(oe,X)):oe==="children"?typeof X!="string"&&typeof X!="number"||(x=x||[]).push(oe,""+X):oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&(i.hasOwnProperty(oe)?(X!=null&&oe==="onScroll"&&Mt("scroll",s),x||G===X||(x=[])):(x=x||[]).push(oe,X))}u&&(x=x||[]).push("style",u);var oe=x;(a.updateQueue=oe)&&(a.flags|=4)}},yv=function(s,a,u,p){u!==p&&(a.flags|=4)};function Su(s,a){if(!zt)switch(s.tailMode){case"hidden":a=s.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function Kr(s){var a=s.alternate!==null&&s.alternate.child===s.child,u=0,p=0;if(a)for(var g=s.child;g!==null;)u|=g.lanes|g.childLanes,p|=g.subtreeFlags&14680064,p|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)u|=g.lanes|g.childLanes,p|=g.subtreeFlags,p|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=p,s.childLanes=u,a}function NS(s,a,u){var p=a.pendingProps;switch(hd(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kr(a),null;case 1:return dn(a.type)&&af(),Kr(a),null;case 3:return p=a.stateNode,rl(),Vt(hn),Vt($r),Ad(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(s===null||s.child===null)&&(ff(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,oi!==null&&(tp(oi),oi=null))),Wd(s,a),Kr(a),null;case 5:Td(a);var g=Xa(yu.current);if(u=a.type,s!==null&&a.stateNode!=null)_v(s,a,u,p,g),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!p){if(a.stateNode===null)throw Error(t(166));return Kr(a),null}if(s=Xa(Fi.current),ff(a)){p=a.stateNode,u=a.type;var x=a.memoizedProps;switch(p[Di]=a,p[pu]=x,s=(a.mode&1)!==0,u){case"dialog":Mt("cancel",p),Mt("close",p);break;case"iframe":case"object":case"embed":Mt("load",p);break;case"video":case"audio":for(g=0;g<fu.length;g++)Mt(fu[g],p);break;case"source":Mt("error",p);break;case"img":case"image":case"link":Mt("error",p),Mt("load",p);break;case"details":Mt("toggle",p);break;case"input":zr(p,x),Mt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!x.multiple},Mt("invalid",p);break;case"textarea":wi(p,x),Mt("invalid",p)}Da(u,x),g=null;for(var I in x)if(x.hasOwnProperty(I)){var G=x[I];I==="children"?typeof G=="string"?p.textContent!==G&&(x.suppressHydrationWarning!==!0&&rf(p.textContent,G,s),g=["children",G]):typeof G=="number"&&p.textContent!==""+G&&(x.suppressHydrationWarning!==!0&&rf(p.textContent,G,s),g=["children",""+G]):i.hasOwnProperty(I)&&G!=null&&I==="onScroll"&&Mt("scroll",p)}switch(u){case"input":lt(p),Ar(p,x,!0);break;case"textarea":lt(p),Ti(p);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(p.onclick=nf)}p=g,a.updateQueue=p,p!==null&&(a.flags|=4)}else{I=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Ht(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=I.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof p.is=="string"?s=I.createElement(u,{is:p.is}):(s=I.createElement(u),u==="select"&&(I=s,p.multiple?I.multiple=!0:p.size&&(I.size=p.size))):s=I.createElementNS(s,u),s[Di]=a,s[pu]=p,vv(s,a,!1,!1),a.stateNode=s;e:{switch(I=Fa(u,p),u){case"dialog":Mt("cancel",s),Mt("close",s),g=p;break;case"iframe":case"object":case"embed":Mt("load",s),g=p;break;case"video":case"audio":for(g=0;g<fu.length;g++)Mt(fu[g],s);g=p;break;case"source":Mt("error",s),g=p;break;case"img":case"image":case"link":Mt("error",s),Mt("load",s),g=p;break;case"details":Mt("toggle",s),g=p;break;case"input":zr(s,p),g=at(s,p),Mt("invalid",s);break;case"option":g=p;break;case"select":s._wrapperState={wasMultiple:!!p.multiple},g=Fe({},p,{value:void 0}),Mt("invalid",s);break;case"textarea":wi(s,p),g=Ds(s,p),Mt("invalid",s);break;default:g=p}Da(u,g),G=g;for(x in G)if(G.hasOwnProperty(x)){var X=G[x];x==="style"?Ls(s,X):x==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,X!=null&&Oa(s,X)):x==="children"?typeof X=="string"?(u!=="textarea"||X!=="")&&Qn(s,X):typeof X=="number"&&Qn(s,""+X):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(i.hasOwnProperty(x)?X!=null&&x==="onScroll"&&Mt("scroll",s):X!=null&&W(s,x,X,I))}switch(u){case"input":lt(s),Ar(s,p,!1);break;case"textarea":lt(s),Ti(s);break;case"option":p.value!=null&&s.setAttribute("value",""+Re(p.value));break;case"select":s.multiple=!!p.multiple,x=p.value,x!=null?Wr(s,!!p.multiple,x,!1):p.defaultValue!=null&&Wr(s,!!p.multiple,p.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=nf)}switch(u){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Kr(a),null;case 6:if(s&&a.stateNode!=null)yv(s,a,s.memoizedProps,p);else{if(typeof p!="string"&&a.stateNode===null)throw Error(t(166));if(u=Xa(yu.current),Xa(Fi.current),ff(a)){if(p=a.stateNode,u=a.memoizedProps,p[Di]=a,(x=p.nodeValue!==u)&&(s=In,s!==null))switch(s.tag){case 3:rf(p.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&rf(p.nodeValue,u,(s.mode&1)!==0)}x&&(a.flags|=4)}else p=(u.nodeType===9?u:u.ownerDocument).createTextNode(p),p[Di]=a,a.stateNode=p}return Kr(a),null;case 13:if(Vt(Gt),p=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(zt&&Cn!==null&&(a.mode&1)!==0&&(a.flags&128)===0)w1(),Jo(),a.flags|=98560,x=!1;else if(x=ff(a),p!==null&&p.dehydrated!==null){if(s===null){if(!x)throw Error(t(318));if(x=a.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(t(317));x[Di]=a}else Jo(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Kr(a),x=!1}else oi!==null&&(tp(oi),oi=null),x=!0;if(!x)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=u,a):(p=p!==null,p!==(s!==null&&s.memoizedState!==null)&&p&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(Gt.current&1)!==0?hr===0&&(hr=3):ip())),a.updateQueue!==null&&(a.flags|=4),Kr(a),null);case 4:return rl(),Wd(s,a),s===null&&hu(a.stateNode.containerInfo),Kr(a),null;case 10:return _d(a.type._context),Kr(a),null;case 17:return dn(a.type)&&af(),Kr(a),null;case 19:if(Vt(Gt),x=a.memoizedState,x===null)return Kr(a),null;if(p=(a.flags&128)!==0,I=x.rendering,I===null)if(p)Su(x,!1);else{if(hr!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(I=vf(s),I!==null){for(a.flags|=128,Su(x,!1),p=I.updateQueue,p!==null&&(a.updateQueue=p,a.flags|=4),a.subtreeFlags=0,p=u,u=a.child;u!==null;)x=u,s=p,x.flags&=14680066,I=x.alternate,I===null?(x.childLanes=0,x.lanes=s,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=I.childLanes,x.lanes=I.lanes,x.child=I.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=I.memoizedProps,x.memoizedState=I.memoizedState,x.updateQueue=I.updateQueue,x.type=I.type,s=I.dependencies,x.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return Dt(Gt,Gt.current&1|2),a.child}s=s.sibling}x.tail!==null&&Ee()>al&&(a.flags|=128,p=!0,Su(x,!1),a.lanes=4194304)}else{if(!p)if(s=vf(I),s!==null){if(a.flags|=128,p=!0,u=s.updateQueue,u!==null&&(a.updateQueue=u,a.flags|=4),Su(x,!0),x.tail===null&&x.tailMode==="hidden"&&!I.alternate&&!zt)return Kr(a),null}else 2*Ee()-x.renderingStartTime>al&&u!==1073741824&&(a.flags|=128,p=!0,Su(x,!1),a.lanes=4194304);x.isBackwards?(I.sibling=a.child,a.child=I):(u=x.last,u!==null?u.sibling=I:a.child=I,x.last=I)}return x.tail!==null?(a=x.tail,x.rendering=a,x.tail=a.sibling,x.renderingStartTime=Ee(),a.sibling=null,u=Gt.current,Dt(Gt,p?u&1|2:u&1),a):(Kr(a),null);case 22:case 23:return np(),p=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==p&&(a.flags|=8192),p&&(a.mode&1)!==0?(Rn&1073741824)!==0&&(Kr(a),a.subtreeFlags&6&&(a.flags|=8192)):Kr(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function OS(s,a){switch(hd(a),a.tag){case 1:return dn(a.type)&&af(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return rl(),Vt(hn),Vt($r),Ad(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return Td(a),null;case 13:if(Vt(Gt),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(t(340));Jo()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return Vt(Gt),null;case 4:return rl(),null;case 10:return _d(a.type._context),null;case 22:case 23:return np(),null;case 24:return null;default:return null}}var If=!1,qr=!1,DS=typeof WeakSet=="function"?WeakSet:Set,je=null;function il(s,a){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(p){Yt(s,a,p)}else u.current=null}function $d(s,a,u){try{u()}catch(p){Yt(s,a,p)}}var xv=!1;function FS(s,a){if(nd=Gs,s=Jg(),X0(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var g=p.anchorOffset,x=p.focusNode;p=p.focusOffset;try{u.nodeType,x.nodeType}catch{u=null;break e}var I=0,G=-1,X=-1,oe=0,ye=0,we=s,_e=null;t:for(;;){for(var Ve;we!==u||g!==0&&we.nodeType!==3||(G=I+g),we!==x||p!==0&&we.nodeType!==3||(X=I+p),we.nodeType===3&&(I+=we.nodeValue.length),(Ve=we.firstChild)!==null;)_e=we,we=Ve;for(;;){if(we===s)break t;if(_e===u&&++oe===g&&(G=I),_e===x&&++ye===p&&(X=I),(Ve=we.nextSibling)!==null)break;we=_e,_e=we.parentNode}we=Ve}u=G===-1||X===-1?null:{start:G,end:X}}else u=null}u=u||{start:0,end:0}}else u=null;for(id={focusedElem:s,selectionRange:u},Gs=!1,je=a;je!==null;)if(a=je,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,je=s;else for(;je!==null;){a=je;try{var ze=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(ze!==null){var He=ze.memoizedProps,er=ze.memoizedState,te=a.stateNode,Q=te.getSnapshotBeforeUpdate(a.elementType===a.type?He:li(a.type,He),er);te.__reactInternalSnapshotBeforeUpdate=Q}break;case 3:var ie=a.stateNode.containerInfo;ie.nodeType===1?ie.textContent="":ie.nodeType===9&&ie.documentElement&&ie.removeChild(ie.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Ce){Yt(a,a.return,Ce)}if(s=a.sibling,s!==null){s.return=a.return,je=s;break}je=a.return}return ze=xv,xv=!1,ze}function Au(s,a,u){var p=a.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var g=p=p.next;do{if((g.tag&s)===s){var x=g.destroy;g.destroy=void 0,x!==void 0&&$d(a,u,x)}g=g.next}while(g!==p)}}function Cf(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&s)===s){var p=u.create;u.destroy=p()}u=u.next}while(u!==a)}}function Gd(s){var a=s.ref;if(a!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof a=="function"?a(s):a.current=s}}function Ev(s){var a=s.alternate;a!==null&&(s.alternate=null,Ev(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[Di],delete a[pu],delete a[ld],delete a[gS],delete a[vS])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function wv(s){return s.tag===5||s.tag===3||s.tag===4}function Tv(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||wv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Kd(s,a,u){var p=s.tag;if(p===5||p===6)s=s.stateNode,a?u.nodeType===8?u.parentNode.insertBefore(s,a):u.insertBefore(s,a):(u.nodeType===8?(a=u.parentNode,a.insertBefore(s,u)):(a=u,a.appendChild(s)),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=nf));else if(p!==4&&(s=s.child,s!==null))for(Kd(s,a,u),s=s.sibling;s!==null;)Kd(s,a,u),s=s.sibling}function qd(s,a,u){var p=s.tag;if(p===5||p===6)s=s.stateNode,a?u.insertBefore(s,a):u.appendChild(s);else if(p!==4&&(s=s.child,s!==null))for(qd(s,a,u),s=s.sibling;s!==null;)qd(s,a,u),s=s.sibling}var Nr=null,ui=!1;function ta(s,a,u){for(u=u.child;u!==null;)Sv(s,a,u),u=u.sibling}function Sv(s,a,u){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(wn,u)}catch{}switch(u.tag){case 5:qr||il(u,a);case 6:var p=Nr,g=ui;Nr=null,ta(s,a,u),Nr=p,ui=g,Nr!==null&&(ui?(s=Nr,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):Nr.removeChild(u.stateNode));break;case 18:Nr!==null&&(ui?(s=Nr,u=u.stateNode,s.nodeType===8?od(s.parentNode,u):s.nodeType===1&&od(s,u),ii(s)):od(Nr,u.stateNode));break;case 4:p=Nr,g=ui,Nr=u.stateNode.containerInfo,ui=!0,ta(s,a,u),Nr=p,ui=g;break;case 0:case 11:case 14:case 15:if(!qr&&(p=u.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){g=p=p.next;do{var x=g,I=x.destroy;x=x.tag,I!==void 0&&((x&2)!==0||(x&4)!==0)&&$d(u,a,I),g=g.next}while(g!==p)}ta(s,a,u);break;case 1:if(!qr&&(il(u,a),p=u.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=u.memoizedProps,p.state=u.memoizedState,p.componentWillUnmount()}catch(G){Yt(u,a,G)}ta(s,a,u);break;case 21:ta(s,a,u);break;case 22:u.mode&1?(qr=(p=qr)||u.memoizedState!==null,ta(s,a,u),qr=p):ta(s,a,u);break;default:ta(s,a,u)}}function Av(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new DS),a.forEach(function(p){var g=HS.bind(null,s,p);u.has(p)||(u.add(p),p.then(g,g))})}}function ci(s,a){var u=a.deletions;if(u!==null)for(var p=0;p<u.length;p++){var g=u[p];try{var x=s,I=a,G=I;e:for(;G!==null;){switch(G.tag){case 5:Nr=G.stateNode,ui=!1;break e;case 3:Nr=G.stateNode.containerInfo,ui=!0;break e;case 4:Nr=G.stateNode.containerInfo,ui=!0;break e}G=G.return}if(Nr===null)throw Error(t(160));Sv(x,I,g),Nr=null,ui=!1;var X=g.alternate;X!==null&&(X.return=null),g.return=null}catch(oe){Yt(g,a,oe)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)Iv(a,s),a=a.sibling}function Iv(s,a){var u=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(ci(a,s),Mi(s),p&4){try{Au(3,s,s.return),Cf(3,s)}catch(He){Yt(s,s.return,He)}try{Au(5,s,s.return)}catch(He){Yt(s,s.return,He)}}break;case 1:ci(a,s),Mi(s),p&512&&u!==null&&il(u,u.return);break;case 5:if(ci(a,s),Mi(s),p&512&&u!==null&&il(u,u.return),s.flags&32){var g=s.stateNode;try{Qn(g,"")}catch(He){Yt(s,s.return,He)}}if(p&4&&(g=s.stateNode,g!=null)){var x=s.memoizedProps,I=u!==null?u.memoizedProps:x,G=s.type,X=s.updateQueue;if(s.updateQueue=null,X!==null)try{G==="input"&&x.type==="radio"&&x.name!=null&&Pt(g,x),Fa(G,I);var oe=Fa(G,x);for(I=0;I<X.length;I+=2){var ye=X[I],we=X[I+1];ye==="style"?Ls(g,we):ye==="dangerouslySetInnerHTML"?Oa(g,we):ye==="children"?Qn(g,we):W(g,ye,we,oe)}switch(G){case"input":Ue(g,x);break;case"textarea":Cr(g,x);break;case"select":var _e=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!x.multiple;var Ve=x.value;Ve!=null?Wr(g,!!x.multiple,Ve,!1):_e!==!!x.multiple&&(x.defaultValue!=null?Wr(g,!!x.multiple,x.defaultValue,!0):Wr(g,!!x.multiple,x.multiple?[]:"",!1))}g[pu]=x}catch(He){Yt(s,s.return,He)}}break;case 6:if(ci(a,s),Mi(s),p&4){if(s.stateNode===null)throw Error(t(162));g=s.stateNode,x=s.memoizedProps;try{g.nodeValue=x}catch(He){Yt(s,s.return,He)}}break;case 3:if(ci(a,s),Mi(s),p&4&&u!==null&&u.memoizedState.isDehydrated)try{ii(a.containerInfo)}catch(He){Yt(s,s.return,He)}break;case 4:ci(a,s),Mi(s);break;case 13:ci(a,s),Mi(s),g=s.child,g.flags&8192&&(x=g.memoizedState!==null,g.stateNode.isHidden=x,!x||g.alternate!==null&&g.alternate.memoizedState!==null||(Qd=Ee())),p&4&&Av(s);break;case 22:if(ye=u!==null&&u.memoizedState!==null,s.mode&1?(qr=(oe=qr)||ye,ci(a,s),qr=oe):ci(a,s),Mi(s),p&8192){if(oe=s.memoizedState!==null,(s.stateNode.isHidden=oe)&&!ye&&(s.mode&1)!==0)for(je=s,ye=s.child;ye!==null;){for(we=je=ye;je!==null;){switch(_e=je,Ve=_e.child,_e.tag){case 0:case 11:case 14:case 15:Au(4,_e,_e.return);break;case 1:il(_e,_e.return);var ze=_e.stateNode;if(typeof ze.componentWillUnmount=="function"){p=_e,u=_e.return;try{a=p,ze.props=a.memoizedProps,ze.state=a.memoizedState,ze.componentWillUnmount()}catch(He){Yt(p,u,He)}}break;case 5:il(_e,_e.return);break;case 22:if(_e.memoizedState!==null){Pv(we);continue}}Ve!==null?(Ve.return=_e,je=Ve):Pv(we)}ye=ye.sibling}e:for(ye=null,we=s;;){if(we.tag===5){if(ye===null){ye=we;try{g=we.stateNode,oe?(x=g.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(G=we.stateNode,X=we.memoizedProps.style,I=X!=null&&X.hasOwnProperty("display")?X.display:null,G.style.display=Fs("display",I))}catch(He){Yt(s,s.return,He)}}}else if(we.tag===6){if(ye===null)try{we.stateNode.nodeValue=oe?"":we.memoizedProps}catch(He){Yt(s,s.return,He)}}else if((we.tag!==22&&we.tag!==23||we.memoizedState===null||we===s)&&we.child!==null){we.child.return=we,we=we.child;continue}if(we===s)break e;for(;we.sibling===null;){if(we.return===null||we.return===s)break e;ye===we&&(ye=null),we=we.return}ye===we&&(ye=null),we.sibling.return=we.return,we=we.sibling}}break;case 19:ci(a,s),Mi(s),p&4&&Av(s);break;case 21:break;default:ci(a,s),Mi(s)}}function Mi(s){var a=s.flags;if(a&2){try{e:{for(var u=s.return;u!==null;){if(wv(u)){var p=u;break e}u=u.return}throw Error(t(160))}switch(p.tag){case 5:var g=p.stateNode;p.flags&32&&(Qn(g,""),p.flags&=-33);var x=Tv(s);qd(s,x,g);break;case 3:case 4:var I=p.stateNode.containerInfo,G=Tv(s);Kd(s,G,I);break;default:throw Error(t(161))}}catch(X){Yt(s,s.return,X)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function LS(s,a,u){je=s,Cv(s)}function Cv(s,a,u){for(var p=(s.mode&1)!==0;je!==null;){var g=je,x=g.child;if(g.tag===22&&p){var I=g.memoizedState!==null||If;if(!I){var G=g.alternate,X=G!==null&&G.memoizedState!==null||qr;G=If;var oe=qr;if(If=I,(qr=X)&&!oe)for(je=g;je!==null;)I=je,X=I.child,I.tag===22&&I.memoizedState!==null?kv(g):X!==null?(X.return=I,je=X):kv(g);for(;x!==null;)je=x,Cv(x),x=x.sibling;je=g,If=G,qr=oe}Rv(s)}else(g.subtreeFlags&8772)!==0&&x!==null?(x.return=g,je=x):Rv(s)}}function Rv(s){for(;je!==null;){var a=je;if((a.flags&8772)!==0){var u=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:qr||Cf(5,a);break;case 1:var p=a.stateNode;if(a.flags&4&&!qr)if(u===null)p.componentDidMount();else{var g=a.elementType===a.type?u.memoizedProps:li(a.type,u.memoizedProps);p.componentDidUpdate(g,u.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var x=a.updateQueue;x!==null&&P1(a,x,p);break;case 3:var I=a.updateQueue;if(I!==null){if(u=null,a.child!==null)switch(a.child.tag){case 5:u=a.child.stateNode;break;case 1:u=a.child.stateNode}P1(a,I,u)}break;case 5:var G=a.stateNode;if(u===null&&a.flags&4){u=G;var X=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":X.autoFocus&&u.focus();break;case"img":X.src&&(u.src=X.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var oe=a.alternate;if(oe!==null){var ye=oe.memoizedState;if(ye!==null){var we=ye.dehydrated;we!==null&&ii(we)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}qr||a.flags&512&&Gd(a)}catch(_e){Yt(a,a.return,_e)}}if(a===s){je=null;break}if(u=a.sibling,u!==null){u.return=a.return,je=u;break}je=a.return}}function Pv(s){for(;je!==null;){var a=je;if(a===s){je=null;break}var u=a.sibling;if(u!==null){u.return=a.return,je=u;break}je=a.return}}function kv(s){for(;je!==null;){var a=je;try{switch(a.tag){case 0:case 11:case 15:var u=a.return;try{Cf(4,a)}catch(X){Yt(a,u,X)}break;case 1:var p=a.stateNode;if(typeof p.componentDidMount=="function"){var g=a.return;try{p.componentDidMount()}catch(X){Yt(a,g,X)}}var x=a.return;try{Gd(a)}catch(X){Yt(a,x,X)}break;case 5:var I=a.return;try{Gd(a)}catch(X){Yt(a,I,X)}}}catch(X){Yt(a,a.return,X)}if(a===s){je=null;break}var G=a.sibling;if(G!==null){G.return=a.return,je=G;break}je=a.return}}var MS=Math.ceil,Rf=Z.ReactCurrentDispatcher,Xd=Z.ReactCurrentOwner,Wn=Z.ReactCurrentBatchConfig,gt=0,_r=null,nr=null,Or=0,Rn=0,sl=Ys(0),hr=0,Iu=null,Qa=0,Pf=0,Yd=0,Cu=null,mn=null,Qd=0,al=1/0,ds=null,kf=!1,Jd=null,ra=null,Nf=!1,na=null,Of=0,Ru=0,Zd=null,Df=-1,Ff=0;function sn(){return(gt&6)!==0?Ee():Df!==-1?Df:Df=Ee()}function ia(s){return(s.mode&1)===0?1:(gt&2)!==0&&Or!==0?Or&-Or:yS.transition!==null?(Ff===0&&(Ff=Ua()),Ff):(s=dt,s!==0||(s=window.event,s=s===void 0?16:ru(s.type)),s)}function fi(s,a,u,p){if(50<Ru)throw Ru=0,Zd=null,Error(t(185));zs(s,u,p),((gt&2)===0||s!==_r)&&(s===_r&&((gt&2)===0&&(Pf|=u),hr===4&&sa(s,Or)),gn(s,p),u===1&&gt===0&&(a.mode&1)===0&&(al=Ee()+500,lf&&Js()))}function gn(s,a){var u=s.callbackNode;ts(s,a);var p=ba(s,s===_r?Or:0);if(p===0)u!==null&&Ne(u),s.callbackNode=null,s.callbackPriority=0;else if(a=p&-p,s.callbackPriority!==a){if(u!=null&&Ne(u),a===1)s.tag===0?_S(Ov.bind(null,s)):v1(Ov.bind(null,s)),pS(function(){(gt&6)===0&&Js()}),u=null;else{switch(Ws(p)){case 1:u=xt;break;case 4:u=vt;break;case 16:u=Tt;break;case 536870912:u=Ci;break;default:u=Tt}u=Bv(u,Nv.bind(null,s))}s.callbackPriority=a,s.callbackNode=u}}function Nv(s,a){if(Df=-1,Ff=0,(gt&6)!==0)throw Error(t(327));var u=s.callbackNode;if(ol()&&s.callbackNode!==u)return null;var p=ba(s,s===_r?Or:0);if(p===0)return null;if((p&30)!==0||(p&s.expiredLanes)!==0||a)a=Lf(s,p);else{a=p;var g=gt;gt|=2;var x=Fv();(_r!==s||Or!==a)&&(ds=null,al=Ee()+500,Za(s,a));do try{US();break}catch(G){Dv(s,G)}while(!0);vd(),Rf.current=x,gt=g,nr!==null?a=0:(_r=null,Or=0,a=hr)}if(a!==0){if(a===2&&(g=Tn(s),g!==0&&(p=g,a=ep(s,g))),a===1)throw u=Iu,Za(s,0),sa(s,p),gn(s,Ee()),u;if(a===6)sa(s,p);else{if(g=s.current.alternate,(p&30)===0&&!VS(g)&&(a=Lf(s,p),a===2&&(x=Tn(s),x!==0&&(p=x,a=ep(s,x))),a===1))throw u=Iu,Za(s,0),sa(s,p),gn(s,Ee()),u;switch(s.finishedWork=g,s.finishedLanes=p,a){case 0:case 1:throw Error(t(345));case 2:eo(s,mn,ds);break;case 3:if(sa(s,p),(p&130023424)===p&&(a=Qd+500-Ee(),10<a)){if(ba(s,0)!==0)break;if(g=s.suspendedLanes,(g&p)!==p){sn(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=ad(eo.bind(null,s,mn,ds),a);break}eo(s,mn,ds);break;case 4:if(sa(s,p),(p&4194240)===p)break;for(a=s.eventTimes,g=-1;0<p;){var I=31-Lt(p);x=1<<I,I=a[I],I>g&&(g=I),p&=~x}if(p=g,p=Ee()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*MS(p/1960))-p,10<p){s.timeoutHandle=ad(eo.bind(null,s,mn,ds),p);break}eo(s,mn,ds);break;case 5:eo(s,mn,ds);break;default:throw Error(t(329))}}}return gn(s,Ee()),s.callbackNode===u?Nv.bind(null,s):null}function ep(s,a){var u=Cu;return s.current.memoizedState.isDehydrated&&(Za(s,a).flags|=256),s=Lf(s,a),s!==2&&(a=mn,mn=u,a!==null&&tp(a)),s}function tp(s){mn===null?mn=s:mn.push.apply(mn,s)}function VS(s){for(var a=s;;){if(a.flags&16384){var u=a.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var p=0;p<u.length;p++){var g=u[p],x=g.getSnapshot;g=g.value;try{if(!ai(x(),g))return!1}catch{return!1}}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function sa(s,a){for(a&=~Yd,a&=~Pf,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var u=31-Lt(a),p=1<<u;s[u]=-1,a&=~p}}function Ov(s){if((gt&6)!==0)throw Error(t(327));ol();var a=ba(s,0);if((a&1)===0)return gn(s,Ee()),null;var u=Lf(s,a);if(s.tag!==0&&u===2){var p=Tn(s);p!==0&&(a=p,u=ep(s,p))}if(u===1)throw u=Iu,Za(s,0),sa(s,a),gn(s,Ee()),u;if(u===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,eo(s,mn,ds),gn(s,Ee()),null}function rp(s,a){var u=gt;gt|=1;try{return s(a)}finally{gt=u,gt===0&&(al=Ee()+500,lf&&Js())}}function Ja(s){na!==null&&na.tag===0&&(gt&6)===0&&ol();var a=gt;gt|=1;var u=Wn.transition,p=dt;try{if(Wn.transition=null,dt=1,s)return s()}finally{dt=p,Wn.transition=u,gt=a,(gt&6)===0&&Js()}}function np(){Rn=sl.current,Vt(sl)}function Za(s,a){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,dS(u)),nr!==null)for(u=nr.return;u!==null;){var p=u;switch(hd(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&af();break;case 3:rl(),Vt(hn),Vt($r),Ad();break;case 5:Td(p);break;case 4:rl();break;case 13:Vt(Gt);break;case 19:Vt(Gt);break;case 10:_d(p.type._context);break;case 22:case 23:np()}u=u.return}if(_r=s,nr=s=aa(s.current,null),Or=Rn=a,hr=0,Iu=null,Yd=Pf=Qa=0,mn=Cu=null,qa!==null){for(a=0;a<qa.length;a++)if(u=qa[a],p=u.interleaved,p!==null){u.interleaved=null;var g=p.next,x=u.pending;if(x!==null){var I=x.next;x.next=g,p.next=I}u.pending=p}qa=null}return s}function Dv(s,a){do{var u=nr;try{if(vd(),_f.current=wf,yf){for(var p=Kt.memoizedState;p!==null;){var g=p.queue;g!==null&&(g.pending=null),p=p.next}yf=!1}if(Ya=0,vr=fr=Kt=null,xu=!1,Eu=0,Xd.current=null,u===null||u.return===null){hr=1,Iu=a,nr=null;break}e:{var x=s,I=u.return,G=u,X=a;if(a=Or,G.flags|=32768,X!==null&&typeof X=="object"&&typeof X.then=="function"){var oe=X,ye=G,we=ye.tag;if((ye.mode&1)===0&&(we===0||we===11||we===15)){var _e=ye.alternate;_e?(ye.updateQueue=_e.updateQueue,ye.memoizedState=_e.memoizedState,ye.lanes=_e.lanes):(ye.updateQueue=null,ye.memoizedState=null)}var Ve=iv(I);if(Ve!==null){Ve.flags&=-257,sv(Ve,I,G,x,a),Ve.mode&1&&nv(x,oe,a),a=Ve,X=oe;var ze=a.updateQueue;if(ze===null){var He=new Set;He.add(X),a.updateQueue=He}else ze.add(X);break e}else{if((a&1)===0){nv(x,oe,a),ip();break e}X=Error(t(426))}}else if(zt&&G.mode&1){var er=iv(I);if(er!==null){(er.flags&65536)===0&&(er.flags|=256),sv(er,I,G,x,a),md(nl(X,G));break e}}x=X=nl(X,G),hr!==4&&(hr=2),Cu===null?Cu=[x]:Cu.push(x),x=I;do{switch(x.tag){case 3:x.flags|=65536,a&=-a,x.lanes|=a;var te=tv(x,X,a);R1(x,te);break e;case 1:G=X;var Q=x.type,ie=x.stateNode;if((x.flags&128)===0&&(typeof Q.getDerivedStateFromError=="function"||ie!==null&&typeof ie.componentDidCatch=="function"&&(ra===null||!ra.has(ie)))){x.flags|=65536,a&=-a,x.lanes|=a;var Ce=rv(x,G,a);R1(x,Ce);break e}}x=x.return}while(x!==null)}Mv(u)}catch(Ge){a=Ge,nr===u&&u!==null&&(nr=u=u.return);continue}break}while(!0)}function Fv(){var s=Rf.current;return Rf.current=wf,s===null?wf:s}function ip(){(hr===0||hr===3||hr===2)&&(hr=4),_r===null||(Qa&268435455)===0&&(Pf&268435455)===0||sa(_r,Or)}function Lf(s,a){var u=gt;gt|=2;var p=Fv();(_r!==s||Or!==a)&&(ds=null,Za(s,a));do try{bS();break}catch(g){Dv(s,g)}while(!0);if(vd(),gt=u,Rf.current=p,nr!==null)throw Error(t(261));return _r=null,Or=0,hr}function bS(){for(;nr!==null;)Lv(nr)}function US(){for(;nr!==null&&!Me();)Lv(nr)}function Lv(s){var a=Uv(s.alternate,s,Rn);s.memoizedProps=s.pendingProps,a===null?Mv(s):nr=a,Xd.current=null}function Mv(s){var a=s;do{var u=a.alternate;if(s=a.return,(a.flags&32768)===0){if(u=NS(u,a,Rn),u!==null){nr=u;return}}else{if(u=OS(u,a),u!==null){u.flags&=32767,nr=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{hr=6,nr=null;return}}if(a=a.sibling,a!==null){nr=a;return}nr=a=s}while(a!==null);hr===0&&(hr=5)}function eo(s,a,u){var p=dt,g=Wn.transition;try{Wn.transition=null,dt=1,BS(s,a,u,p)}finally{Wn.transition=g,dt=p}return null}function BS(s,a,u,p){do ol();while(na!==null);if((gt&6)!==0)throw Error(t(327));u=s.finishedWork;var g=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var x=u.lanes|u.childLanes;if(Ot(s,x),s===_r&&(nr=_r=null,Or=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Nf||(Nf=!0,Bv(Tt,function(){return ol(),null})),x=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||x){x=Wn.transition,Wn.transition=null;var I=dt;dt=1;var G=gt;gt|=4,Xd.current=null,FS(s,u),Iv(u,s),aS(id),Gs=!!nd,id=nd=null,s.current=u,LS(u),Ie(),gt=G,dt=I,Wn.transition=x}else s.current=u;if(Nf&&(Nf=!1,na=s,Of=g),x=s.pendingLanes,x===0&&(ra=null),Us(u.stateNode),gn(s,Ee()),a!==null)for(p=s.onRecoverableError,u=0;u<a.length;u++)g=a[u],p(g.value,{componentStack:g.stack,digest:g.digest});if(kf)throw kf=!1,s=Jd,Jd=null,s;return(Of&1)!==0&&s.tag!==0&&ol(),x=s.pendingLanes,(x&1)!==0?s===Zd?Ru++:(Ru=0,Zd=s):Ru=0,Js(),null}function ol(){if(na!==null){var s=Ws(Of),a=Wn.transition,u=dt;try{if(Wn.transition=null,dt=16>s?16:s,na===null)var p=!1;else{if(s=na,na=null,Of=0,(gt&6)!==0)throw Error(t(331));var g=gt;for(gt|=4,je=s.current;je!==null;){var x=je,I=x.child;if((je.flags&16)!==0){var G=x.deletions;if(G!==null){for(var X=0;X<G.length;X++){var oe=G[X];for(je=oe;je!==null;){var ye=je;switch(ye.tag){case 0:case 11:case 15:Au(8,ye,x)}var we=ye.child;if(we!==null)we.return=ye,je=we;else for(;je!==null;){ye=je;var _e=ye.sibling,Ve=ye.return;if(Ev(ye),ye===oe){je=null;break}if(_e!==null){_e.return=Ve,je=_e;break}je=Ve}}}var ze=x.alternate;if(ze!==null){var He=ze.child;if(He!==null){ze.child=null;do{var er=He.sibling;He.sibling=null,He=er}while(He!==null)}}je=x}}if((x.subtreeFlags&2064)!==0&&I!==null)I.return=x,je=I;else e:for(;je!==null;){if(x=je,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:Au(9,x,x.return)}var te=x.sibling;if(te!==null){te.return=x.return,je=te;break e}je=x.return}}var Q=s.current;for(je=Q;je!==null;){I=je;var ie=I.child;if((I.subtreeFlags&2064)!==0&&ie!==null)ie.return=I,je=ie;else e:for(I=Q;je!==null;){if(G=je,(G.flags&2048)!==0)try{switch(G.tag){case 0:case 11:case 15:Cf(9,G)}}catch(Ge){Yt(G,G.return,Ge)}if(G===I){je=null;break e}var Ce=G.sibling;if(Ce!==null){Ce.return=G.return,je=Ce;break e}je=G.return}}if(gt=g,Js(),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(wn,s)}catch{}p=!0}return p}finally{dt=u,Wn.transition=a}}return!1}function Vv(s,a,u){a=nl(u,a),a=tv(s,a,1),s=ea(s,a,1),a=sn(),s!==null&&(zs(s,1,a),gn(s,a))}function Yt(s,a,u){if(s.tag===3)Vv(s,s,u);else for(;a!==null;){if(a.tag===3){Vv(a,s,u);break}else if(a.tag===1){var p=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(ra===null||!ra.has(p))){s=nl(u,s),s=rv(a,s,1),a=ea(a,s,1),s=sn(),a!==null&&(zs(a,1,s),gn(a,s));break}}a=a.return}}function jS(s,a,u){var p=s.pingCache;p!==null&&p.delete(a),a=sn(),s.pingedLanes|=s.suspendedLanes&u,_r===s&&(Or&u)===u&&(hr===4||hr===3&&(Or&130023424)===Or&&500>Ee()-Qd?Za(s,0):Yd|=u),gn(s,a)}function bv(s,a){a===0&&((s.mode&1)===0?a=1:(a=ko,ko<<=1,(ko&130023424)===0&&(ko=4194304)));var u=sn();s=cs(s,a),s!==null&&(zs(s,a,u),gn(s,u))}function zS(s){var a=s.memoizedState,u=0;a!==null&&(u=a.retryLane),bv(s,u)}function HS(s,a){var u=0;switch(s.tag){case 13:var p=s.stateNode,g=s.memoizedState;g!==null&&(u=g.retryLane);break;case 19:p=s.stateNode;break;default:throw Error(t(314))}p!==null&&p.delete(a),bv(s,u)}var Uv;Uv=function(s,a,u){if(s!==null)if(s.memoizedProps!==a.pendingProps||hn.current)pn=!0;else{if((s.lanes&u)===0&&(a.flags&128)===0)return pn=!1,kS(s,a,u);pn=(s.flags&131072)!==0}else pn=!1,zt&&(a.flags&1048576)!==0&&_1(a,cf,a.index);switch(a.lanes=0,a.tag){case 2:var p=a.type;Af(s,a),s=a.pendingProps;var g=Xo(a,$r.current);tl(a,u),g=Rd(null,a,p,s,g,u);var x=Pd();return a.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,dn(p)?(x=!0,of(a)):x=!1,a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Ed(a),g.updater=Tf,a.stateNode=g,g._reactInternals=a,Ld(a,p,s,u),a=Ud(null,a,p,!0,x,u)):(a.tag=0,zt&&x&&fd(a),nn(null,a,g,u),a=a.child),a;case 16:p=a.elementType;e:{switch(Af(s,a),s=a.pendingProps,g=p._init,p=g(p._payload),a.type=p,g=a.tag=$S(p),s=li(p,s),g){case 0:a=bd(null,a,p,s,u);break e;case 1:a=fv(null,a,p,s,u);break e;case 11:a=av(null,a,p,s,u);break e;case 14:a=ov(null,a,p,li(p.type,s),u);break e}throw Error(t(306,p,""))}return a;case 0:return p=a.type,g=a.pendingProps,g=a.elementType===p?g:li(p,g),bd(s,a,p,g,u);case 1:return p=a.type,g=a.pendingProps,g=a.elementType===p?g:li(p,g),fv(s,a,p,g,u);case 3:e:{if(hv(a),s===null)throw Error(t(387));p=a.pendingProps,x=a.memoizedState,g=x.element,C1(s,a),gf(a,p,null,u);var I=a.memoizedState;if(p=I.element,x.isDehydrated)if(x={element:p,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},a.updateQueue.baseState=x,a.memoizedState=x,a.flags&256){g=nl(Error(t(423)),a),a=dv(s,a,p,u,g);break e}else if(p!==g){g=nl(Error(t(424)),a),a=dv(s,a,p,u,g);break e}else for(Cn=Xs(a.stateNode.containerInfo.firstChild),In=a,zt=!0,oi=null,u=A1(a,null,p,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Jo(),p===g){a=hs(s,a,u);break e}nn(s,a,p,u)}a=a.child}return a;case 5:return k1(a),s===null&&pd(a),p=a.type,g=a.pendingProps,x=s!==null?s.memoizedProps:null,I=g.children,sd(p,g)?I=null:x!==null&&sd(p,x)&&(a.flags|=32),cv(s,a),nn(s,a,I,u),a.child;case 6:return s===null&&pd(a),null;case 13:return pv(s,a,u);case 4:return wd(a,a.stateNode.containerInfo),p=a.pendingProps,s===null?a.child=Zo(a,null,p,u):nn(s,a,p,u),a.child;case 11:return p=a.type,g=a.pendingProps,g=a.elementType===p?g:li(p,g),av(s,a,p,g,u);case 7:return nn(s,a,a.pendingProps,u),a.child;case 8:return nn(s,a,a.pendingProps.children,u),a.child;case 12:return nn(s,a,a.pendingProps.children,u),a.child;case 10:e:{if(p=a.type._context,g=a.pendingProps,x=a.memoizedProps,I=g.value,Dt(df,p._currentValue),p._currentValue=I,x!==null)if(ai(x.value,I)){if(x.children===g.children&&!hn.current){a=hs(s,a,u);break e}}else for(x=a.child,x!==null&&(x.return=a);x!==null;){var G=x.dependencies;if(G!==null){I=x.child;for(var X=G.firstContext;X!==null;){if(X.context===p){if(x.tag===1){X=fs(-1,u&-u),X.tag=2;var oe=x.updateQueue;if(oe!==null){oe=oe.shared;var ye=oe.pending;ye===null?X.next=X:(X.next=ye.next,ye.next=X),oe.pending=X}}x.lanes|=u,X=x.alternate,X!==null&&(X.lanes|=u),yd(x.return,u,a),G.lanes|=u;break}X=X.next}}else if(x.tag===10)I=x.type===a.type?null:x.child;else if(x.tag===18){if(I=x.return,I===null)throw Error(t(341));I.lanes|=u,G=I.alternate,G!==null&&(G.lanes|=u),yd(I,u,a),I=x.sibling}else I=x.child;if(I!==null)I.return=x;else for(I=x;I!==null;){if(I===a){I=null;break}if(x=I.sibling,x!==null){x.return=I.return,I=x;break}I=I.return}x=I}nn(s,a,g.children,u),a=a.child}return a;case 9:return g=a.type,p=a.pendingProps.children,tl(a,u),g=zn(g),p=p(g),a.flags|=1,nn(s,a,p,u),a.child;case 14:return p=a.type,g=li(p,a.pendingProps),g=li(p.type,g),ov(s,a,p,g,u);case 15:return lv(s,a,a.type,a.pendingProps,u);case 17:return p=a.type,g=a.pendingProps,g=a.elementType===p?g:li(p,g),Af(s,a),a.tag=1,dn(p)?(s=!0,of(a)):s=!1,tl(a,u),Z1(a,p,g),Ld(a,p,g,u),Ud(null,a,p,!0,s,u);case 19:return gv(s,a,u);case 22:return uv(s,a,u)}throw Error(t(156,a.tag))};function Bv(s,a){return xe(s,a)}function WS(s,a,u,p){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $n(s,a,u,p){return new WS(s,a,u,p)}function sp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function $S(s){if(typeof s=="function")return sp(s)?1:0;if(s!=null){if(s=s.$$typeof,s===j)return 11;if(s===We)return 14}return 2}function aa(s,a){var u=s.alternate;return u===null?(u=$n(s.tag,a,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=a,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,a=s.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function Mf(s,a,u,p,g,x){var I=2;if(p=s,typeof s=="function")sp(s)&&(I=1);else if(typeof s=="string")I=5;else e:switch(s){case k:return to(u.children,g,x,a);case P:I=8,g|=8;break;case C:return s=$n(12,u,a,g|2),s.elementType=C,s.lanes=x,s;case F:return s=$n(13,u,a,g),s.elementType=F,s.lanes=x,s;case qe:return s=$n(19,u,a,g),s.elementType=qe,s.lanes=x,s;case Xe:return Vf(u,g,x,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case L:I=10;break e;case V:I=9;break e;case j:I=11;break e;case We:I=14;break e;case ut:I=16,p=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return a=$n(I,u,a,g),a.elementType=s,a.type=p,a.lanes=x,a}function to(s,a,u,p){return s=$n(7,s,p,a),s.lanes=u,s}function Vf(s,a,u,p){return s=$n(22,s,p,a),s.elementType=Xe,s.lanes=u,s.stateNode={isHidden:!1},s}function ap(s,a,u){return s=$n(6,s,null,a),s.lanes=u,s}function op(s,a,u){return a=$n(4,s.children!==null?s.children:[],s.key,a),a.lanes=u,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function GS(s,a,u,p,g){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=js(0),this.expirationTimes=js(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=js(0),this.identifierPrefix=p,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function lp(s,a,u,p,g,x,I,G,X){return s=new GS(s,a,u,G,X),a===1?(a=1,x===!0&&(a|=8)):a=0,x=$n(3,null,null,a),s.current=x,x.stateNode=s,x.memoizedState={element:p,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ed(x),s}function KS(s,a,u){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ge,key:p==null?null:""+p,children:s,containerInfo:a,implementation:u}}function jv(s){if(!s)return Qs;s=s._reactInternals;e:{if(B(s)!==s||s.tag!==1)throw Error(t(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(dn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(s.tag===1){var u=s.type;if(dn(u))return m1(s,u,a)}return a}function zv(s,a,u,p,g,x,I,G,X){return s=lp(u,p,!0,s,g,x,I,G,X),s.context=jv(null),u=s.current,p=sn(),g=ia(u),x=fs(p,g),x.callback=a??null,ea(u,x,g),s.current.lanes=g,zs(s,g,p),gn(s,p),s}function bf(s,a,u,p){var g=a.current,x=sn(),I=ia(g);return u=jv(u),a.context===null?a.context=u:a.pendingContext=u,a=fs(x,I),a.payload={element:s},p=p===void 0?null:p,p!==null&&(a.callback=p),s=ea(g,a,I),s!==null&&(fi(s,g,I,x),mf(s,g,I)),I}function Uf(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Hv(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<a?u:a}}function up(s,a){Hv(s,a),(s=s.alternate)&&Hv(s,a)}function qS(){return null}var Wv=typeof reportError=="function"?reportError:function(s){console.error(s)};function cp(s){this._internalRoot=s}Bf.prototype.render=cp.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(t(409));bf(s,a,null,null)},Bf.prototype.unmount=cp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;Ja(function(){bf(null,s,null,null)}),a[as]=null}};function Bf(s){this._internalRoot=s}Bf.prototype.unstable_scheduleHydration=function(s){if(s){var a=Uc();s={blockedOn:null,target:s,priority:a};for(var u=0;u<Pi.length&&a!==0&&a<Pi[u].priority;u++);Pi.splice(u,0,s),u===0&&zc(s)}};function fp(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function jf(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function $v(){}function XS(s,a,u,p,g){if(g){if(typeof p=="function"){var x=p;p=function(){var oe=Uf(I);x.call(oe)}}var I=zv(a,p,s,0,null,!1,!1,"",$v);return s._reactRootContainer=I,s[as]=I.current,hu(s.nodeType===8?s.parentNode:s),Ja(),I}for(;g=s.lastChild;)s.removeChild(g);if(typeof p=="function"){var G=p;p=function(){var oe=Uf(X);G.call(oe)}}var X=lp(s,0,!1,null,null,!1,!1,"",$v);return s._reactRootContainer=X,s[as]=X.current,hu(s.nodeType===8?s.parentNode:s),Ja(function(){bf(a,X,u,p)}),X}function zf(s,a,u,p,g){var x=u._reactRootContainer;if(x){var I=x;if(typeof g=="function"){var G=g;g=function(){var X=Uf(I);G.call(X)}}bf(a,I,s,g)}else I=XS(u,a,s,g,p);return Uf(I)}Vc=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var u=Bs(a.pendingLanes);u!==0&&(Hs(a,u|1),gn(a,Ee()),(gt&6)===0&&(al=Ee()+500,Js()))}break;case 13:Ja(function(){var p=cs(s,1);if(p!==null){var g=sn();fi(p,s,1,g)}}),up(s,1)}},No=function(s){if(s.tag===13){var a=cs(s,134217728);if(a!==null){var u=sn();fi(a,s,134217728,u)}up(s,134217728)}},bc=function(s){if(s.tag===13){var a=ia(s),u=cs(s,a);if(u!==null){var p=sn();fi(u,s,a,p)}up(s,a)}},Uc=function(){return dt},Bc=function(s,a){var u=dt;try{return dt=s,a()}finally{dt=u}},Qi=function(s,a,u){switch(a){case"input":if(Ue(s,u),a=u.name,u.type==="radio"&&a!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<u.length;a++){var p=u[a];if(p!==s&&p.form===s.form){var g=sf(p);if(!g)throw Error(t(90));it(p),Ue(p,g)}}}break;case"textarea":Cr(s,u);break;case"select":a=u.value,a!=null&&Wr(s,!!u.multiple,a,!1)}},Ji=rp,Ma=Ja;var YS={usingClientEntryPoint:!1,Events:[mu,Ko,sf,Vn,La,rp]},Pu={findFiberByHostInstance:Wa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},QS={bundleType:Pu.bundleType,version:Pu.version,rendererPackageName:Pu.rendererPackageName,rendererConfig:Pu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Z.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=se(s),s===null?null:s.stateNode},findFiberByHostInstance:Pu.findFiberByHostInstance||qS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hf.isDisabled&&Hf.supportsFiber)try{wn=Hf.inject(QS),Zt=Hf}catch{}}return vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YS,vn.createPortal=function(s,a){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fp(a))throw Error(t(200));return KS(s,a,null,u)},vn.createRoot=function(s,a){if(!fp(s))throw Error(t(299));var u=!1,p="",g=Wv;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(g=a.onRecoverableError)),a=lp(s,1,!1,null,null,u,!1,p,g),s[as]=a.current,hu(s.nodeType===8?s.parentNode:s),new cp(a)},vn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=se(a),s=s===null?null:s.stateNode,s},vn.flushSync=function(s){return Ja(s)},vn.hydrate=function(s,a,u){if(!jf(a))throw Error(t(200));return zf(null,s,a,!0,u)},vn.hydrateRoot=function(s,a,u){if(!fp(s))throw Error(t(405));var p=u!=null&&u.hydratedSources||null,g=!1,x="",I=Wv;if(u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(x=u.identifierPrefix),u.onRecoverableError!==void 0&&(I=u.onRecoverableError)),a=zv(a,null,s,1,u??null,g,!1,x,I),s[as]=a.current,hu(s),p)for(s=0;s<p.length;s++)u=p[s],g=u._getVersion,g=g(u._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[u,g]:a.mutableSourceEagerHydrationData.push(u,g);return new Bf(a)},vn.render=function(s,a,u){if(!jf(a))throw Error(t(200));return zf(null,s,a,!1,u)},vn.unmountComponentAtNode=function(s){if(!jf(s))throw Error(t(40));return s._reactRootContainer?(Ja(function(){zf(null,null,s,!1,function(){s._reactRootContainer=null,s[as]=null})}),!0):!1},vn.unstable_batchedUpdates=rp,vn.unstable_renderSubtreeIntoContainer=function(s,a,u,p){if(!jf(u))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return zf(s,a,u,!1,p)},vn.version="18.3.1-next-f1338f8080-20240426",vn}var Zv;function aA(){if(Zv)return pp.exports;Zv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),pp.exports=sA(),pp.exports}var e_;function oA(){if(e_)return $f;e_=1;var r=aA();return $f.createRoot=r.createRoot,$f.hydrateRoot=r.hydrateRoot,$f}var lA=oA();const uA=Ex(lA);/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var t_="popstate";function cA(r={}){function e(n,i){let{pathname:o,search:l,hash:c}=n.location;return Bp("",{pathname:o,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(n,i){return typeof i=="string"?i:Ju(i)}return hA(e,t,null,r)}function qt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function $i(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function fA(){return Math.random().toString(36).substring(2,10)}function r_(r,e){return{usr:r.state,key:r.key,idx:e}}function Bp(r,e,t=null,n){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Ul(e):e,state:t,key:e&&e.key||n||fA()}}function Ju({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Ul(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substring(n),r=r.substring(0,n)),r&&(e.pathname=r)}return e}function hA(r,e,t,n={}){let{window:i=document.defaultView,v5Compat:o=!1}=n,l=i.history,c="POP",h=null,d=m();d==null&&(d=0,l.replaceState({...l.state,idx:d},""));function m(){return(l.state||{idx:null}).idx}function _(){c="POP";let S=m(),H=S==null?null:S-d;d=S,h&&h({action:c,location:w.location,delta:H})}function y(S,H){c="PUSH";let z=Bp(w.location,S,H);d=m()+1;let W=r_(z,d),Z=w.createHref(z);try{l.pushState(W,"",Z)}catch(fe){if(fe instanceof DOMException&&fe.name==="DataCloneError")throw fe;i.location.assign(Z)}o&&h&&h({action:c,location:w.location,delta:1})}function E(S,H){c="REPLACE";let z=Bp(w.location,S,H);d=m();let W=r_(z,d),Z=w.createHref(z);l.replaceState(W,"",Z),o&&h&&h({action:c,location:w.location,delta:0})}function A(S){return dA(S)}let w={get action(){return c},get location(){return r(i,l)},listen(S){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(t_,_),h=S,()=>{i.removeEventListener(t_,_),h=null}},createHref(S){return e(i,S)},createURL:A,encodeLocation(S){let H=A(S);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:y,replace:E,go(S){return l.go(S)}};return w}function dA(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),qt(t,"No window.location.(origin|href) available to create URL");let n=typeof r=="string"?r:Ju(r);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=t+n),new URL(n,t)}function wx(r,e,t="/"){return pA(r,e,t,!1)}function pA(r,e,t,n){let i=typeof e=="string"?Ul(e):e,o=Ts(i.pathname||"/",t);if(o==null)return null;let l=Tx(r);mA(l);let c=null;for(let h=0;c==null&&h<l.length;++h){let d=IA(o);c=SA(l[h],d,n)}return c}function Tx(r,e=[],t=[],n="",i=!1){let o=(l,c,h=i,d)=>{let m={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(n)&&h)return;qt(m.relativePath.startsWith(n),`Absolute route path "${m.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(n.length)}let _=vs([n,m.relativePath]),y=t.concat(m);l.children&&l.children.length>0&&(qt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),Tx(l.children,e,y,_,h)),!(l.path==null&&!l.index)&&e.push({path:_,score:wA(_,l.index),routesMeta:y})};return r.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))o(l,c);else for(let h of Sx(l.path))o(l,c,!0,h)}),e}function Sx(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(n.length===0)return i?[o,""]:[o];let l=Sx(n.join("/")),c=[];return c.push(...l.map(h=>h===""?o:[o,h].join("/"))),i&&c.push(...l),c.map(h=>r.startsWith("/")&&h===""?"/":h)}function mA(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:TA(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var gA=/^:[\w-]+$/,vA=3,_A=2,yA=1,xA=10,EA=-2,n_=r=>r==="*";function wA(r,e){let t=r.split("/"),n=t.length;return t.some(n_)&&(n+=EA),e&&(n+=_A),t.filter(i=>!n_(i)).reduce((i,o)=>i+(gA.test(o)?vA:o===""?yA:xA),n)}function TA(r,e){return r.length===e.length&&r.slice(0,-1).every((n,i)=>n===e[i])?r[r.length-1]-e[e.length-1]:0}function SA(r,e,t=!1){let{routesMeta:n}=r,i={},o="/",l=[];for(let c=0;c<n.length;++c){let h=n[c],d=c===n.length-1,m=o==="/"?e:e.slice(o.length)||"/",_=Eh({path:h.relativePath,caseSensitive:h.caseSensitive,end:d},m),y=h.route;if(!_&&d&&t&&!n[n.length-1].route.index&&(_=Eh({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},m)),!_)return null;Object.assign(i,_.params),l.push({params:i,pathname:vs([o,_.pathname]),pathnameBase:kA(vs([o,_.pathnameBase])),route:y}),_.pathnameBase!=="/"&&(o=vs([o,_.pathnameBase]))}return l}function Eh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=AA(r.path,r.caseSensitive,r.end),i=e.match(t);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:n.reduce((d,{paramName:m,isOptional:_},y)=>{if(m==="*"){let A=c[y]||"";l=o.slice(0,o.length-A.length).replace(/(.)\/+$/,"$1")}const E=c[y];return _&&!E?d[m]=void 0:d[m]=(E||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:l,pattern:r}}function AA(r,e=!1,t=!0){$i(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let n=[],i="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,h)=>(n.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(n.push({paramName:"*"}),i+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":r!==""&&r!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function IA(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $i(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Ts(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function CA(r,e="/"){let{pathname:t,search:n="",hash:i=""}=typeof r=="string"?Ul(r):r;return{pathname:t?t.startsWith("/")?t:RA(t,e):e,search:NA(n),hash:OA(i)}}function RA(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function vp(r,e,t,n){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function PA(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Ax(r){let e=PA(r);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function Ix(r,e,t,n=!1){let i;typeof r=="string"?i=Ul(r):(i={...r},qt(!i.pathname||!i.pathname.includes("?"),vp("?","pathname","search",i)),qt(!i.pathname||!i.pathname.includes("#"),vp("#","pathname","hash",i)),qt(!i.search||!i.search.includes("#"),vp("#","search","hash",i)));let o=r===""||i.pathname==="",l=o?"/":i.pathname,c;if(l==null)c=t;else{let _=e.length-1;if(!n&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),_-=1;i.pathname=y.join("/")}c=_>=0?e[_]:"/"}let h=CA(i,c),d=l&&l!=="/"&&l.endsWith("/"),m=(o||l===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(d||m)&&(h.pathname+="/"),h}var vs=r=>r.join("/").replace(/\/\/+/g,"/"),kA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),NA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,OA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function DA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var Cx=["POST","PUT","PATCH","DELETE"];new Set(Cx);var FA=["GET",...Cx];new Set(FA);var Bl=de.createContext(null);Bl.displayName="DataRouter";var n0=de.createContext(null);n0.displayName="DataRouterState";de.createContext(!1);var Rx=de.createContext({isTransitioning:!1});Rx.displayName="ViewTransition";var LA=de.createContext(new Map);LA.displayName="Fetchers";var MA=de.createContext(null);MA.displayName="Await";var Xi=de.createContext(null);Xi.displayName="Navigation";var mc=de.createContext(null);mc.displayName="Location";var ks=de.createContext({outlet:null,matches:[],isDataRoute:!1});ks.displayName="Route";var _m=de.createContext(null);_m.displayName="RouteError";function VA(r,{relative:e}={}){qt(gc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=de.useContext(Xi),{hash:i,pathname:o,search:l}=vc(r,{relative:e}),c=o;return t!=="/"&&(c=o==="/"?t:vs([t,o])),n.createHref({pathname:c,search:l,hash:i})}function gc(){return de.useContext(mc)!=null}function yo(){return qt(gc(),"useLocation() may be used only in the context of a <Router> component."),de.useContext(mc).location}var Px="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function kx(r){de.useContext(Xi).static||de.useLayoutEffect(r)}function bA(){let{isDataRoute:r}=de.useContext(ks);return r?QA():UA()}function UA(){qt(gc(),"useNavigate() may be used only in the context of a <Router> component.");let r=de.useContext(Bl),{basename:e,navigator:t}=de.useContext(Xi),{matches:n}=de.useContext(ks),{pathname:i}=yo(),o=JSON.stringify(Ax(n)),l=de.useRef(!1);return kx(()=>{l.current=!0}),de.useCallback((h,d={})=>{if($i(l.current,Px),!l.current)return;if(typeof h=="number"){t.go(h);return}let m=Ix(h,JSON.parse(o),i,d.relative==="path");r==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:vs([e,m.pathname])),(d.replace?t.replace:t.push)(m,d.state,d)},[e,t,o,i,r])}de.createContext(null);function vc(r,{relative:e}={}){let{matches:t}=de.useContext(ks),{pathname:n}=yo(),i=JSON.stringify(Ax(t));return de.useMemo(()=>Ix(r,JSON.parse(i),n,e==="path"),[r,i,n,e])}function BA(r,e){return Nx(r,e)}function Nx(r,e,t,n,i){qt(gc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=de.useContext(Xi),{matches:l}=de.useContext(ks),c=l[l.length-1],h=c?c.params:{},d=c?c.pathname:"/",m=c?c.pathnameBase:"/",_=c&&c.route;{let z=_&&_.path||"";Ox(d,!_||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let y=yo(),E;if(e){let z=typeof e=="string"?Ul(e):e;qt(m==="/"||z.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${z.pathname}" was given in the \`location\` prop.`),E=z}else E=y;let A=E.pathname||"/",w=A;if(m!=="/"){let z=m.replace(/^\//,"").split("/");w="/"+A.replace(/^\//,"").split("/").slice(z.length).join("/")}let S=wx(r,{pathname:w});$i(_||S!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),$i(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let H=$A(S&&S.map(z=>Object.assign({},z,{params:Object.assign({},h,z.params),pathname:vs([m,o.encodeLocation?o.encodeLocation(z.pathname).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?m:vs([m,o.encodeLocation?o.encodeLocation(z.pathnameBase).pathname:z.pathnameBase])})),l,t,n,i);return e&&H?de.createElement(mc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},H):H}function jA(){let r=YA(),e=DA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",r),l=de.createElement(de.Fragment,null,de.createElement("p",null," Hey developer "),de.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",de.createElement("code",{style:o},"ErrorBoundary")," or"," ",de.createElement("code",{style:o},"errorElement")," prop on your route.")),de.createElement(de.Fragment,null,de.createElement("h2",null,"Unexpected Application Error!"),de.createElement("h3",{style:{fontStyle:"italic"}},e),t?de.createElement("pre",{style:i},t):null,l)}var zA=de.createElement(jA,null),HA=class extends de.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?de.createElement(ks.Provider,{value:this.props.routeContext},de.createElement(_m.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function WA({routeContext:r,match:e,children:t}){let n=de.useContext(Bl);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),de.createElement(ks.Provider,{value:r},t)}function $A(r,e=[],t=null,n=null,i=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let o=r,l=t?.errors;if(l!=null){let d=o.findIndex(m=>m.route.id&&l?.[m.route.id]!==void 0);qt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,h=-1;if(t)for(let d=0;d<o.length;d++){let m=o[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=d),m.route.id){let{loaderData:_,errors:y}=t,E=m.route.loader&&!_.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||E){c=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((d,m,_)=>{let y,E=!1,A=null,w=null;t&&(y=l&&m.route.id?l[m.route.id]:void 0,A=m.route.errorElement||zA,c&&(h<0&&_===0?(Ox("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,w=null):h===_&&(E=!0,w=m.route.hydrateFallbackElement||null)));let S=e.concat(o.slice(0,_+1)),H=()=>{let z;return y?z=A:E?z=w:m.route.Component?z=de.createElement(m.route.Component,null):m.route.element?z=m.route.element:z=d,de.createElement(WA,{match:m,routeContext:{outlet:d,matches:S,isDataRoute:t!=null},children:z})};return t&&(m.route.ErrorBoundary||m.route.errorElement||_===0)?de.createElement(HA,{location:t.location,revalidation:t.revalidation,component:A,error:y,children:H(),routeContext:{outlet:null,matches:S,isDataRoute:!0},unstable_onError:n}):H()},null)}function ym(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GA(r){let e=de.useContext(Bl);return qt(e,ym(r)),e}function KA(r){let e=de.useContext(n0);return qt(e,ym(r)),e}function qA(r){let e=de.useContext(ks);return qt(e,ym(r)),e}function xm(r){let e=qA(r),t=e.matches[e.matches.length-1];return qt(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function XA(){return xm("useRouteId")}function YA(){let r=de.useContext(_m),e=KA("useRouteError"),t=xm("useRouteError");return r!==void 0?r:e.errors?.[t]}function QA(){let{router:r}=GA("useNavigate"),e=xm("useNavigate"),t=de.useRef(!1);return kx(()=>{t.current=!0}),de.useCallback(async(i,o={})=>{$i(t.current,Px),t.current&&(typeof i=="number"?r.navigate(i):await r.navigate(i,{fromRouteId:e,...o}))},[r,e])}var i_={};function Ox(r,e,t){!e&&!i_[r]&&(i_[r]=!0,$i(!1,t))}de.memo(JA);function JA({routes:r,future:e,state:t,unstable_onError:n}){return Nx(r,void 0,t,n,e)}function oh(r){qt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ZA({basename:r="/",children:e=null,location:t,navigationType:n="POP",navigator:i,static:o=!1}){qt(!gc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=r.replace(/^\/*/,"/"),c=de.useMemo(()=>({basename:l,navigator:i,static:o,future:{}}),[l,i,o]);typeof t=="string"&&(t=Ul(t));let{pathname:h="/",search:d="",hash:m="",state:_=null,key:y="default"}=t,E=de.useMemo(()=>{let A=Ts(h,l);return A==null?null:{location:{pathname:A,search:d,hash:m,state:_,key:y},navigationType:n}},[l,h,d,m,_,y,n]);return $i(E!=null,`<Router basename="${l}"> is not able to match the URL "${h}${d}${m}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:de.createElement(Xi.Provider,{value:c},de.createElement(mc.Provider,{children:e,value:E}))}function eI({children:r,location:e}){return BA(jp(r),e)}function jp(r,e=[]){let t=[];return de.Children.forEach(r,(n,i)=>{if(!de.isValidElement(n))return;let o=[...e,i];if(n.type===de.Fragment){t.push.apply(t,jp(n.props.children,o));return}qt(n.type===oh,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),qt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=jp(n.props.children,o)),t.push(l)}),t}var lh="get",uh="application/x-www-form-urlencoded";function i0(r){return r!=null&&typeof r.tagName=="string"}function tI(r){return i0(r)&&r.tagName.toLowerCase()==="button"}function rI(r){return i0(r)&&r.tagName.toLowerCase()==="form"}function nI(r){return i0(r)&&r.tagName.toLowerCase()==="input"}function iI(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function sI(r,e){return r.button===0&&(!e||e==="_self")&&!iI(r)}var Gf=null;function aI(){if(Gf===null)try{new FormData(document.createElement("form"),0),Gf=!1}catch{Gf=!0}return Gf}var oI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _p(r){return r!=null&&!oI.has(r)?($i(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${uh}"`),null):r}function lI(r,e){let t,n,i,o,l;if(rI(r)){let c=r.getAttribute("action");n=c?Ts(c,e):null,t=r.getAttribute("method")||lh,i=_p(r.getAttribute("enctype"))||uh,o=new FormData(r)}else if(tI(r)||nI(r)&&(r.type==="submit"||r.type==="image")){let c=r.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=r.getAttribute("formaction")||c.getAttribute("action");if(n=h?Ts(h,e):null,t=r.getAttribute("formmethod")||c.getAttribute("method")||lh,i=_p(r.getAttribute("formenctype"))||_p(c.getAttribute("enctype"))||uh,o=new FormData(c,r),!aI()){let{name:d,type:m,value:_}=r;if(m==="image"){let y=d?`${d}.`:"";o.append(`${y}x`,"0"),o.append(`${y}y`,"0")}else d&&o.append(d,_)}}else{if(i0(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=lh,n=null,i=uh,l=r}return o&&i==="text/plain"&&(l=o,o=void 0),{action:n,method:t.toLowerCase(),encType:i,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Em(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function uI(r,e,t){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname=`_root.${t}`:e&&Ts(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${t}`,n}async function cI(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function fI(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function hI(r,e,t){let n=await Promise.all(r.map(async i=>{let o=e.routes[i.route.id];if(o){let l=await cI(o,t);return l.links?l.links():[]}return[]}));return gI(n.flat(1).filter(fI).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function s_(r,e,t,n,i,o){let l=(h,d)=>t[d]?h.route.id!==t[d].route.id:!0,c=(h,d)=>t[d].pathname!==h.pathname||t[d].route.path?.endsWith("*")&&t[d].params["*"]!==h.params["*"];return o==="assets"?e.filter((h,d)=>l(h,d)||c(h,d)):o==="data"?e.filter((h,d)=>{let m=n.routes[h.route.id];if(!m||!m.hasLoader)return!1;if(l(h,d)||c(h,d))return!0;if(h.route.shouldRevalidate){let _=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function dI(r,e,{includeHydrateFallback:t}={}){return pI(r.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function pI(r){return[...new Set(r)]}function mI(r){let e={},t=Object.keys(r).sort();for(let n of t)e[n]=r[n];return e}function gI(r,e){let t=new Set;return new Set(e),r.reduce((n,i)=>{let o=JSON.stringify(mI(i));return t.has(o)||(t.add(o),n.push({key:o,link:i})),n},[])}function Dx(){let r=de.useContext(Bl);return Em(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function vI(){let r=de.useContext(n0);return Em(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var wm=de.createContext(void 0);wm.displayName="FrameworkContext";function Fx(){let r=de.useContext(wm);return Em(r,"You must render this element inside a <HydratedRouter> element"),r}function _I(r,e){let t=de.useContext(wm),[n,i]=de.useState(!1),[o,l]=de.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:d,onMouseLeave:m,onTouchStart:_}=e,y=de.useRef(null);de.useEffect(()=>{if(r==="render"&&l(!0),r==="viewport"){let w=H=>{H.forEach(z=>{l(z.isIntersecting)})},S=new IntersectionObserver(w,{threshold:.5});return y.current&&S.observe(y.current),()=>{S.disconnect()}}},[r]),de.useEffect(()=>{if(n){let w=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(w)}}},[n]);let E=()=>{i(!0)},A=()=>{i(!1),l(!1)};return t?r!=="intent"?[o,y,{}]:[o,y,{onFocus:Nu(c,E),onBlur:Nu(h,A),onMouseEnter:Nu(d,E),onMouseLeave:Nu(m,A),onTouchStart:Nu(_,E)}]:[!1,y,{}]}function Nu(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function yI({page:r,...e}){let{router:t}=Dx(),n=de.useMemo(()=>wx(t.routes,r,t.basename),[t.routes,r,t.basename]);return n?de.createElement(EI,{page:r,matches:n,...e}):null}function xI(r){let{manifest:e,routeModules:t}=Fx(),[n,i]=de.useState([]);return de.useEffect(()=>{let o=!1;return hI(r,e,t).then(l=>{o||i(l)}),()=>{o=!0}},[r,e,t]),n}function EI({page:r,matches:e,...t}){let n=yo(),{manifest:i,routeModules:o}=Fx(),{basename:l}=Dx(),{loaderData:c,matches:h}=vI(),d=de.useMemo(()=>s_(r,e,h,i,n,"data"),[r,e,h,i,n]),m=de.useMemo(()=>s_(r,e,h,i,n,"assets"),[r,e,h,i,n]),_=de.useMemo(()=>{if(r===n.pathname+n.search+n.hash)return[];let A=new Set,w=!1;if(e.forEach(H=>{let z=i.routes[H.route.id];!z||!z.hasLoader||(!d.some(W=>W.route.id===H.route.id)&&H.route.id in c&&o[H.route.id]?.shouldRevalidate||z.hasClientLoader?w=!0:A.add(H.route.id))}),A.size===0)return[];let S=uI(r,l,"data");return w&&A.size>0&&S.searchParams.set("_routes",e.filter(H=>A.has(H.route.id)).map(H=>H.route.id).join(",")),[S.pathname+S.search]},[l,c,n,i,d,e,r,o]),y=de.useMemo(()=>dI(m,i),[m,i]),E=xI(m);return de.createElement(de.Fragment,null,_.map(A=>de.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...t})),y.map(A=>de.createElement("link",{key:A,rel:"modulepreload",href:A,...t})),E.map(({key:A,link:w})=>de.createElement("link",{key:A,nonce:t.nonce,...w})))}function wI(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Lx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Lx&&(window.__reactRouterVersion="7.9.1")}catch{}function TI({basename:r,children:e,window:t}){let n=de.useRef();n.current==null&&(n.current=cA({window:t,v5Compat:!0}));let i=n.current,[o,l]=de.useState({action:i.action,location:i.location}),c=de.useCallback(h=>{de.startTransition(()=>l(h))},[l]);return de.useLayoutEffect(()=>i.listen(c),[i,c]),de.createElement(ZA,{basename:r,children:e,location:o.location,navigationType:o.action,navigator:i})}var Mx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wh=de.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:i,reloadDocument:o,replace:l,state:c,target:h,to:d,preventScrollReset:m,viewTransition:_,...y},E){let{basename:A}=de.useContext(Xi),w=typeof d=="string"&&Mx.test(d),S,H=!1;if(typeof d=="string"&&w&&(S=d,Lx))try{let C=new URL(window.location.href),L=d.startsWith("//")?new URL(C.protocol+d):new URL(d),V=Ts(L.pathname,A);L.origin===C.origin&&V!=null?d=V+L.search+L.hash:H=!0}catch{$i(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let z=VA(d,{relative:i}),[W,Z,fe]=_I(n,y),ge=CI(d,{replace:l,state:c,target:h,preventScrollReset:m,relative:i,viewTransition:_});function k(C){e&&e(C),C.defaultPrevented||ge(C)}let P=de.createElement("a",{...y,...fe,href:S||z,onClick:H||o?e:k,ref:wI(E,Z),target:h,"data-discover":!w&&t==="render"?"true":void 0});return W&&!w?de.createElement(de.Fragment,null,P,de.createElement(yI,{page:z})):P});wh.displayName="Link";var SI=de.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:i=!1,style:o,to:l,viewTransition:c,children:h,...d},m){let _=vc(l,{relative:d.relative}),y=yo(),E=de.useContext(n0),{navigator:A,basename:w}=de.useContext(Xi),S=E!=null&&OI(_)&&c===!0,H=A.encodeLocation?A.encodeLocation(_).pathname:_.pathname,z=y.pathname,W=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;t||(z=z.toLowerCase(),W=W?W.toLowerCase():null,H=H.toLowerCase()),W&&w&&(W=Ts(W,w)||W);const Z=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let fe=z===H||!i&&z.startsWith(H)&&z.charAt(Z)==="/",ge=W!=null&&(W===H||!i&&W.startsWith(H)&&W.charAt(H.length)==="/"),k={isActive:fe,isPending:ge,isTransitioning:S},P=fe?e:void 0,C;typeof n=="function"?C=n(k):C=[n,fe?"active":null,ge?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let L=typeof o=="function"?o(k):o;return de.createElement(wh,{...d,"aria-current":P,className:C,ref:m,style:L,to:l,viewTransition:c},typeof h=="function"?h(k):h)});SI.displayName="NavLink";var AI=de.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:i,state:o,method:l=lh,action:c,onSubmit:h,relative:d,preventScrollReset:m,viewTransition:_,...y},E)=>{let A=kI(),w=NI(c,{relative:d}),S=l.toLowerCase()==="get"?"get":"post",H=typeof c=="string"&&Mx.test(c),z=W=>{if(h&&h(W),W.defaultPrevented)return;W.preventDefault();let Z=W.nativeEvent.submitter,fe=Z?.getAttribute("formmethod")||l;A(Z||W.currentTarget,{fetcherKey:e,method:fe,navigate:t,replace:i,state:o,relative:d,preventScrollReset:m,viewTransition:_})};return de.createElement("form",{ref:E,method:S,action:w,onSubmit:n?h:z,...y,"data-discover":!H&&r==="render"?"true":void 0})});AI.displayName="Form";function II(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Vx(r){let e=de.useContext(Bl);return qt(e,II(r)),e}function CI(r,{target:e,replace:t,state:n,preventScrollReset:i,relative:o,viewTransition:l}={}){let c=bA(),h=yo(),d=vc(r,{relative:o});return de.useCallback(m=>{if(sI(m,e)){m.preventDefault();let _=t!==void 0?t:Ju(h)===Ju(d);c(r,{replace:_,state:n,preventScrollReset:i,relative:o,viewTransition:l})}},[h,c,d,t,n,e,r,i,o,l])}var RI=0,PI=()=>`__${String(++RI)}__`;function kI(){let{router:r}=Vx("useSubmit"),{basename:e}=de.useContext(Xi),t=XA();return de.useCallback(async(n,i={})=>{let{action:o,method:l,encType:c,formData:h,body:d}=lI(n,e);if(i.navigate===!1){let m=i.fetcherKey||PI();await r.fetch(m,t,i.action||o,{preventScrollReset:i.preventScrollReset,formData:h,body:d,formMethod:i.method||l,formEncType:i.encType||c,flushSync:i.flushSync})}else await r.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:h,body:d,formMethod:i.method||l,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[r,e,t])}function NI(r,{relative:e}={}){let{basename:t}=de.useContext(Xi),n=de.useContext(ks);qt(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),o={...vc(r||".",{relative:e})},l=yo();if(r==null){o.search=l.search;let c=new URLSearchParams(o.search),h=c.getAll("index");if(h.some(m=>m==="")){c.delete("index"),h.filter(_=>_).forEach(_=>c.append("index",_));let m=c.toString();o.search=m?`?${m}`:""}}return(!r||r===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:vs([t,o.pathname])),Ju(o)}function OI(r,{relative:e}={}){let t=de.useContext(Rx);qt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=Vx("useViewTransitionState"),i=vc(r,{relative:e});if(!t.isTransitioning)return!1;let o=Ts(t.currentLocation.pathname,n)||t.currentLocation.pathname,l=Ts(t.nextLocation.pathname,n)||t.nextLocation.pathname;return Eh(i.pathname,l)!=null||Eh(i.pathname,o)!=null}function DI(){return $e.jsxs("div",{className:"container",children:[$e.jsx("img",{src:"https://pbs.twimg.com/profile_images/1323229344563646465/UdNYE4y9_400x400.jpg",alt:"Logo FCS",class:"w-24 h-24 mx-auto mb-4 rounded-full object-center scale-1500"}),$e.jsx("h1",{children:"Registro de Asistencia"}),$e.jsx("h2",{children:"Facultad de Ciencias de la Salud"}),$e.jsxs("div",{className:"user-actions",children:[$e.jsx(wh,{to:"/scan",children:$e.jsx("button",{className:"main-button",children:"Escanear QR (Alumnos)"})}),$e.jsx(wh,{to:"/profesores",children:$e.jsx("button",{className:"secondary-button",children:"Acceso Profesores"})})]})]})}const FI=()=>{};var a_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx=function(r){const e=[];let t=0;for(let n=0;n<r.length;n++){let i=r.charCodeAt(n);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(r.charCodeAt(++n)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},LI=function(r){const e=[];let t=0,n=0;for(;t<r.length;){const i=r[t++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const o=r[t++];e[n++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=r[t++],l=r[t++],c=r[t++],h=((i&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[n++]=String.fromCharCode(55296+(h>>10)),e[n++]=String.fromCharCode(56320+(h&1023))}else{const o=r[t++],l=r[t++];e[n++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},Ux={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<r.length;i+=3){const o=r[i],l=i+1<r.length,c=l?r[i+1]:0,h=i+2<r.length,d=h?r[i+2]:0,m=o>>2,_=(o&3)<<4|c>>4;let y=(c&15)<<2|d>>6,E=d&63;h||(E=64,l||(y=64)),n.push(t[m],t[_],t[y],t[E])}return n.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(bx(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):LI(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<r.length;){const o=t[r.charAt(i++)],c=i<r.length?t[r.charAt(i)]:0;++i;const d=i<r.length?t[r.charAt(i)]:64;++i;const _=i<r.length?t[r.charAt(i)]:64;if(++i,o==null||c==null||d==null||_==null)throw new MI;const y=o<<2|c>>4;if(n.push(y),d!==64){const E=c<<4&240|d>>2;if(n.push(E),_!==64){const A=d<<6&192|_;n.push(A)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class MI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const VI=function(r){const e=bx(r);return Ux.encodeByteArray(e,!0)},Th=function(r){return VI(r).replace(/\./g,"")},Bx=function(r){try{return Ux.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI=()=>bI().__FIREBASE_DEFAULTS__,BI=()=>{if(typeof process>"u"||typeof a_>"u")return;const r=a_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},jI=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Bx(r[1]);return e&&JSON.parse(e)},s0=()=>{try{return FI()||UI()||BI()||jI()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},jx=r=>s0()?.emulatorHosts?.[r],zI=r=>{const e=jx(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},zx=()=>s0()?.config,Hx=r=>s0()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jl(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Wx(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",i=r.iat||0,o=r.sub||r.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Th(JSON.stringify(t)),Th(JSON.stringify(l)),""].join(".")}const bu={};function $I(){const r={prod:[],emulator:[]};for(const e of Object.keys(bu))bu[e]?r.emulator.push(e):r.prod.push(e);return r}function GI(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let o_=!1;function $x(r,e){if(typeof window>"u"||typeof document>"u"||!jl(window.location.host)||bu[r]===e||bu[r]||o_)return;bu[r]=e;function t(y){return`__firebase__banner__${y}`}const n="__firebase__banner",o=$I().prod.length>0;function l(){const y=document.getElementById(n);y&&y.remove()}function c(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function h(y,E){y.setAttribute("width","24"),y.setAttribute("id",E),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function d(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{o_=!0,l()},y}function m(y,E){y.setAttribute("id",E),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function _(){const y=GI(n),E=t("text"),A=document.getElementById(E)||document.createElement("span"),w=t("learnmore"),S=document.getElementById(w)||document.createElement("a"),H=t("preprendIcon"),z=document.getElementById(H)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const W=y.element;c(W),m(S,w);const Z=d();h(z,H),W.append(z,A,S,Z),document.body.appendChild(W)}o?(A.innerText="Preview backend disconnected.",z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function qI(){const r=s0()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function XI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function YI(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function QI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function JI(){const r=en();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function ZI(){return!qI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function eC(){try{return typeof indexedDB=="object"}catch{return!1}}function tC(){return new Promise((r,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(n),r(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC="FirebaseError";class Ns extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=rC,Object.setPrototypeOf(this,Ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_c.prototype.create)}}class _c{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?nC(o,n):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new Ns(i,c,n)}}function nC(r,e){return r.replace(iC,(t,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const iC=/\{\$([^}]+)}/g;function sC(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function co(r,e){if(r===e)return!0;const t=Object.keys(r),n=Object.keys(e);for(const i of t){if(!n.includes(i))return!1;const o=r[i],l=e[i];if(l_(o)&&l_(l)){if(!co(o,l))return!1}else if(o!==l)return!1}for(const i of n)if(!t.includes(i))return!1;return!0}function l_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yc(r){const e=[];for(const[t,n]of Object.entries(r))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function aC(r,e){const t=new oC(r,e);return t.subscribe.bind(t)}class oC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let i;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");lC(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:n},i.next===void 0&&(i.next=yp),i.error===void 0&&(i.error=yp),i.complete===void 0&&(i.complete=yp);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lC(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function yp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(r){return r&&r._delegate?r._delegate:r}class fo{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new HI;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fC(e))try{this.getOrInitializeService({instanceIdentifier:ro})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});n.resolve(o)}catch{}}}}clearInstance(e=ro){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ro){return this.instances.has(e)}getOptions(e=ro){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);n===c&&l.resolve(i)}return i}onInit(e,t){const n=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(n)??new Set;i.add(e),this.onInitCallbacks.set(n,i);const o=this.instances.get(n);return o&&e(o,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:cC(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=ro){return this.component?this.component.multipleInstances?e:ro:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cC(r){return r===ro?void 0:r}function fC(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new uC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(ct||(ct={}));const dC={debug:ct.DEBUG,verbose:ct.VERBOSE,info:ct.INFO,warn:ct.WARN,error:ct.ERROR,silent:ct.SILENT},pC=ct.INFO,mC={[ct.DEBUG]:"log",[ct.VERBOSE]:"log",[ct.INFO]:"info",[ct.WARN]:"warn",[ct.ERROR]:"error"},gC=(r,e,...t)=>{if(e<r.logLevel)return;const n=new Date().toISOString(),i=mC[e];if(i)console[i](`[${n}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Tm{constructor(e){this.name=e,this._logLevel=pC,this._logHandler=gC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ct))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ct.DEBUG,...e),this._logHandler(this,ct.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ct.VERBOSE,...e),this._logHandler(this,ct.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ct.INFO,...e),this._logHandler(this,ct.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ct.WARN,...e),this._logHandler(this,ct.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ct.ERROR,...e),this._logHandler(this,ct.ERROR,...e)}}const vC=(r,e)=>e.some(t=>r instanceof t);let u_,c_;function _C(){return u_||(u_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yC(){return c_||(c_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Gx=new WeakMap,zp=new WeakMap,Kx=new WeakMap,xp=new WeakMap,Sm=new WeakMap;function xC(r){const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("success",o),r.removeEventListener("error",l)},o=()=>{t(va(r.result)),i()},l=()=>{n(r.error),i()};r.addEventListener("success",o),r.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&Gx.set(t,r)}).catch(()=>{}),Sm.set(e,r),e}function EC(r){if(zp.has(r))return;const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("complete",o),r.removeEventListener("error",l),r.removeEventListener("abort",l)},o=()=>{t(),i()},l=()=>{n(r.error||new DOMException("AbortError","AbortError")),i()};r.addEventListener("complete",o),r.addEventListener("error",l),r.addEventListener("abort",l)});zp.set(r,e)}let Hp={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return zp.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Kx.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return va(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function wC(r){Hp=r(Hp)}function TC(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=r.call(Ep(this),e,...t);return Kx.set(n,e.sort?e.sort():[e]),va(n)}:yC().includes(r)?function(...e){return r.apply(Ep(this),e),va(Gx.get(this))}:function(...e){return va(r.apply(Ep(this),e))}}function SC(r){return typeof r=="function"?TC(r):(r instanceof IDBTransaction&&EC(r),vC(r,_C())?new Proxy(r,Hp):r)}function va(r){if(r instanceof IDBRequest)return xC(r);if(xp.has(r))return xp.get(r);const e=SC(r);return e!==r&&(xp.set(r,e),Sm.set(e,r)),e}const Ep=r=>Sm.get(r);function AC(r,e,{blocked:t,upgrade:n,blocking:i,terminated:o}={}){const l=indexedDB.open(r,e),c=va(l);return n&&l.addEventListener("upgradeneeded",h=>{n(va(l.result),h.oldVersion,h.newVersion,va(l.transaction),h)}),t&&l.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),c.then(h=>{o&&h.addEventListener("close",()=>o()),i&&h.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const IC=["get","getKey","getAll","getAllKeys","count"],CC=["put","add","delete","clear"],wp=new Map;function f_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(wp.get(e))return wp.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,i=CC.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(i||IC.includes(t)))return;const o=async function(l,...c){const h=this.transaction(l,i?"readwrite":"readonly");let d=h.store;return n&&(d=d.index(c.shift())),(await Promise.all([d[t](...c),i&&h.done]))[0]};return wp.set(e,o),o}wC(r=>({...r,get:(e,t,n)=>f_(e,t)||r.get(e,t,n),has:(e,t)=>!!f_(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(PC(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function PC(r){return r.getComponent()?.type==="VERSION"}const Wp="@firebase/app",h_="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss=new Tm("@firebase/app"),kC="@firebase/app-compat",NC="@firebase/analytics-compat",OC="@firebase/analytics",DC="@firebase/app-check-compat",FC="@firebase/app-check",LC="@firebase/auth",MC="@firebase/auth-compat",VC="@firebase/database",bC="@firebase/data-connect",UC="@firebase/database-compat",BC="@firebase/functions",jC="@firebase/functions-compat",zC="@firebase/installations",HC="@firebase/installations-compat",WC="@firebase/messaging",$C="@firebase/messaging-compat",GC="@firebase/performance",KC="@firebase/performance-compat",qC="@firebase/remote-config",XC="@firebase/remote-config-compat",YC="@firebase/storage",QC="@firebase/storage-compat",JC="@firebase/firestore",ZC="@firebase/ai",e4="@firebase/firestore-compat",t4="firebase",r4="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p="[DEFAULT]",n4={[Wp]:"fire-core",[kC]:"fire-core-compat",[OC]:"fire-analytics",[NC]:"fire-analytics-compat",[FC]:"fire-app-check",[DC]:"fire-app-check-compat",[LC]:"fire-auth",[MC]:"fire-auth-compat",[VC]:"fire-rtdb",[bC]:"fire-data-connect",[UC]:"fire-rtdb-compat",[BC]:"fire-fn",[jC]:"fire-fn-compat",[zC]:"fire-iid",[HC]:"fire-iid-compat",[WC]:"fire-fcm",[$C]:"fire-fcm-compat",[GC]:"fire-perf",[KC]:"fire-perf-compat",[qC]:"fire-rc",[XC]:"fire-rc-compat",[YC]:"fire-gcs",[QC]:"fire-gcs-compat",[JC]:"fire-fst",[e4]:"fire-fst-compat",[ZC]:"fire-vertex","fire-js":"fire-js",[t4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh=new Map,i4=new Map,Gp=new Map;function d_(r,e){try{r.container.addComponent(e)}catch(t){Ss.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Pl(r){const e=r.name;if(Gp.has(e))return Ss.debug(`There were multiple attempts to register component ${e}.`),!1;Gp.set(e,r);for(const t of Sh.values())d_(t,r);for(const t of i4.values())d_(t,r);return!0}function Am(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function pi(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_a=new _c("app","Firebase",s4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new fo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _a.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zl=r4;function qx(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const n={name:$p,automaticDataCollectionEnabled:!0,...e},i=n.name;if(typeof i!="string"||!i)throw _a.create("bad-app-name",{appName:String(i)});if(t||(t=zx()),!t)throw _a.create("no-options");const o=Sh.get(i);if(o){if(co(t,o.options)&&co(n,o.config))return o;throw _a.create("duplicate-app",{appName:i})}const l=new hC(i);for(const h of Gp.values())l.addComponent(h);const c=new a4(t,n,l);return Sh.set(i,c),c}function Xx(r=$p){const e=Sh.get(r);if(!e&&r===$p&&zx())return qx();if(!e)throw _a.create("no-app",{appName:r});return e}function ya(r,e,t){let n=n4[r]??r;t&&(n+=`-${t}`);const i=n.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${n}" with version "${e}":`];i&&l.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ss.warn(l.join(" "));return}Pl(new fo(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4="firebase-heartbeat-database",l4=1,Zu="firebase-heartbeat-store";let Tp=null;function Yx(){return Tp||(Tp=AC(o4,l4,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Zu)}catch(t){console.warn(t)}}}}).catch(r=>{throw _a.create("idb-open",{originalErrorMessage:r.message})})),Tp}async function u4(r){try{const t=(await Yx()).transaction(Zu),n=await t.objectStore(Zu).get(Qx(r));return await t.done,n}catch(e){if(e instanceof Ns)Ss.warn(e.message);else{const t=_a.create("idb-get",{originalErrorMessage:e?.message});Ss.warn(t.message)}}}async function p_(r,e){try{const n=(await Yx()).transaction(Zu,"readwrite");await n.objectStore(Zu).put(e,Qx(r)),await n.done}catch(t){if(t instanceof Ns)Ss.warn(t.message);else{const n=_a.create("idb-set",{originalErrorMessage:t?.message});Ss.warn(n.message)}}}function Qx(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4=1024,f4=30;class h4{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new p4(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=m_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(i=>i.date===n))return;if(this._heartbeatsCache.heartbeats.push({date:n,agent:t}),this._heartbeatsCache.heartbeats.length>f4){const i=m4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ss.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=m_(),{heartbeatsToSend:t,unsentEntries:n}=d4(this._heartbeatsCache.heartbeats),i=Th(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Ss.warn(e),""}}}function m_(){return new Date().toISOString().substring(0,10)}function d4(r,e=c4){const t=[];let n=r.slice();for(const i of r){const o=t.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),g_(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),g_(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class p4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eC()?tC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await u4(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return p_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return p_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function g_(r){return Th(JSON.stringify({version:2,heartbeats:r})).length}function m4(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let n=1;n<r.length;n++)r[n].date<t&&(t=r[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g4(r){Pl(new fo("platform-logger",e=>new RC(e),"PRIVATE")),Pl(new fo("heartbeat",e=>new h4(e),"PRIVATE")),ya(Wp,h_,r),ya(Wp,h_,"esm2020"),ya("fire-js","")}g4("");function Jx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const v4=Jx,Zx=new _c("auth","Firebase",Jx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah=new Tm("@firebase/auth");function _4(r,...e){Ah.logLevel<=ct.WARN&&Ah.warn(`Auth (${zl}): ${r}`,...e)}function ch(r,...e){Ah.logLevel<=ct.ERROR&&Ah.error(`Auth (${zl}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gi(r,...e){throw Cm(r,...e)}function yi(r,...e){return Cm(r,...e)}function Im(r,e,t){const n={...v4(),[e]:t};return new _c("auth","Firebase",n).create(e,{appName:r.name})}function oo(r){return Im(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function y4(r,e,t){const n=t;if(!(e instanceof n))throw n.name!==e.constructor.name&&Gi(r,"argument-error"),Im(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Cm(r,...e){if(typeof r!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(t,...n)}return Zx.create(r,...e)}function tt(r,e,...t){if(!r)throw Cm(e,...t)}function ms(r){const e="INTERNAL ASSERTION FAILED: "+r;throw ch(e),new Error(e)}function As(r,e){r||ms(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kp(){return typeof self<"u"&&self.location?.href||""}function x4(){return v_()==="http:"||v_()==="https:"}function v_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(x4()||YI()||"connection"in navigator)?navigator.onLine:!0}function w4(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,t){this.shortDelay=e,this.longDelay=t,As(t>e,"Short delay should be less than long delay!"),this.isMobile=KI()||QI()}get(){return E4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rm(r,e){As(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ms("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ms("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ms("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],A4=new xc(3e4,6e4);function Pm(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Hl(r,e,t,n,i={}){return tE(r,i,async()=>{let o={},l={};n&&(e==="GET"?l=n:o={body:JSON.stringify(n)});const c=yc({key:r.config.apiKey,...l}).slice(1),h=await r._getAdditionalHeaders();h["Content-Type"]="application/json",r.languageCode&&(h["X-Firebase-Locale"]=r.languageCode);const d={method:e,headers:h,...o};return XI()||(d.referrerPolicy="no-referrer"),r.emulatorConfig&&jl(r.emulatorConfig.host)&&(d.credentials="include"),eE.fetch()(await rE(r,r.config.apiHost,t,c),d)})}async function tE(r,e,t){r._canInitEmulator=!1;const n={...T4,...e};try{const i=new C4(r),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Kf(r,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[h,d]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Kf(r,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw Kf(r,"email-already-in-use",l);if(h==="USER_DISABLED")throw Kf(r,"user-disabled",l);const m=n[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Im(r,m,d);Gi(r,m)}}catch(i){if(i instanceof Ns)throw i;Gi(r,"network-request-failed",{message:String(i)})}}async function I4(r,e,t,n,i={}){const o=await Hl(r,e,t,n,i);return"mfaPendingCredential"in o&&Gi(r,"multi-factor-auth-required",{_serverResponse:o}),o}async function rE(r,e,t,n){const i=`${e}${t}?${n}`,o=r,l=o.config.emulator?Rm(r.config,i):`${r.config.apiScheme}://${i}`;return S4.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}class C4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(yi(this.auth,"network-request-failed")),A4.get())})}}function Kf(r,e,t){const n={appName:r.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const i=yi(r,e,n);return i.customData._tokenResponse=t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R4(r,e){return Hl(r,"POST","/v1/accounts:delete",e)}async function Ih(r,e){return Hl(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function P4(r,e=!1){const t=Dn(r),n=await t.getIdToken(e),i=km(n);tt(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o?.sign_in_provider;return{claims:i,token:n,authTime:Uu(Sp(i.auth_time)),issuedAtTime:Uu(Sp(i.iat)),expirationTime:Uu(Sp(i.exp)),signInProvider:l||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Sp(r){return Number(r)*1e3}function km(r){const[e,t,n]=r.split(".");if(e===void 0||t===void 0||n===void 0)return ch("JWT malformed, contained fewer than 3 sections"),null;try{const i=Bx(t);return i?JSON.parse(i):(ch("Failed to decode base64 JWT payload"),null)}catch(i){return ch("Caught error parsing JWT payload as JSON",i?.toString()),null}}function __(r){const e=km(r);return tt(e,"internal-error"),tt(typeof e.exp<"u","internal-error"),tt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ec(r,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof Ns&&k4(n)&&r.auth.currentUser===r&&await r.auth.signOut(),n}}function k4({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Uu(this.lastLoginAt),this.creationTime=Uu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ch(r){const e=r.auth,t=await r.getIdToken(),n=await ec(r,Ih(e,{idToken:t}));tt(n?.users.length,e,"internal-error");const i=n.users[0];r._notifyReloadListener(i);const o=i.providerUserInfo?.length?nE(i.providerUserInfo):[],l=D4(r.providerData,o),c=r.isAnonymous,h=!(r.email&&i.passwordHash)&&!l?.length,d=c?h:!1,m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new qp(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(r,m)}async function O4(r){const e=Dn(r);await Ch(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function D4(r,e){return[...r.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function nE(r){return r.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F4(r,e){const t=await tE(r,{},async()=>{const n=yc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=r.config,l=await rE(r,i,"/v1/token",`key=${o}`),c=await r._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:c,body:n};return r.emulatorConfig&&jl(r.emulatorConfig.host)&&(h.credentials="include"),eE.fetch()(l,h)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function L4(r,e){return Hl(r,"POST","/v2/accounts:revokeToken",Pm(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){tt(e.idToken,"internal-error"),tt(typeof e.idToken<"u","internal-error"),tt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):__(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){tt(e.length!==0,"internal-error");const t=__(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(tt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:i,expiresIn:o}=await F4(e,t);this.updateTokensAndExpiration(n,i,Number(o))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:i,expirationTime:o}=t,l=new _l;return n&&(tt(typeof n=="string","internal-error",{appName:e}),l.refreshToken=n),i&&(tt(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),o&&(tt(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _l,this.toJSON())}_performRefresh(){return ms("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function la(r,e){tt(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class gi{constructor({uid:e,auth:t,stsTokenManager:n,...i}){this.providerId="firebase",this.proactiveRefresh=new N4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new qp(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await ec(this,this.stsTokenManager.getToken(this.auth,e));return tt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return P4(this,e)}reload(){return O4(this)}_assign(e){this!==e&&(tt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new gi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Ch(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pi(this.auth.app))return Promise.reject(oo(this.auth));const e=await this.getIdToken();return await ec(this,R4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const n=t.displayName??void 0,i=t.email??void 0,o=t.phoneNumber??void 0,l=t.photoURL??void 0,c=t.tenantId??void 0,h=t._redirectEventId??void 0,d=t.createdAt??void 0,m=t.lastLoginAt??void 0,{uid:_,emailVerified:y,isAnonymous:E,providerData:A,stsTokenManager:w}=t;tt(_&&w,e,"internal-error");const S=_l.fromJSON(this.name,w);tt(typeof _=="string",e,"internal-error"),la(n,e.name),la(i,e.name),tt(typeof y=="boolean",e,"internal-error"),tt(typeof E=="boolean",e,"internal-error"),la(o,e.name),la(l,e.name),la(c,e.name),la(h,e.name),la(d,e.name),la(m,e.name);const H=new gi({uid:_,auth:e,email:i,emailVerified:y,displayName:n,isAnonymous:E,photoURL:l,phoneNumber:o,tenantId:c,stsTokenManager:S,createdAt:d,lastLoginAt:m});return A&&Array.isArray(A)&&(H.providerData=A.map(z=>({...z}))),h&&(H._redirectEventId=h),H}static async _fromIdTokenResponse(e,t,n=!1){const i=new _l;i.updateFromServerResponse(t);const o=new gi({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Ch(o),o}static async _fromGetAccountInfoResponse(e,t,n){const i=t.users[0];tt(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?nE(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!o?.length,c=new _l;c.updateFromIdToken(n);const h=new gi({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new qp(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(h,d),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_=new Map;function gs(r){As(r instanceof Function,"Expected a class definition");let e=y_.get(r);return e?(As(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,y_.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}iE.type="NONE";const x_=iE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fh(r,e,t){return`firebase:${r}:${e}:${t}`}class yl{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:i,name:o}=this.auth;this.fullUserKey=fh(this.userKey,i.apiKey,o),this.fullPersistenceKey=fh("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Ih(this.auth,{idToken:e}).catch(()=>{});return t?gi._fromGetAccountInfoResponse(this.auth,t,e):null}return gi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new yl(gs(x_),e,n);const i=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=i[0]||gs(x_);const l=fh(n,e.config.apiKey,e.name);let c=null;for(const d of t)try{const m=await d._get(l);if(m){let _;if(typeof m=="string"){const y=await Ih(e,{idToken:m}).catch(()=>{});if(!y)break;_=await gi._fromGetAccountInfoResponse(e,y,m)}else _=gi._fromJSON(e,m);d!==o&&(c=_),o=d;break}}catch{}const h=i.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new yl(o,e,n):(o=h[0],c&&await o._set(l,c.toJSON()),await Promise.all(t.map(async d=>{if(d!==o)try{await d._remove(l)}catch{}})),new yl(o,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cE(e))return"Blackberry";if(fE(e))return"Webos";if(aE(e))return"Safari";if((e.includes("chrome/")||oE(e))&&!e.includes("edge/"))return"Chrome";if(uE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=r.match(t);if(n?.length===2)return n[1]}return"Other"}function sE(r=en()){return/firefox\//i.test(r)}function aE(r=en()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function oE(r=en()){return/crios\//i.test(r)}function lE(r=en()){return/iemobile/i.test(r)}function uE(r=en()){return/android/i.test(r)}function cE(r=en()){return/blackberry/i.test(r)}function fE(r=en()){return/webos/i.test(r)}function Nm(r=en()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function M4(r=en()){return Nm(r)&&!!window.navigator?.standalone}function V4(){return JI()&&document.documentMode===10}function hE(r=en()){return Nm(r)||uE(r)||fE(r)||cE(r)||/windows phone/i.test(r)||lE(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(r,e=[]){let t;switch(r){case"Browser":t=E_(en());break;case"Worker":t=`${E_(en())}-${r}`;break;default:t=r}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${zl}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=o=>new Promise((l,c)=>{try{const h=e(o);l(h)}catch(h){c(h)}});n.onAbort=t,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U4(r,e={}){return Hl(r,"GET","/v2/passwordPolicy",Pm(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4=6;class j4{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??B4,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(e,t,n,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new w_(this),this.idTokenSubscription=new w_(this),this.beforeStateQueue=new b4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Zx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=gs(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await yl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Ih(this,{idToken:e}),n=await gi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(pi(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,l=n?._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&c?.user&&(n=c.user,i=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(n)}catch(o){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ch(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=w4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pi(this.app))return Promise.reject(oo(this));const t=e?Dn(e):null;return t&&tt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&tt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pi(this.app)?Promise.reject(oo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pi(this.app)?Promise.reject(oo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await U4(this),t=new j4(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new _c("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await L4(this,n)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&gs(e)||this._popupRedirectResolver;tt(t,this,"argument-error"),this.redirectPersistenceManager=await yl.create(this,[gs(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,i){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(tt(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,n,i);return()=>{l=!0,h()}}else{const h=e.addObserver(t);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){if(pi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&_4(`Error while retrieving App Check token: ${e.error}`),e?.token}}function a0(r){return Dn(r)}class w_{constructor(e){this.auth=e,this.observer=null,this.addObserver=aC(t=>this.observer=t)}get next(){return tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Om={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function H4(r){Om=r}function W4(r){return Om.loadJS(r)}function $4(){return Om.gapiScript}function G4(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K4(r,e){const t=Am(r,"auth");if(t.isInitialized()){const i=t.getImmediate(),o=t.getOptions();if(co(o,e??{}))return i;Gi(i,"already-initialized")}return t.initialize({options:e})}function q4(r,e){const t=e?.persistence||[],n=(Array.isArray(t)?t:[t]).map(gs);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(n,e?.popupRedirectResolver)}function X4(r,e,t){const n=a0(r);tt(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,o=pE(e),{host:l,port:c}=Y4(e),h=c===null?"":`:${c}`,d={url:`${o}//${l}${h}/`},m=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){tt(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),tt(co(d,n.config.emulator)&&co(m,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=d,n.emulatorConfig=m,n.settings.appVerificationDisabledForTesting=!0,jl(l)?(Wx(`${o}//${l}${h}`),$x("Auth",!0)):Q4()}function pE(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function Y4(r){const e=pE(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const o=i[1];return{host:o,port:T_(n.substr(o.length+1))}}else{const[o,l]=n.split(":");return{host:o,port:T_(l)}}}function T_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function Q4(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ms("not implemented")}_getIdTokenResponse(e){return ms("not implemented")}_linkToIdToken(e,t){return ms("not implemented")}_getReauthenticationResolver(e){return ms("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xl(r,e){return I4(r,"POST","/v1/accounts:signInWithIdp",Pm(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4="http://localhost";class ho extends mE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ho(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Gi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i,...o}=t;if(!n||!i)return null;const l=new ho(n,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return xl(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,xl(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,xl(e,t)}buildRequest(){const e={requestUri:J4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=yc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec extends Dm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca extends Ec{constructor(){super("facebook.com")}static credential(e){return ho._fromParams({providerId:ca.PROVIDER_ID,signInMethod:ca.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ca.credentialFromTaggedObject(e)}static credentialFromError(e){return ca.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ca.credential(e.oauthAccessToken)}catch{return null}}}ca.FACEBOOK_SIGN_IN_METHOD="facebook.com";ca.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends Ec{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ho._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return ps.credential(t,n)}catch{return null}}}ps.GOOGLE_SIGN_IN_METHOD="google.com";ps.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa extends Ec{constructor(){super("github.com")}static credential(e){return ho._fromParams({providerId:fa.PROVIDER_ID,signInMethod:fa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fa.credentialFromTaggedObject(e)}static credentialFromError(e){return fa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fa.credential(e.oauthAccessToken)}catch{return null}}}fa.GITHUB_SIGN_IN_METHOD="github.com";fa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha extends Ec{constructor(){super("twitter.com")}static credential(e,t){return ho._fromParams({providerId:ha.PROVIDER_ID,signInMethod:ha.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ha.credentialFromTaggedObject(e)}static credentialFromError(e){return ha.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return ha.credential(t,n)}catch{return null}}}ha.TWITTER_SIGN_IN_METHOD="twitter.com";ha.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,i=!1){const o=await gi._fromIdTokenResponse(e,n,i),l=S_(n);return new kl({user:o,providerId:l,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const i=S_(n);return new kl({user:e,providerId:i,_tokenResponse:n,operationType:t})}}function S_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh extends Ns{constructor(e,t,n,i){super(t.code,t.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Rh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,i){return new Rh(e,t,n,i)}}function gE(r,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Rh._fromErrorAndOperation(r,o,e,n):o})}async function Z4(r,e,t=!1){const n=await ec(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return kl._forOperation(r,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eR(r,e,t=!1){const{auth:n}=r;if(pi(n.app))return Promise.reject(oo(n));const i="reauthenticate";try{const o=await ec(r,gE(n,i,e,r),t);tt(o.idToken,n,"internal-error");const l=km(o.idToken);tt(l,n,"internal-error");const{sub:c}=l;return tt(r.uid===c,n,"user-mismatch"),kl._forOperation(r,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Gi(n,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tR(r,e,t=!1){if(pi(r.app))return Promise.reject(oo(r));const n="signIn",i=await gE(r,n,e),o=await kl._fromIdTokenResponse(r,n,i);return t||await r._updateCurrentUser(o.user),o}function rR(r,e,t,n){return Dn(r).onIdTokenChanged(e,t,n)}function nR(r,e,t){return Dn(r).beforeAuthStateChanged(e,t)}function vE(r){return Dn(r).signOut()}const Ph="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ph,"1"),this.storage.removeItem(Ph),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR=1e3,sR=10;class yE extends _E{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),i=this.localCache[t];n!==i&&e(t,i,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const n=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(n);!t&&this.localCache[n]===l||this.notifyListeners(n,l)},o=this.storage.getItem(n);V4()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,sR):i()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},iR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}yE.type="LOCAL";const aR=yE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE extends _E{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}xE.type="SESSION";const EE=xE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oR(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const n=new o0(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:i,data:o}=t.data,l=this.handlersMap[i];if(!l?.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const c=Array.from(l).map(async d=>d(t.origin,o)),h=await oR(c);t.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}o0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(r="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((c,h)=>{const d=Fm("",20);i.port1.start();const m=setTimeout(()=>{h(new Error("unsupported_event"))},n);l={messageChannel:i,onMessage(_){const y=_;if(y.data.eventId===d)switch(y.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(y.data.response);break;default:clearTimeout(m),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(){return window}function uR(r){Bi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(){return typeof Bi().WorkerGlobalScope<"u"&&typeof Bi().importScripts=="function"}async function cR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function fR(){return navigator?.serviceWorker?.controller||null}function hR(){return wE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE="firebaseLocalStorageDb",dR=1,kh="firebaseLocalStorage",SE="fbase_key";class wc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function l0(r,e){return r.transaction([kh],e?"readwrite":"readonly").objectStore(kh)}function pR(){const r=indexedDB.deleteDatabase(TE);return new wc(r).toPromise()}function Xp(){const r=indexedDB.open(TE,dR);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(kh,{keyPath:SE})}catch(i){t(i)}}),r.addEventListener("success",async()=>{const n=r.result;n.objectStoreNames.contains(kh)?e(n):(n.close(),await pR(),e(await Xp()))})})}async function A_(r,e,t){const n=l0(r,!0).put({[SE]:e,value:t});return new wc(n).toPromise()}async function mR(r,e){const t=l0(r,!1).get(e),n=await new wc(t).toPromise();return n===void 0?null:n.value}function I_(r,e){const t=l0(r,!0).delete(e);return new wc(t).toPromise()}const gR=800,vR=3;class AE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>vR)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=o0._getInstance(hR()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await cR(),!this.activeServiceWorker)return;this.sender=new lR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||fR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xp();return await A_(e,Ph,"1"),await I_(e,Ph),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>A_(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>mR(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>I_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=l0(i,!1).getAll();return new wc(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),gR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}AE.type="LOCAL";const _R=AE;new xc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(r,e){return e?gs(e):(tt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm extends mE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return xl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return xl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function yR(r){return tR(r.auth,new Lm(r),r.bypassAuthState)}function xR(r){const{auth:e,user:t}=r;return tt(t,e,"internal-error"),eR(t,new Lm(r),r.bypassAuthState)}async function ER(r){const{auth:e,user:t}=r;return tt(t,e,"internal-error"),Z4(t,new Lm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(e,t,n,i,o=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:i,tenantId:o,error:l,type:c}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:t,sessionId:n,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yR;case"linkViaPopup":case"linkViaRedirect":return ER;case"reauthViaPopup":case"reauthViaRedirect":return xR;default:Gi(this.auth,"internal-error")}}resolve(e){As(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){As(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR=new xc(2e3,1e4);async function RE(r,e,t){if(pi(r.app))return Promise.reject(yi(r,"operation-not-supported-in-this-environment"));const n=a0(r);y4(r,e,Dm);const i=IE(n,t);return new io(n,"signInViaPopup",e,i).executeNotNull()}class io extends CE{constructor(e,t,n,i,o){super(e,t,i,o),this.provider=n,this.authWindow=null,this.pollId=null,io.currentPopupAction&&io.currentPopupAction.cancel(),io.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return tt(e,this.auth,"internal-error"),e}async onExecution(){As(this.filter.length===1,"Popup operations only handle one event");const e=Fm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(yi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(yi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,io.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,wR.get())};e()}}io.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR="pendingRedirect",hh=new Map;class SR extends CE{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=hh.get(this.auth._key());if(!e){try{const n=await AR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}hh.set(this.auth._key(),e)}return this.bypassAuthState||hh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function AR(r,e){const t=RR(e),n=CR(r);if(!await n._isAvailable())return!1;const i=await n._get(t)==="true";return await n._remove(t),i}function IR(r,e){hh.set(r._key(),e)}function CR(r){return gs(r._redirectPersistence)}function RR(r){return fh(TR,r.config.apiKey,r.name)}async function PR(r,e,t=!1){if(pi(r.app))return Promise.reject(oo(r));const n=a0(r),i=IE(n,e),l=await new SR(n,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await n._persistUserIfCurrent(l.user),await n._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR=600*1e3;class NR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!OR(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!PE(e)){const n=e.error.code?.split("auth/")[1]||"internal-error";t.onError(yi(this.auth,n))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kR&&this.cachedEventUids.clear(),this.cachedEventUids.has(C_(e))}saveEventToCache(e){this.cachedEventUids.add(C_(e)),this.lastProcessedEventTime=Date.now()}}function C_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function PE({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function OR(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return PE(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DR(r,e={}){return Hl(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,LR=/^https?/;async function MR(r){if(r.config.emulator)return;const{authorizedDomains:e}=await DR(r);for(const t of e)try{if(VR(t))return}catch{}Gi(r,"unauthorized-domain")}function VR(r){const e=Kp(),{protocol:t,hostname:n}=new URL(e);if(r.startsWith("chrome-extension://")){const l=new URL(r);return l.hostname===""&&n===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===n}if(!LR.test(t))return!1;if(FR.test(r))return n===r;const i=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=new xc(3e4,6e4);function R_(){const r=Bi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function UR(r){return new Promise((e,t)=>{function n(){R_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{R_(),t(yi(r,"network-request-failed"))},timeout:bR.get()})}if(Bi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Bi().gapi?.load)n();else{const i=G4("iframefcb");return Bi()[i]=()=>{gapi.load?n():t(yi(r,"network-request-failed"))},W4(`${$4()}?onload=${i}`).catch(o=>t(o))}}).catch(e=>{throw dh=null,e})}let dh=null;function BR(r){return dh=dh||UR(r),dh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR=new xc(5e3,15e3),zR="__/auth/iframe",HR="emulator/auth/iframe",WR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$R=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function GR(r){const e=r.config;tt(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?Rm(e,HR):`https://${r.config.authDomain}/${zR}`,n={apiKey:e.apiKey,appName:r.name,v:zl},i=$R.get(r.config.apiHost);i&&(n.eid=i);const o=r._getFrameworks();return o.length&&(n.fw=o.join(",")),`${t}?${yc(n).slice(1)}`}async function KR(r){const e=await BR(r),t=Bi().gapi;return tt(t,r,"internal-error"),e.open({where:document.body,url:GR(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:WR,dontclear:!0},n=>new Promise(async(i,o)=>{await n.restyle({setHideOnLeave:!1});const l=yi(r,"network-request-failed"),c=Bi().setTimeout(()=>{o(l)},jR.get());function h(){Bi().clearTimeout(c),i(n)}n.ping(h).then(h,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},XR=500,YR=600,QR="_blank",JR="http://localhost";class P_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ZR(r,e,t,n=XR,i=YR){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-n)/2,0).toString();let c="";const h={...qR,width:n.toString(),height:i.toString(),top:o,left:l},d=en().toLowerCase();t&&(c=oE(d)?QR:t),sE(d)&&(e=e||JR,h.scrollbars="yes");const m=Object.entries(h).reduce((y,[E,A])=>`${y}${E}=${A},`,"");if(M4(d)&&c!=="_self")return eP(e||"",c),new P_(null);const _=window.open(e||"",c,m);tt(_,r,"popup-blocked");try{_.focus()}catch{}return new P_(_)}function eP(r,e){const t=document.createElement("a");t.href=r,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP="__/auth/handler",rP="emulator/auth/handler",nP=encodeURIComponent("fac");async function k_(r,e,t,n,i,o){tt(r.config.authDomain,r,"auth-domain-config-required"),tt(r.config.apiKey,r,"invalid-api-key");const l={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:n,v:zl,eventId:i};if(e instanceof Dm){e.setDefaultLanguage(r.languageCode),l.providerId=e.providerId||"",sC(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,_]of Object.entries({}))l[m]=_}if(e instanceof Ec){const m=e.getScopes().filter(_=>_!=="");m.length>0&&(l.scopes=m.join(","))}r.tenantId&&(l.tid=r.tenantId);const c=l;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const h=await r._getAppCheckToken(),d=h?`#${nP}=${encodeURIComponent(h)}`:"";return`${iP(r)}?${yc(c).slice(1)}${d}`}function iP({config:r}){return r.emulator?Rm(r,rP):`https://${r.authDomain}/${tP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap="webStorageSupport";class sP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=EE,this._completeRedirectFn=PR,this._overrideRedirectResult=IR}async _openPopup(e,t,n,i){As(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await k_(e,t,n,Kp(),i);return ZR(e,o,Fm())}async _openRedirect(e,t,n,i){await this._originValidation(e);const o=await k_(e,t,n,Kp(),i);return uR(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(As(o,"If manager is not set, promise should be"),o)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await KR(e),n=new NR(e);return t.register("authEvent",i=>(tt(i?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ap,{type:Ap},i=>{const o=i?.[0]?.[Ap];o!==void 0&&t(!!o),Gi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=MR(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return hE()||aE()||Nm()}}const aP=sP;var N_="@firebase/auth",O_="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lP(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function uP(r){Pl(new fo("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=n.options;tt(l&&!l.includes(":"),"invalid-api-key",{appName:n.name});const h={apiKey:l,authDomain:c,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dE(r)},d=new z4(n,i,o,h);return q4(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Pl(new fo("auth-internal",e=>{const t=a0(e.getProvider("auth").getImmediate());return(n=>new oP(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ya(N_,O_,lP(r)),ya(N_,O_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cP=300,fP=Hx("authIdTokenMaxAge")||cP;let D_=null;const hP=r=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>fP)return;const i=t?.token;D_!==i&&(D_=i,await fetch(r,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function dP(r=Xx()){const e=Am(r,"auth");if(e.isInitialized())return e.getImmediate();const t=K4(r,{popupRedirectResolver:aP,persistence:[_R,aR,EE]}),n=Hx("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(n,location.origin);if(location.origin===o.origin){const l=hP(o.toString());nR(t,l,()=>l(t.currentUser)),rR(t,c=>l(c))}}const i=jx("auth");return i&&X4(t,`http://${i}`),t}function pP(){return document.getElementsByTagName("head")?.[0]??document}H4({loadJS(r){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=e,n.onerror=i=>{const o=yi("internal-error");o.customData=i,t(o)},n.type="text/javascript",n.charset="UTF-8",pP().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});uP("Browser");var mP="firebase",gP="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ya(mP,gP,"app");var F_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xa,kE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,P){function C(){}C.prototype=P.prototype,k.D=P.prototype,k.prototype=new C,k.prototype.constructor=k,k.C=function(L,V,j){for(var F=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)F[qe-2]=arguments[qe];return P.prototype[V].apply(L,F)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,t),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(k,P,C){C||(C=0);var L=Array(16);if(typeof P=="string")for(var V=0;16>V;++V)L[V]=P.charCodeAt(C++)|P.charCodeAt(C++)<<8|P.charCodeAt(C++)<<16|P.charCodeAt(C++)<<24;else for(V=0;16>V;++V)L[V]=P[C++]|P[C++]<<8|P[C++]<<16|P[C++]<<24;P=k.g[0],C=k.g[1],V=k.g[2];var j=k.g[3],F=P+(j^C&(V^j))+L[0]+3614090360&4294967295;P=C+(F<<7&4294967295|F>>>25),F=j+(V^P&(C^V))+L[1]+3905402710&4294967295,j=P+(F<<12&4294967295|F>>>20),F=V+(C^j&(P^C))+L[2]+606105819&4294967295,V=j+(F<<17&4294967295|F>>>15),F=C+(P^V&(j^P))+L[3]+3250441966&4294967295,C=V+(F<<22&4294967295|F>>>10),F=P+(j^C&(V^j))+L[4]+4118548399&4294967295,P=C+(F<<7&4294967295|F>>>25),F=j+(V^P&(C^V))+L[5]+1200080426&4294967295,j=P+(F<<12&4294967295|F>>>20),F=V+(C^j&(P^C))+L[6]+2821735955&4294967295,V=j+(F<<17&4294967295|F>>>15),F=C+(P^V&(j^P))+L[7]+4249261313&4294967295,C=V+(F<<22&4294967295|F>>>10),F=P+(j^C&(V^j))+L[8]+1770035416&4294967295,P=C+(F<<7&4294967295|F>>>25),F=j+(V^P&(C^V))+L[9]+2336552879&4294967295,j=P+(F<<12&4294967295|F>>>20),F=V+(C^j&(P^C))+L[10]+4294925233&4294967295,V=j+(F<<17&4294967295|F>>>15),F=C+(P^V&(j^P))+L[11]+2304563134&4294967295,C=V+(F<<22&4294967295|F>>>10),F=P+(j^C&(V^j))+L[12]+1804603682&4294967295,P=C+(F<<7&4294967295|F>>>25),F=j+(V^P&(C^V))+L[13]+4254626195&4294967295,j=P+(F<<12&4294967295|F>>>20),F=V+(C^j&(P^C))+L[14]+2792965006&4294967295,V=j+(F<<17&4294967295|F>>>15),F=C+(P^V&(j^P))+L[15]+1236535329&4294967295,C=V+(F<<22&4294967295|F>>>10),F=P+(V^j&(C^V))+L[1]+4129170786&4294967295,P=C+(F<<5&4294967295|F>>>27),F=j+(C^V&(P^C))+L[6]+3225465664&4294967295,j=P+(F<<9&4294967295|F>>>23),F=V+(P^C&(j^P))+L[11]+643717713&4294967295,V=j+(F<<14&4294967295|F>>>18),F=C+(j^P&(V^j))+L[0]+3921069994&4294967295,C=V+(F<<20&4294967295|F>>>12),F=P+(V^j&(C^V))+L[5]+3593408605&4294967295,P=C+(F<<5&4294967295|F>>>27),F=j+(C^V&(P^C))+L[10]+38016083&4294967295,j=P+(F<<9&4294967295|F>>>23),F=V+(P^C&(j^P))+L[15]+3634488961&4294967295,V=j+(F<<14&4294967295|F>>>18),F=C+(j^P&(V^j))+L[4]+3889429448&4294967295,C=V+(F<<20&4294967295|F>>>12),F=P+(V^j&(C^V))+L[9]+568446438&4294967295,P=C+(F<<5&4294967295|F>>>27),F=j+(C^V&(P^C))+L[14]+3275163606&4294967295,j=P+(F<<9&4294967295|F>>>23),F=V+(P^C&(j^P))+L[3]+4107603335&4294967295,V=j+(F<<14&4294967295|F>>>18),F=C+(j^P&(V^j))+L[8]+1163531501&4294967295,C=V+(F<<20&4294967295|F>>>12),F=P+(V^j&(C^V))+L[13]+2850285829&4294967295,P=C+(F<<5&4294967295|F>>>27),F=j+(C^V&(P^C))+L[2]+4243563512&4294967295,j=P+(F<<9&4294967295|F>>>23),F=V+(P^C&(j^P))+L[7]+1735328473&4294967295,V=j+(F<<14&4294967295|F>>>18),F=C+(j^P&(V^j))+L[12]+2368359562&4294967295,C=V+(F<<20&4294967295|F>>>12),F=P+(C^V^j)+L[5]+4294588738&4294967295,P=C+(F<<4&4294967295|F>>>28),F=j+(P^C^V)+L[8]+2272392833&4294967295,j=P+(F<<11&4294967295|F>>>21),F=V+(j^P^C)+L[11]+1839030562&4294967295,V=j+(F<<16&4294967295|F>>>16),F=C+(V^j^P)+L[14]+4259657740&4294967295,C=V+(F<<23&4294967295|F>>>9),F=P+(C^V^j)+L[1]+2763975236&4294967295,P=C+(F<<4&4294967295|F>>>28),F=j+(P^C^V)+L[4]+1272893353&4294967295,j=P+(F<<11&4294967295|F>>>21),F=V+(j^P^C)+L[7]+4139469664&4294967295,V=j+(F<<16&4294967295|F>>>16),F=C+(V^j^P)+L[10]+3200236656&4294967295,C=V+(F<<23&4294967295|F>>>9),F=P+(C^V^j)+L[13]+681279174&4294967295,P=C+(F<<4&4294967295|F>>>28),F=j+(P^C^V)+L[0]+3936430074&4294967295,j=P+(F<<11&4294967295|F>>>21),F=V+(j^P^C)+L[3]+3572445317&4294967295,V=j+(F<<16&4294967295|F>>>16),F=C+(V^j^P)+L[6]+76029189&4294967295,C=V+(F<<23&4294967295|F>>>9),F=P+(C^V^j)+L[9]+3654602809&4294967295,P=C+(F<<4&4294967295|F>>>28),F=j+(P^C^V)+L[12]+3873151461&4294967295,j=P+(F<<11&4294967295|F>>>21),F=V+(j^P^C)+L[15]+530742520&4294967295,V=j+(F<<16&4294967295|F>>>16),F=C+(V^j^P)+L[2]+3299628645&4294967295,C=V+(F<<23&4294967295|F>>>9),F=P+(V^(C|~j))+L[0]+4096336452&4294967295,P=C+(F<<6&4294967295|F>>>26),F=j+(C^(P|~V))+L[7]+1126891415&4294967295,j=P+(F<<10&4294967295|F>>>22),F=V+(P^(j|~C))+L[14]+2878612391&4294967295,V=j+(F<<15&4294967295|F>>>17),F=C+(j^(V|~P))+L[5]+4237533241&4294967295,C=V+(F<<21&4294967295|F>>>11),F=P+(V^(C|~j))+L[12]+1700485571&4294967295,P=C+(F<<6&4294967295|F>>>26),F=j+(C^(P|~V))+L[3]+2399980690&4294967295,j=P+(F<<10&4294967295|F>>>22),F=V+(P^(j|~C))+L[10]+4293915773&4294967295,V=j+(F<<15&4294967295|F>>>17),F=C+(j^(V|~P))+L[1]+2240044497&4294967295,C=V+(F<<21&4294967295|F>>>11),F=P+(V^(C|~j))+L[8]+1873313359&4294967295,P=C+(F<<6&4294967295|F>>>26),F=j+(C^(P|~V))+L[15]+4264355552&4294967295,j=P+(F<<10&4294967295|F>>>22),F=V+(P^(j|~C))+L[6]+2734768916&4294967295,V=j+(F<<15&4294967295|F>>>17),F=C+(j^(V|~P))+L[13]+1309151649&4294967295,C=V+(F<<21&4294967295|F>>>11),F=P+(V^(C|~j))+L[4]+4149444226&4294967295,P=C+(F<<6&4294967295|F>>>26),F=j+(C^(P|~V))+L[11]+3174756917&4294967295,j=P+(F<<10&4294967295|F>>>22),F=V+(P^(j|~C))+L[2]+718787259&4294967295,V=j+(F<<15&4294967295|F>>>17),F=C+(j^(V|~P))+L[9]+3951481745&4294967295,k.g[0]=k.g[0]+P&4294967295,k.g[1]=k.g[1]+(V+(F<<21&4294967295|F>>>11))&4294967295,k.g[2]=k.g[2]+V&4294967295,k.g[3]=k.g[3]+j&4294967295}n.prototype.u=function(k,P){P===void 0&&(P=k.length);for(var C=P-this.blockSize,L=this.B,V=this.h,j=0;j<P;){if(V==0)for(;j<=C;)i(this,k,j),j+=this.blockSize;if(typeof k=="string"){for(;j<P;)if(L[V++]=k.charCodeAt(j++),V==this.blockSize){i(this,L),V=0;break}}else for(;j<P;)if(L[V++]=k[j++],V==this.blockSize){i(this,L),V=0;break}}this.h=V,this.o+=P},n.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var P=1;P<k.length-8;++P)k[P]=0;var C=8*this.o;for(P=k.length-8;P<k.length;++P)k[P]=C&255,C/=256;for(this.u(k),k=Array(16),P=C=0;4>P;++P)for(var L=0;32>L;L+=8)k[C++]=this.g[P]>>>L&255;return k};function o(k,P){var C=c;return Object.prototype.hasOwnProperty.call(C,k)?C[k]:C[k]=P(k)}function l(k,P){this.h=P;for(var C=[],L=!0,V=k.length-1;0<=V;V--){var j=k[V]|0;L&&j==P||(C[V]=j,L=!1)}this.g=C}var c={};function h(k){return-128<=k&&128>k?o(k,function(P){return new l([P|0],0>P?-1:0)}):new l([k|0],0>k?-1:0)}function d(k){if(isNaN(k)||!isFinite(k))return _;if(0>k)return S(d(-k));for(var P=[],C=1,L=0;k>=C;L++)P[L]=k/C|0,C*=4294967296;return new l(P,0)}function m(k,P){if(k.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(k.charAt(0)=="-")return S(m(k.substring(1),P));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=d(Math.pow(P,8)),L=_,V=0;V<k.length;V+=8){var j=Math.min(8,k.length-V),F=parseInt(k.substring(V,V+j),P);8>j?(j=d(Math.pow(P,j)),L=L.j(j).add(d(F))):(L=L.j(C),L=L.add(d(F)))}return L}var _=h(0),y=h(1),E=h(16777216);r=l.prototype,r.m=function(){if(w(this))return-S(this).m();for(var k=0,P=1,C=0;C<this.g.length;C++){var L=this.i(C);k+=(0<=L?L:4294967296+L)*P,P*=4294967296}return k},r.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(A(this))return"0";if(w(this))return"-"+S(this).toString(k);for(var P=d(Math.pow(k,6)),C=this,L="";;){var V=Z(C,P).g;C=H(C,V.j(P));var j=((0<C.g.length?C.g[0]:C.h)>>>0).toString(k);if(C=V,A(C))return j+L;for(;6>j.length;)j="0"+j;L=j+L}},r.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function A(k){if(k.h!=0)return!1;for(var P=0;P<k.g.length;P++)if(k.g[P]!=0)return!1;return!0}function w(k){return k.h==-1}r.l=function(k){return k=H(this,k),w(k)?-1:A(k)?0:1};function S(k){for(var P=k.g.length,C=[],L=0;L<P;L++)C[L]=~k.g[L];return new l(C,~k.h).add(y)}r.abs=function(){return w(this)?S(this):this},r.add=function(k){for(var P=Math.max(this.g.length,k.g.length),C=[],L=0,V=0;V<=P;V++){var j=L+(this.i(V)&65535)+(k.i(V)&65535),F=(j>>>16)+(this.i(V)>>>16)+(k.i(V)>>>16);L=F>>>16,j&=65535,F&=65535,C[V]=F<<16|j}return new l(C,C[C.length-1]&-2147483648?-1:0)};function H(k,P){return k.add(S(P))}r.j=function(k){if(A(this)||A(k))return _;if(w(this))return w(k)?S(this).j(S(k)):S(S(this).j(k));if(w(k))return S(this.j(S(k)));if(0>this.l(E)&&0>k.l(E))return d(this.m()*k.m());for(var P=this.g.length+k.g.length,C=[],L=0;L<2*P;L++)C[L]=0;for(L=0;L<this.g.length;L++)for(var V=0;V<k.g.length;V++){var j=this.i(L)>>>16,F=this.i(L)&65535,qe=k.i(V)>>>16,We=k.i(V)&65535;C[2*L+2*V]+=F*We,z(C,2*L+2*V),C[2*L+2*V+1]+=j*We,z(C,2*L+2*V+1),C[2*L+2*V+1]+=F*qe,z(C,2*L+2*V+1),C[2*L+2*V+2]+=j*qe,z(C,2*L+2*V+2)}for(L=0;L<P;L++)C[L]=C[2*L+1]<<16|C[2*L];for(L=P;L<2*P;L++)C[L]=0;return new l(C,0)};function z(k,P){for(;(k[P]&65535)!=k[P];)k[P+1]+=k[P]>>>16,k[P]&=65535,P++}function W(k,P){this.g=k,this.h=P}function Z(k,P){if(A(P))throw Error("division by zero");if(A(k))return new W(_,_);if(w(k))return P=Z(S(k),P),new W(S(P.g),S(P.h));if(w(P))return P=Z(k,S(P)),new W(S(P.g),P.h);if(30<k.g.length){if(w(k)||w(P))throw Error("slowDivide_ only works with positive integers.");for(var C=y,L=P;0>=L.l(k);)C=fe(C),L=fe(L);var V=ge(C,1),j=ge(L,1);for(L=ge(L,2),C=ge(C,2);!A(L);){var F=j.add(L);0>=F.l(k)&&(V=V.add(C),j=F),L=ge(L,1),C=ge(C,1)}return P=H(k,V.j(P)),new W(V,P)}for(V=_;0<=k.l(P);){for(C=Math.max(1,Math.floor(k.m()/P.m())),L=Math.ceil(Math.log(C)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),j=d(C),F=j.j(P);w(F)||0<F.l(k);)C-=L,j=d(C),F=j.j(P);A(j)&&(j=y),V=V.add(j),k=H(k,F)}return new W(V,k)}r.A=function(k){return Z(this,k).h},r.and=function(k){for(var P=Math.max(this.g.length,k.g.length),C=[],L=0;L<P;L++)C[L]=this.i(L)&k.i(L);return new l(C,this.h&k.h)},r.or=function(k){for(var P=Math.max(this.g.length,k.g.length),C=[],L=0;L<P;L++)C[L]=this.i(L)|k.i(L);return new l(C,this.h|k.h)},r.xor=function(k){for(var P=Math.max(this.g.length,k.g.length),C=[],L=0;L<P;L++)C[L]=this.i(L)^k.i(L);return new l(C,this.h^k.h)};function fe(k){for(var P=k.g.length+1,C=[],L=0;L<P;L++)C[L]=k.i(L)<<1|k.i(L-1)>>>31;return new l(C,k.h)}function ge(k,P){var C=P>>5;P%=32;for(var L=k.g.length-C,V=[],j=0;j<L;j++)V[j]=0<P?k.i(j+C)>>>P|k.i(j+C+1)<<32-P:k.i(j+C);return new l(V,k.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,kE=n,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=d,l.fromString=m,xa=l}).apply(typeof F_<"u"?F_:typeof self<"u"?self:typeof window<"u"?window:{});var qf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var NE,Du,OE,ph,Yp,DE,FE,LE;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,v,T){return f==Array.prototype||f==Object.prototype||(f[v]=T.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof qf=="object"&&qf];for(var v=0;v<f.length;++v){var T=f[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var n=t(this);function i(f,v){if(v)e:{var T=n;f=f.split(".");for(var N=0;N<f.length-1;N++){var ee=f[N];if(!(ee in T))break e;T=T[ee]}f=f[f.length-1],N=T[f],v=v(N),v!=N&&v!=null&&e(T,f,{configurable:!0,writable:!0,value:v})}}function o(f,v){f instanceof String&&(f+="");var T=0,N=!1,ee={next:function(){if(!N&&T<f.length){var ue=T++;return{value:v(ue,f[ue]),done:!1}}return N=!0,{done:!0,value:void 0}}};return ee[Symbol.iterator]=function(){return ee},ee}i("Array.prototype.values",function(f){return f||function(){return o(this,function(v,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function h(f){var v=typeof f;return v=v!="object"?v:f?Array.isArray(f)?"array":v:"null",v=="array"||v=="object"&&typeof f.length=="number"}function d(f){var v=typeof f;return v=="object"&&f!=null||v=="function"}function m(f,v,T){return f.call.apply(f.bind,arguments)}function _(f,v,T){if(!f)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var ee=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ee,N),f.apply(v,ee)}}return function(){return f.apply(v,arguments)}}function y(f,v,T){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:_,y.apply(null,arguments)}function E(f,v){var T=Array.prototype.slice.call(arguments,1);return function(){var N=T.slice();return N.push.apply(N,arguments),f.apply(this,N)}}function A(f,v){function T(){}T.prototype=v.prototype,f.aa=v.prototype,f.prototype=new T,f.prototype.constructor=f,f.Qb=function(N,ee,ue){for(var De=Array(arguments.length-2),St=2;St<arguments.length;St++)De[St-2]=arguments[St];return v.prototype[ee].apply(N,De)}}function w(f){const v=f.length;if(0<v){const T=Array(v);for(let N=0;N<v;N++)T[N]=f[N];return T}return[]}function S(f,v){for(let T=1;T<arguments.length;T++){const N=arguments[T];if(h(N)){const ee=f.length||0,ue=N.length||0;f.length=ee+ue;for(let De=0;De<ue;De++)f[ee+De]=N[De]}else f.push(N)}}class H{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function z(f){return/^[\s\xa0]*$/.test(f)}function W(){var f=c.navigator;return f&&(f=f.userAgent)?f:""}function Z(f){return Z[" "](f),f}Z[" "]=function(){};var fe=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function ge(f,v,T){for(const N in f)v.call(T,f[N],N,f)}function k(f,v){for(const T in f)v.call(void 0,f[T],T,f)}function P(f){const v={};for(const T in f)v[T]=f[T];return v}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(f,v){let T,N;for(let ee=1;ee<arguments.length;ee++){N=arguments[ee];for(T in N)f[T]=N[T];for(let ue=0;ue<C.length;ue++)T=C[ue],Object.prototype.hasOwnProperty.call(N,T)&&(f[T]=N[T])}}function V(f){var v=1;f=f.split(":");const T=[];for(;0<v&&f.length;)T.push(f.shift()),v--;return f.length&&T.push(f.join(":")),T}function j(f){c.setTimeout(()=>{throw f},0)}function F(){var f=Le;let v=null;return f.g&&(v=f.g,f.g=f.g.next,f.g||(f.h=null),v.next=null),v}class qe{constructor(){this.h=this.g=null}add(v,T){const N=We.get();N.set(v,T),this.h?this.h.next=N:this.g=N,this.h=N}}var We=new H(()=>new ut,f=>f.reset());class ut{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let Xe,Te=!1,Le=new qe,Fe=()=>{const f=c.Promise.resolve(void 0);Xe=()=>{f.then(J)}};var J=()=>{for(var f;f=F();){try{f.h.call(f.g)}catch(T){j(T)}var v=We;v.j(f),100>v.h&&(v.h++,f.next=v.g,v.g=f)}Te=!1};function O(){this.s=this.s,this.C=this.C}O.prototype.s=!1,O.prototype.ma=function(){this.s||(this.s=!0,this.N())},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Y(f,v){this.type=f,this.g=this.target=v,this.defaultPrevented=!1}Y.prototype.h=function(){this.defaultPrevented=!0};var q=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,v=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const T=()=>{};c.addEventListener("test",T,v),c.removeEventListener("test",T,v)}catch{}return f})();function K(f,v){if(Y.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var T=this.type=f.type,N=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=v,v=f.relatedTarget){if(fe){e:{try{Z(v.nodeName);var ee=!0;break e}catch{}ee=!1}ee||(v=null)}}else T=="mouseover"?v=f.fromElement:T=="mouseout"&&(v=f.toElement);this.relatedTarget=v,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:le[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&K.aa.h.call(this)}}A(K,Y);var le={2:"touch",3:"pen",4:"mouse"};K.prototype.h=function(){K.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Ae="closure_listenable_"+(1e6*Math.random()|0),Re=0;function Pe(f,v,T,N,ee){this.listener=f,this.proxy=null,this.src=v,this.type=T,this.capture=!!N,this.ha=ee,this.key=++Re,this.da=this.fa=!1}function Se(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function lt(f){this.src=f,this.g={},this.h=0}lt.prototype.add=function(f,v,T,N,ee){var ue=f.toString();f=this.g[ue],f||(f=this.g[ue]=[],this.h++);var De=Bt(f,v,N,ee);return-1<De?(v=f[De],T||(v.fa=!1)):(v=new Pe(v,this.src,ue,!!N,ee),v.fa=T,f.push(v)),v};function it(f,v){var T=v.type;if(T in f.g){var N=f.g[T],ee=Array.prototype.indexOf.call(N,v,void 0),ue;(ue=0<=ee)&&Array.prototype.splice.call(N,ee,1),ue&&(Se(v),f.g[T].length==0&&(delete f.g[T],f.h--))}}function Bt(f,v,T,N){for(var ee=0;ee<f.length;++ee){var ue=f[ee];if(!ue.da&&ue.listener==v&&ue.capture==!!T&&ue.ha==N)return ee}return-1}var at="closure_lm_"+(1e6*Math.random()|0),zr={};function Pt(f,v,T,N,ee){if(Array.isArray(v)){for(var ue=0;ue<v.length;ue++)Pt(f,v[ue],T,N,ee);return null}return T=Ti(T),f&&f[Ae]?f.K(v,T,d(N)?!!N.capture:!1,ee):Ue(f,v,T,!1,N,ee)}function Ue(f,v,T,N,ee,ue){if(!v)throw Error("Invalid event type");var De=d(ee)?!!ee.capture:!!ee,St=wi(f);if(St||(f[at]=St=new lt(f)),T=St.add(v,T,N,De,ue),T.proxy)return T;if(N=Ar(),T.proxy=N,N.src=f,N.listener=T,f.addEventListener)q||(ee=De),ee===void 0&&(ee=!1),f.addEventListener(v.toString(),N,ee);else if(f.attachEvent)f.attachEvent(Wr(v.toString()),N);else if(f.addListener&&f.removeListener)f.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Ar(){function f(T){return v.call(f.src,f.listener,T)}const v=Ds;return f}function Hr(f,v,T,N,ee){if(Array.isArray(v))for(var ue=0;ue<v.length;ue++)Hr(f,v[ue],T,N,ee);else N=d(N)?!!N.capture:!!N,T=Ti(T),f&&f[Ae]?(f=f.i,v=String(v).toString(),v in f.g&&(ue=f.g[v],T=Bt(ue,T,N,ee),-1<T&&(Se(ue[T]),Array.prototype.splice.call(ue,T,1),ue.length==0&&(delete f.g[v],f.h--)))):f&&(f=wi(f))&&(v=f.g[v.toString()],f=-1,v&&(f=Bt(v,T,N,ee)),(T=-1<f?v[f]:null)&&Ir(T))}function Ir(f){if(typeof f!="number"&&f&&!f.da){var v=f.src;if(v&&v[Ae])it(v.i,f);else{var T=f.type,N=f.proxy;v.removeEventListener?v.removeEventListener(T,N,f.capture):v.detachEvent?v.detachEvent(Wr(T),N):v.addListener&&v.removeListener&&v.removeListener(N),(T=wi(v))?(it(T,f),T.h==0&&(T.src=null,v[at]=null)):Se(f)}}}function Wr(f){return f in zr?zr[f]:zr[f]="on"+f}function Ds(f,v){if(f.da)f=!0;else{v=new K(v,this);var T=f.listener,N=f.ha||f.src;f.fa&&Ir(f),f=T.call(N,v)}return f}function wi(f){return f=f[at],f instanceof lt?f:null}var Cr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ti(f){return typeof f=="function"?f:(f[Cr]||(f[Cr]=function(v){return f.handleEvent(v)}),f[Cr])}function Ht(){O.call(this),this.i=new lt(this),this.M=this,this.F=null}A(Ht,O),Ht.prototype[Ae]=!0,Ht.prototype.removeEventListener=function(f,v,T,N){Hr(this,f,v,T,N)};function Wt(f,v){var T,N=f.F;if(N)for(T=[];N;N=N.F)T.push(N);if(f=f.M,N=v.type||v,typeof v=="string")v=new Y(v,f);else if(v instanceof Y)v.target=v.target||f;else{var ee=v;v=new Y(N,f),L(v,ee)}if(ee=!0,T)for(var ue=T.length-1;0<=ue;ue--){var De=v.g=T[ue];ee=Rr(De,N,!0,v)&&ee}if(De=v.g=f,ee=Rr(De,N,!0,v)&&ee,ee=Rr(De,N,!1,v)&&ee,T)for(ue=0;ue<T.length;ue++)De=v.g=T[ue],ee=Rr(De,N,!1,v)&&ee}Ht.prototype.N=function(){if(Ht.aa.N.call(this),this.i){var f=this.i,v;for(v in f.g){for(var T=f.g[v],N=0;N<T.length;N++)Se(T[N]);delete f.g[v],f.h--}}this.F=null},Ht.prototype.K=function(f,v,T,N){return this.i.add(String(f),v,!1,T,N)},Ht.prototype.L=function(f,v,T,N){return this.i.add(String(f),v,!0,T,N)};function Rr(f,v,T,N){if(v=f.i.g[String(v)],!v)return!0;v=v.concat();for(var ee=!0,ue=0;ue<v.length;++ue){var De=v[ue];if(De&&!De.da&&De.capture==T){var St=De.listener,cr=De.ha||De.src;De.fa&&it(f.i,De),ee=St.call(cr,N)!==!1&&ee}}return ee&&!N.defaultPrevented}function Oa(f,v,T){if(typeof f=="function")T&&(f=y(f,T));else if(f&&typeof f.handleEvent=="function")f=y(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:c.setTimeout(f,v||0)}function Qn(f){f.g=Oa(()=>{f.g=null,f.i&&(f.i=!1,Qn(f))},f.l);const v=f.h;f.h=null,f.m.apply(null,v)}class Si extends O{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Qn(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ai(f){O.call(this),this.h=f,this.g={}}A(Ai,O);var Fs=[];function Ls(f){ge(f.g,function(v,T){this.g.hasOwnProperty(T)&&Ir(v)},f),f.g={}}Ai.prototype.N=function(){Ai.aa.N.call(this),Ls(this)},Ai.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ms=c.JSON.stringify,Da=c.JSON.parse,Fa=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function Ii(){}Ii.prototype.h=null;function Yi(f){return f.h||(f.h=f.i())}function Qi(){}var un={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Mn(){Y.call(this,"d")}A(Mn,Y);function Jn(){Y.call(this,"c")}A(Jn,Y);var Vn={},La=null;function Ji(){return La=La||new Ht}Vn.La="serverreachability";function Ma(f){Y.call(this,Vn.La,f)}A(Ma,Y);function Zn(f){const v=Ji();Wt(v,new Ma(v))}Vn.STAT_EVENT="statevent";function Va(f,v){Y.call(this,Vn.STAT_EVENT,f),this.stat=v}A(Va,Y);function $t(f){const v=Ji();Wt(v,new Va(v,f))}Vn.Ma="timingevent";function Vs(f,v){Y.call(this,Vn.Ma,f),this.size=v}A(Vs,Y);function tn(f,v){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},v)}function Zi(){this.g=!0}Zi.prototype.xa=function(){this.g=!1};function es(f,v,T,N,ee,ue){f.info(function(){if(f.g)if(ue)for(var De="",St=ue.split("&"),cr=0;cr<St.length;cr++){var pt=St[cr].split("=");if(1<pt.length){var gr=pt[0];pt=pt[1];var rr=gr.split("_");De=2<=rr.length&&rr[1]=="type"?De+(gr+"="+pt+"&"):De+(gr+"=redacted&")}}else De=null;else De=ue;return"XMLHTTP REQ ("+N+") [attempt "+ee+"]: "+v+`
`+T+`
`+De})}function bs(f,v,T,N,ee,ue,De){f.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+ee+"]: "+v+`
`+T+`
`+ue+" "+De})}function R(f,v,T,N){f.info(function(){return"XMLHTTP TEXT ("+v+"): "+D(f,T)+(N?" "+N:"")})}function b(f,v){f.info(function(){return"TIMEOUT: "+v})}Zi.prototype.info=function(){};function D(f,v){if(!f.g)return v;if(!v)return null;try{var T=JSON.parse(v);if(T){for(f=0;f<T.length;f++)if(Array.isArray(T[f])){var N=T[f];if(!(2>N.length)){var ee=N[1];if(Array.isArray(ee)&&!(1>ee.length)){var ue=ee[0];if(ue!="noop"&&ue!="stop"&&ue!="close")for(var De=1;De<ee.length;De++)ee[De]=""}}}}return Ms(T)}catch{return v}}var M={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},U={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},B;function re(){}A(re,Ii),re.prototype.g=function(){return new XMLHttpRequest},re.prototype.i=function(){return{}},B=new re;function ce(f,v,T,N){this.j=f,this.i=v,this.l=T,this.R=N||1,this.U=new Ai(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ne}function ne(){this.i=null,this.g="",this.h=!1}var se={},ae={};function xe(f,v,T){f.L=1,f.v=Hs(Tn(v)),f.m=T,f.P=!0,Ne(f,null)}function Ne(f,v){f.F=Date.now(),Ee(f),f.A=Tn(f.v);var T=f.A,N=f.R;Array.isArray(N)||(N=[String(N)]),$s(T.i,"t",N),f.C=0,T=f.j.J,f.h=new ne,f.g=qc(f.j,T?v:null,!f.m),0<f.O&&(f.M=new Si(y(f.Y,f,f.g),f.O)),v=f.U,T=f.g,N=f.ca;var ee="readystatechange";Array.isArray(ee)||(ee&&(Fs[0]=ee.toString()),ee=Fs);for(var ue=0;ue<ee.length;ue++){var De=Pt(T,ee[ue],N||v.handleEvent,!1,v.h||v);if(!De)break;v.g[De.key]=De}v=f.H?P(f.H):{},f.m?(f.u||(f.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,v)):(f.u="GET",f.g.ea(f.A,f.u,null,v)),Zn(),es(f.i,f.u,f.A,f.l,f.R,f.m)}ce.prototype.ca=function(f){f=f.target;const v=this.M;v&&fn(f)==3?v.j():this.Y(f)},ce.prototype.Y=function(f){try{if(f==this.g)e:{const rr=fn(this.g);var v=this.g.Ba();const Un=this.g.Z();if(!(3>rr)&&(rr!=3||this.g&&(this.h.h||this.g.oa()||nu(this.g)))){this.J||rr!=4||v==7||(v==8||0>=Un?Zn(3):Zn(2)),xt(this);var T=this.g.Z();this.X=T;t:if(Me(this)){var N=nu(this.g);f="";var ee=N.length,ue=fn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Tt(this),vt(this);var De="";break t}this.h.i=new c.TextDecoder}for(v=0;v<ee;v++)this.h.h=!0,f+=this.h.i.decode(N[v],{stream:!(ue&&v==ee-1)});N.length=0,this.h.g+=f,this.C=0,De=this.h.g}else De=this.g.oa();if(this.o=T==200,bs(this.i,this.u,this.A,this.l,this.R,rr,T),this.o){if(this.T&&!this.K){t:{if(this.g){var St,cr=this.g;if((St=cr.g?cr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(St)){var pt=St;break t}}pt=null}if(T=pt)R(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ei(this,T);else{this.o=!1,this.s=3,$t(12),Tt(this),vt(this);break e}}if(this.P){T=!0;let An;for(;!this.J&&this.C<De.length;)if(An=Ie(this,De),An==ae){rr==4&&(this.s=4,$t(14),T=!1),R(this.i,this.l,null,"[Incomplete Response]");break}else if(An==se){this.s=4,$t(15),R(this.i,this.l,De,"[Invalid Chunk]"),T=!1;break}else R(this.i,this.l,An,null),ei(this,An);if(Me(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rr!=4||De.length!=0||this.h.h||(this.s=1,$t(16),T=!1),this.o=this.o&&T,!T)R(this.i,this.l,De,"[Invalid Chunked Response]"),Tt(this),vt(this);else if(0<De.length&&!this.W){this.W=!0;var gr=this.j;gr.g==this&&gr.ba&&!gr.M&&(gr.j.info("Great, no buffering proxy detected. Bytes received: "+De.length),su(gr),gr.M=!0,$t(11))}}else R(this.i,this.l,De,null),ei(this,De);rr==4&&Tt(this),this.o&&!this.J&&(rr==4?Uo(this.j,this):(this.o=!1,Ee(this)))}else Fo(this.g),T==400&&0<De.indexOf("Unknown SID")?(this.s=3,$t(12)):(this.s=0,$t(13)),Tt(this),vt(this)}}}catch{}finally{}};function Me(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Ie(f,v){var T=f.C,N=v.indexOf(`
`,T);return N==-1?ae:(T=Number(v.substring(T,N)),isNaN(T)?se:(N+=1,N+T>v.length?ae:(v=v.slice(N,N+T),f.C=N+T,v)))}ce.prototype.cancel=function(){this.J=!0,Tt(this)};function Ee(f){f.S=Date.now()+f.I,Ze(f,f.I)}function Ze(f,v){if(f.B!=null)throw Error("WatchDog timer not null");f.B=tn(y(f.ba,f),v)}function xt(f){f.B&&(c.clearTimeout(f.B),f.B=null)}ce.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(b(this.i,this.A),this.L!=2&&(Zn(),$t(17)),Tt(this),this.s=2,vt(this)):Ze(this,this.S-f)};function vt(f){f.j.G==0||f.J||Uo(f.j,f)}function Tt(f){xt(f);var v=f.M;v&&typeof v.ma=="function"&&v.ma(),f.M=null,Ls(f.U),f.g&&(v=f.g,f.g=null,v.abort(),v.ma())}function ei(f,v){try{var T=f.j;if(T.G!=0&&(T.g==f||Lt(T.h,f))){if(!f.K&&Lt(T.h,f)&&T.G==3){try{var N=T.Da.g.parse(v)}catch{N=null}if(Array.isArray(N)&&N.length==3){var ee=N;if(ee[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<f.F)bo(T),si(T);else break e;Vo(T),$t(18)}}else T.za=ee[1],0<T.za-T.T&&37500>ee[2]&&T.F&&T.v==0&&!T.C&&(T.C=tn(y(T.Za,T),6e3));if(1>=Us(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else ss(T,11)}else if((f.K||T.g==f)&&bo(T),!z(v))for(ee=T.Da.g.parse(v),v=0;v<ee.length;v++){let pt=ee[v];if(T.T=pt[0],pt=pt[1],T.G==2)if(pt[0]=="c"){T.K=pt[1],T.ia=pt[2];const gr=pt[3];gr!=null&&(T.la=gr,T.j.info("VER="+T.la));const rr=pt[4];rr!=null&&(T.Aa=rr,T.j.info("SVER="+T.Aa));const Un=pt[5];Un!=null&&typeof Un=="number"&&0<Un&&(N=1.5*Un,T.L=N,T.j.info("backChannelRequestTimeoutMs_="+N)),N=T;const An=f.g;if(An){const Ha=An.g?An.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ha){var ue=N.h;ue.g||Ha.indexOf("spdy")==-1&&Ha.indexOf("quic")==-1&&Ha.indexOf("h2")==-1||(ue.j=ue.l,ue.g=new Set,ue.h&&(Zl(ue,ue.h),ue.h=null))}if(N.D){const jo=An.g?An.g.getResponseHeader("X-HTTP-Session-Id"):null;jo&&(N.ya=jo,Ot(N.I,N.D,jo))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-f.F,T.j.info("Handshake RTT: "+T.R+"ms")),N=T;var De=f;if(N.qa=Kc(N,N.J?N.ia:null,N.W),De.K){Lc(N.h,De);var St=De,cr=N.L;cr&&(St.I=cr),St.B&&(xt(St),Ee(St)),N.g=De}else za(N);0<T.i.length&&Ni(T)}else pt[0]!="stop"&&pt[0]!="close"||ss(T,7);else T.G==3&&(pt[0]=="stop"||pt[0]=="close"?pt[0]=="stop"?ss(T,7):kr(T):pt[0]!="noop"&&T.l&&T.l.ta(pt),T.v=0)}}Zn(4)}catch{}}var Ci=class{constructor(f,v){this.g=f,this.map=v}};function wn(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zt(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Us(f){return f.h?1:f.g?f.g.size:0}function Lt(f,v){return f.h?f.h==v:f.g?f.g.has(v):!1}function Zl(f,v){f.g?f.g.add(v):f.h=v}function Lc(f,v){f.h&&f.h==v?f.h=null:f.g&&f.g.has(v)&&f.g.delete(v)}wn.prototype.cancel=function(){if(this.i=Mc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Mc(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let v=f.i;for(const T of f.g.values())v=v.concat(T.D);return v}return w(f.i)}function Po(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(h(f)){for(var v=[],T=f.length,N=0;N<T;N++)v.push(f[N]);return v}v=[],T=0;for(N in f)v[T++]=f[N];return v}function ko(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(h(f)||typeof f=="string"){var v=[];f=f.length;for(var T=0;T<f;T++)v.push(T);return v}v=[],T=0;for(const N in f)v[T++]=N;return v}}}function Bs(f,v){if(f.forEach&&typeof f.forEach=="function")f.forEach(v,void 0);else if(h(f)||typeof f=="string")Array.prototype.forEach.call(f,v,void 0);else for(var T=ko(f),N=Po(f),ee=N.length,ue=0;ue<ee;ue++)v.call(void 0,N[ue],T&&T[ue],f)}var ba=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function z0(f,v){if(f){f=f.split("&");for(var T=0;T<f.length;T++){var N=f[T].indexOf("="),ee=null;if(0<=N){var ue=f[T].substring(0,N);ee=f[T].substring(N+1)}else ue=f[T];v(ue,ee?decodeURIComponent(ee.replace(/\+/g," ")):"")}}}function ts(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof ts){this.h=f.h,Ua(this,f.j),this.o=f.o,this.g=f.g,js(this,f.s),this.l=f.l;var v=f.i,T=new Ri;T.i=v.i,v.g&&(T.g=new Map(v.g),T.h=v.h),zs(this,T),this.m=f.m}else f&&(v=String(f).match(ba))?(this.h=!1,Ua(this,v[1]||"",!0),this.o=dt(v[2]||""),this.g=dt(v[3]||"",!0),js(this,v[4]),this.l=dt(v[5]||"",!0),zs(this,v[6]||"",!0),this.m=dt(v[7]||"")):(this.h=!1,this.i=new Ri(null,this.h))}ts.prototype.toString=function(){var f=[],v=this.j;v&&f.push(Ws(v,No,!0),":");var T=this.g;return(T||v=="file")&&(f.push("//"),(v=this.o)&&f.push(Ws(v,No,!0),"@"),f.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&f.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&f.push("/"),f.push(Ws(T,T.charAt(0)=="/"?Uc:bc,!0))),(T=this.i.toString())&&f.push("?",T),(T=this.m)&&f.push("#",Ws(T,eu)),f.join("")};function Tn(f){return new ts(f)}function Ua(f,v,T){f.j=T?dt(v,!0):v,f.j&&(f.j=f.j.replace(/:$/,""))}function js(f,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);f.s=v}else f.s=null}function zs(f,v,T){v instanceof Ri?(f.i=v,Pi(f.i,f.h)):(T||(v=Ws(v,Bc)),f.i=new Ri(v,f.h))}function Ot(f,v,T){f.i.set(v,T)}function Hs(f){return Ot(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function dt(f,v){return f?v?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Ws(f,v,T){return typeof f=="string"?(f=encodeURI(f).replace(v,Vc),T&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Vc(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var No=/[#\/\?@]/g,bc=/[#\?:]/g,Uc=/[#\?]/g,Bc=/[#\?@]/g,eu=/#/g;function Ri(f,v){this.h=this.g=null,this.i=f||null,this.j=!!v}function Pr(f){f.g||(f.g=new Map,f.h=0,f.i&&z0(f.i,function(v,T){f.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}r=Ri.prototype,r.add=function(f,v){Pr(this),this.i=null,f=bn(this,f);var T=this.g.get(f);return T||this.g.set(f,T=[]),T.push(v),this.h+=1,this};function ti(f,v){Pr(f),v=bn(f,v),f.g.has(v)&&(f.i=null,f.h-=f.g.get(v).length,f.g.delete(v))}function ri(f,v){return Pr(f),v=bn(f,v),f.g.has(v)}r.forEach=function(f,v){Pr(this),this.g.forEach(function(T,N){T.forEach(function(ee){f.call(v,ee,N,this)},this)},this)},r.na=function(){Pr(this);const f=Array.from(this.g.values()),v=Array.from(this.g.keys()),T=[];for(let N=0;N<v.length;N++){const ee=f[N];for(let ue=0;ue<ee.length;ue++)T.push(v[N])}return T},r.V=function(f){Pr(this);let v=[];if(typeof f=="string")ri(this,f)&&(v=v.concat(this.g.get(bn(this,f))));else{f=Array.from(this.g.values());for(let T=0;T<f.length;T++)v=v.concat(f[T])}return v},r.set=function(f,v){return Pr(this),this.i=null,f=bn(this,f),ri(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[v]),this.h+=1,this},r.get=function(f,v){return f?(f=this.V(f),0<f.length?String(f[0]):v):v};function $s(f,v,T){ti(f,v),0<T.length&&(f.i=null,f.g.set(bn(f,v),w(T)),f.h+=T.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],v=Array.from(this.g.keys());for(var T=0;T<v.length;T++){var N=v[T];const ue=encodeURIComponent(String(N)),De=this.V(N);for(N=0;N<De.length;N++){var ee=ue;De[N]!==""&&(ee+="="+encodeURIComponent(String(De[N]))),f.push(ee)}}return this.i=f.join("&")};function bn(f,v){return v=String(v),f.j&&(v=v.toLowerCase()),v}function Pi(f,v){v&&!f.j&&(Pr(f),f.i=null,f.g.forEach(function(T,N){var ee=N.toLowerCase();N!=ee&&(ti(this,N),$s(this,ee,T))},f)),f.j=v}function H0(f,v){const T=new Zi;if(c.Image){const N=new Image;N.onload=E(cn,T,"TestLoadImage: loaded",!0,v,N),N.onerror=E(cn,T,"TestLoadImage: error",!1,v,N),N.onabort=E(cn,T,"TestLoadImage: abort",!1,v,N),N.ontimeout=E(cn,T,"TestLoadImage: timeout",!1,v,N),c.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=f}else v(!1)}function jc(f,v){const T=new Zi,N=new AbortController,ee=setTimeout(()=>{N.abort(),cn(T,"TestPingServer: timeout",!1,v)},1e4);fetch(f,{signal:N.signal}).then(ue=>{clearTimeout(ee),ue.ok?cn(T,"TestPingServer: ok",!0,v):cn(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(ee),cn(T,"TestPingServer: error",!1,v)})}function cn(f,v,T,N,ee){try{ee&&(ee.onload=null,ee.onerror=null,ee.onabort=null,ee.ontimeout=null),N(T)}catch{}}function W0(){this.g=new Fa}function zc(f,v,T){const N=T||"";try{Bs(f,function(ee,ue){let De=ee;d(ee)&&(De=Ms(ee)),v.push(N+ue+"="+encodeURIComponent(De))})}catch(ee){throw v.push(N+"type="+encodeURIComponent("_badmap")),ee}}function rs(f){this.l=f.Ub||null,this.j=f.eb||!1}A(rs,Ii),rs.prototype.g=function(){return new Ba(this.l,this.j)},rs.prototype.i=(function(f){return function(){return f}})({});function Ba(f,v){Ht.call(this),this.D=f,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Ba,Ht),r=Ba.prototype,r.open=function(f,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=v,this.readyState=1,ii(this)},r.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(v.body=f),(this.D||c).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ni(this)),this.readyState=0},r.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,ii(this)),this.g&&(this.readyState=3,ii(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Hc(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Hc(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}r.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var v=f.value?f.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!f.done}))&&(this.response=this.responseText+=v)}f.done?ni(this):ii(this),this.readyState==3&&Hc(this)}},r.Ra=function(f){this.g&&(this.response=this.responseText=f,ni(this))},r.Qa=function(f){this.g&&(this.response=f,ni(this))},r.ga=function(){this.g&&ni(this)};function ni(f){f.readyState=4,f.l=null,f.j=null,f.v=null,ii(f)}r.setRequestHeader=function(f,v){this.u.append(f,v)},r.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,f.push(T[0]+": "+T[1]),T=v.next();return f.join(`\r
`)};function ii(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Ba.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function ns(f){let v="";return ge(f,function(T,N){v+=N,v+=":",v+=T,v+=`\r
`}),v}function Gs(f,v,T){e:{for(N in T){var N=!1;break e}N=!0}N||(T=ns(T),typeof f=="string"?T!=null&&encodeURIComponent(String(T)):Ot(f,v,T))}function jt(f){Ht.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(jt,Ht);var $0=/^https?$/i,tu=["POST","PUT"];r=jt.prototype,r.Ha=function(f){this.J=f},r.ea=function(f,v,T,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);v=v?v.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():B.g(),this.v=this.o?Yi(this.o):Yi(B),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(v,String(f),!0),this.B=!1}catch(ue){ja(this,ue);return}if(f=T||"",T=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var ee in N)T.set(ee,N[ee]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const ue of N.keys())T.set(ue,N.get(ue));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(T.keys()).find(ue=>ue.toLowerCase()=="content-type"),ee=c.FormData&&f instanceof c.FormData,!(0<=Array.prototype.indexOf.call(tu,v,void 0))||N||ee||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ue,De]of T)this.g.setRequestHeader(ue,De);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Do(this),this.u=!0,this.g.send(f),this.u=!1}catch(ue){ja(this,ue)}};function ja(f,v){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=v,f.m=5,Oo(f),Sn(f)}function Oo(f){f.A||(f.A=!0,Wt(f,"complete"),Wt(f,"error"))}r.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Wt(this,"complete"),Wt(this,"abort"),Sn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Sn(this,!0)),jt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ru(this):this.bb())},r.bb=function(){ru(this)};function ru(f){if(f.h&&typeof l<"u"&&(!f.v[1]||fn(f)!=4||f.Z()!=2)){if(f.u&&fn(f)==4)Oa(f.Ea,0,f);else if(Wt(f,"readystatechange"),fn(f)==4){f.h=!1;try{const De=f.Z();e:switch(De){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var T;if(!(T=v)){var N;if(N=De===0){var ee=String(f.D).match(ba)[1]||null;!ee&&c.self&&c.self.location&&(ee=c.self.location.protocol.slice(0,-1)),N=!$0.test(ee?ee.toLowerCase():"")}T=N}if(T)Wt(f,"complete"),Wt(f,"success");else{f.m=6;try{var ue=2<fn(f)?f.g.statusText:""}catch{ue=""}f.l=ue+" ["+f.Z()+"]",Oo(f)}}finally{Sn(f)}}}}function Sn(f,v){if(f.g){Do(f);const T=f.g,N=f.v[0]?()=>{}:null;f.g=null,f.v=null,v||Wt(f,"ready");try{T.onreadystatechange=N}catch{}}}function Do(f){f.I&&(c.clearTimeout(f.I),f.I=null)}r.isActive=function(){return!!this.g};function fn(f){return f.g?f.g.readyState:0}r.Z=function(){try{return 2<fn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(f){if(this.g){var v=this.g.responseText;return f&&v.indexOf(f)==0&&(v=v.substring(f.length)),Da(v)}};function nu(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Fo(f){const v={};f=(f.g&&2<=fn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<f.length;N++){if(z(f[N]))continue;var T=V(f[N]);const ee=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const ue=v[ee]||[];v[ee]=ue,ue.push(T)}k(v,function(N){return N.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ki(f,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[f]||v}function iu(f){this.Aa=0,this.i=[],this.j=new Zi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ki("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ki("baseRetryDelayMs",5e3,f),this.cb=ki("retryDelaySeedMs",1e4,f),this.Wa=ki("forwardChannelMaxRetries",2,f),this.wa=ki("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new wn(f&&f.concurrentRequestLimit),this.Da=new W0,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=iu.prototype,r.la=8,r.G=1,r.connect=function(f,v,T,N){$t(0),this.W=f,this.H=v||{},T&&N!==void 0&&(this.H.OSID=T,this.H.OAID=N),this.F=this.X,this.I=Kc(this,null,this.W),Ni(this)};function kr(f){if(Lo(f),f.G==3){var v=f.U++,T=Tn(f.I);if(Ot(T,"SID",f.K),Ot(T,"RID",v),Ot(T,"TYPE","terminate"),is(f,T),v=new ce(f,f.j,v),v.L=2,v.v=Hs(Tn(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(v.v.toString(),"")}catch{}!T&&c.Image&&(new Image().src=v.v,T=!0),T||(v.g=qc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Ee(v)}Gc(f)}function si(f){f.g&&(su(f),f.g.cancel(),f.g=null)}function Lo(f){si(f),f.u&&(c.clearTimeout(f.u),f.u=null),bo(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&c.clearTimeout(f.s),f.s=null)}function Ni(f){if(!Zt(f.h)&&!f.s){f.s=!0;var v=f.Ga;Xe||Fe(),Te||(Xe(),Te=!0),Le.add(v,f),f.B=0}}function G0(f,v){return Us(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=v.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=tn(y(f.Ga,f,v),$c(f,f.B)),f.B++,!0)}r.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const ee=new ce(this,this.j,f);let ue=this.o;if(this.S&&(ue?(ue=P(ue),L(ue,this.S)):ue=this.S),this.m!==null||this.O||(ee.H=ue,ue=null),this.P)e:{for(var v=0,T=0;T<this.i.length;T++){t:{var N=this.i[T];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(v+=N,4096<v){v=T;break e}if(v===4096||T===this.i.length-1){v=T+1;break e}}v=1e3}else v=1e3;v=Ks(this,ee,v),T=Tn(this.I),Ot(T,"RID",f),Ot(T,"CVER",22),this.D&&Ot(T,"X-HTTP-Session-Id",this.D),is(this,T),ue&&(this.O?v="headers="+encodeURIComponent(String(ns(ue)))+"&"+v:this.m&&Gs(T,this.m,ue)),Zl(this.h,ee),this.Ua&&Ot(T,"TYPE","init"),this.P?(Ot(T,"$req",v),Ot(T,"SID","null"),ee.T=!0,xe(ee,T,null)):xe(ee,T,v),this.G=2}}else this.G==3&&(f?Mo(this,f):this.i.length==0||Zt(this.h)||Mo(this))};function Mo(f,v){var T;v?T=v.l:T=f.U++;const N=Tn(f.I);Ot(N,"SID",f.K),Ot(N,"RID",T),Ot(N,"AID",f.T),is(f,N),f.m&&f.o&&Gs(N,f.m,f.o),T=new ce(f,f.j,T,f.B+1),f.m===null&&(T.H=f.o),v&&(f.i=v.D.concat(f.i)),v=Ks(f,T,1e3),T.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Zl(f.h,T),xe(T,N,v)}function is(f,v){f.H&&ge(f.H,function(T,N){Ot(v,N,T)}),f.l&&Bs({},function(T,N){Ot(v,N,T)})}function Ks(f,v,T){T=Math.min(f.i.length,T);var N=f.l?y(f.l.Na,f.l,f):null;e:{var ee=f.i;let ue=-1;for(;;){const De=["count="+T];ue==-1?0<T?(ue=ee[0].g,De.push("ofs="+ue)):ue=0:De.push("ofs="+ue);let St=!0;for(let cr=0;cr<T;cr++){let pt=ee[cr].g;const gr=ee[cr].map;if(pt-=ue,0>pt)ue=Math.max(0,ee[cr].g-100),St=!1;else try{zc(gr,De,"req"+pt+"_")}catch{N&&N(gr)}}if(St){N=De.join("&");break e}}}return f=f.i.splice(0,T),v.D=f,N}function za(f){if(!f.g&&!f.u){f.Y=1;var v=f.Fa;Xe||Fe(),Te||(Xe(),Te=!0),Le.add(v,f),f.v=0}}function Vo(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=tn(y(f.Fa,f),$c(f,f.v)),f.v++,!0)}r.Fa=function(){if(this.u=null,Wc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=tn(y(this.ab,this),f)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,$t(10),si(this),Wc(this))};function su(f){f.A!=null&&(c.clearTimeout(f.A),f.A=null)}function Wc(f){f.g=new ce(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var v=Tn(f.qa);Ot(v,"RID","rpc"),Ot(v,"SID",f.K),Ot(v,"AID",f.T),Ot(v,"CI",f.F?"0":"1"),!f.F&&f.ja&&Ot(v,"TO",f.ja),Ot(v,"TYPE","xmlhttp"),is(f,v),f.m&&f.o&&Gs(v,f.m,f.o),f.L&&(f.g.I=f.L);var T=f.g;f=f.ia,T.L=1,T.v=Hs(Tn(v)),T.m=null,T.P=!0,Ne(T,f)}r.Za=function(){this.C!=null&&(this.C=null,si(this),Vo(this),$t(19))};function bo(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function Uo(f,v){var T=null;if(f.g==v){bo(f),su(f),f.g=null;var N=2}else if(Lt(f.h,v))T=v.D,Lc(f.h,v),N=1;else return;if(f.G!=0){if(v.o)if(N==1){T=v.m?v.m.length:0,v=Date.now()-v.F;var ee=f.B;N=Ji(),Wt(N,new Vs(N,T)),Ni(f)}else za(f);else if(ee=v.s,ee==3||ee==0&&0<v.X||!(N==1&&G0(f,v)||N==2&&Vo(f)))switch(T&&0<T.length&&(v=f.h,v.i=v.i.concat(T)),ee){case 1:ss(f,5);break;case 4:ss(f,10);break;case 3:ss(f,6);break;default:ss(f,2)}}}function $c(f,v){let T=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(T*=2),T*v}function ss(f,v){if(f.j.info("Error code "+v),v==2){var T=y(f.fb,f),N=f.Xa;const ee=!N;N=new ts(N||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ua(N,"https"),Hs(N),ee?H0(N.toString(),T):jc(N.toString(),T)}else $t(2);f.G=0,f.l&&f.l.sa(v),Gc(f),Lo(f)}r.fb=function(f){f?(this.j.info("Successfully pinged google.com"),$t(2)):(this.j.info("Failed to ping google.com"),$t(1))};function Gc(f){if(f.G=0,f.ka=[],f.l){const v=Mc(f.h);(v.length!=0||f.i.length!=0)&&(S(f.ka,v),S(f.ka,f.i),f.h.i.length=0,w(f.i),f.i.length=0),f.l.ra()}}function Kc(f,v,T){var N=T instanceof ts?Tn(T):new ts(T);if(N.g!="")v&&(N.g=v+"."+N.g),js(N,N.s);else{var ee=c.location;N=ee.protocol,v=v?v+"."+ee.hostname:ee.hostname,ee=+ee.port;var ue=new ts(null);N&&Ua(ue,N),v&&(ue.g=v),ee&&js(ue,ee),T&&(ue.l=T),N=ue}return T=f.D,v=f.ya,T&&v&&Ot(N,T,v),Ot(N,"VER",f.la),is(f,N),N}function qc(f,v,T){if(v&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=f.Ca&&!f.pa?new jt(new rs({eb:T})):new jt(f.pa),v.Ha(f.J),v}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function au(){}r=au.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Bo(){}Bo.prototype.g=function(f,v){return new rn(f,v)};function rn(f,v){Ht.call(this),this.g=new iu(v),this.l=f,this.h=v&&v.messageUrlParams||null,f=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(f?f["X-WebChannel-Content-Type"]=v.messageContentType:f={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(f?f["X-WebChannel-Client-Profile"]=v.va:f={"X-WebChannel-Client-Profile":v.va}),this.g.S=f,(f=v&&v.Sb)&&!z(f)&&(this.g.m=f),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!z(v)&&(this.g.D=v,f=this.h,f!==null&&v in f&&(f=this.h,v in f&&delete f[v])),this.j=new Oi(this)}A(rn,Ht),rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){kr(this.g)},rn.prototype.o=function(f){var v=this.g;if(typeof f=="string"){var T={};T.__data__=f,f=T}else this.u&&(T={},T.__data__=Ms(f),f=T);v.i.push(new Ci(v.Ya++,f)),v.G==3&&Ni(v)},rn.prototype.N=function(){this.g.l=null,delete this.j,kr(this.g),delete this.g,rn.aa.N.call(this)};function Xc(f){Mn.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var v=f.__sm__;if(v){e:{for(const T in v){f=T;break e}f=void 0}(this.i=f)&&(f=this.i,v=v!==null&&f in v?v[f]:void 0),this.data=v}else this.data=f}A(Xc,Mn);function Yc(){Jn.call(this),this.status=1}A(Yc,Jn);function Oi(f){this.g=f}A(Oi,au),Oi.prototype.ua=function(){Wt(this.g,"a")},Oi.prototype.ta=function(f){Wt(this.g,new Xc(f))},Oi.prototype.sa=function(f){Wt(this.g,new Yc)},Oi.prototype.ra=function(){Wt(this.g,"b")},Bo.prototype.createWebChannel=Bo.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,LE=function(){return new Bo},FE=function(){return Ji()},DE=Vn,Yp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},M.NO_ERROR=0,M.TIMEOUT=8,M.HTTP_ERROR=6,ph=M,U.COMPLETE="complete",OE=U,Qi.EventType=un,un.OPEN="a",un.CLOSE="b",un.ERROR="c",un.MESSAGE="d",Ht.prototype.listen=Ht.prototype.K,Du=Qi,jt.prototype.listenOnce=jt.prototype.L,jt.prototype.getLastError=jt.prototype.Ka,jt.prototype.getLastErrorCode=jt.prototype.Ba,jt.prototype.getStatus=jt.prototype.Z,jt.prototype.getResponseJson=jt.prototype.Oa,jt.prototype.getResponseText=jt.prototype.oa,jt.prototype.send=jt.prototype.ea,jt.prototype.setWithCredentials=jt.prototype.Ha,NE=jt}).apply(typeof qf<"u"?qf:typeof self<"u"?self:typeof window<"u"?window:{});const L_="@firebase/firestore",M_="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yr.UNAUTHENTICATED=new Yr(null),Yr.GOOGLE_CREDENTIALS=new Yr("google-credentials-uid"),Yr.FIRST_PARTY=new Yr("first-party-uid"),Yr.MOCK_USER=new Yr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wl="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po=new Tm("@firebase/firestore");function hl(){return po.logLevel}function Be(r,...e){if(po.logLevel<=ct.DEBUG){const t=e.map(Mm);po.debug(`Firestore (${Wl}): ${r}`,...t)}}function Is(r,...e){if(po.logLevel<=ct.ERROR){const t=e.map(Mm);po.error(`Firestore (${Wl}): ${r}`,...t)}}function Nl(r,...e){if(po.logLevel<=ct.WARN){const t=e.map(Mm);po.warn(`Firestore (${Wl}): ${r}`,...t)}}function Mm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Je(r,e,t){let n="Unexpected state";typeof e=="string"?n=e:t=e,ME(r,n,t)}function ME(r,e,t){let n=`FIRESTORE (${Wl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{n+=" CONTEXT: "+JSON.stringify(t)}catch{n+=" CONTEXT: "+t}throw Is(n),new Error(n)}function wt(r,e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,r||ME(e,i,n)}function nt(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends Ns{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class vP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Yr.UNAUTHENTICATED)))}shutdown(){}}class _P{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class yP{constructor(e){this.t=e,this.currentUser=Yr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){wt(this.o===void 0,42304);let n=this.i;const i=h=>this.i!==n?(n=this.i,t(h)):Promise.resolve();let o=new _s;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new _s,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const h=o;e.enqueueRetryable((async()=>{await h.promise,await i(this.currentUser)}))},c=h=>{Be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((h=>c(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(Be("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new _s)}}),0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((n=>this.i!==e?(Be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(wt(typeof n.accessToken=="string",31837,{l:n}),new VE(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return wt(e===null||typeof e=="string",2055,{h:e}),new Yr(e)}}class xP{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=Yr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class EP{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new xP(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Yr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class V_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wP{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,pi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){wt(this.o===void 0,3512);const n=o=>{o.error!=null&&Be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,Be("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>n(o)))};const i=o=>{Be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>i(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):Be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new V_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(wt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new V_(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TP(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<r;n++)t[n]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=TP(40);for(let o=0;o<i.length;++o)n.length<20&&i[o]<t&&(n+=e.charAt(i[o]%62))}return n}}function ft(r,e){return r<e?-1:r>e?1:0}function Qp(r,e){const t=Math.min(r.length,e.length);for(let n=0;n<t;n++){const i=r.charAt(n),o=e.charAt(n);if(i!==o)return Ip(i)===Ip(o)?ft(i,o):Ip(i)?1:-1}return ft(r.length,e.length)}const SP=55296,AP=57343;function Ip(r){const e=r.charCodeAt(0);return e>=SP&&e<=AP}function Ol(r,e,t){return r.length===e.length&&r.every(((n,i)=>t(n,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_="__name__";class Ui{constructor(e,t,n){t===void 0?t=0:t>e.length&&Je(637,{offset:t,range:e.length}),n===void 0?n=e.length-t:n>e.length-t&&Je(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return Ui.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ui?e.forEach((n=>{t.push(n)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const o=Ui.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return ft(e.length,t.length)}static compareSegments(e,t){const n=Ui.isNumericId(e),i=Ui.isNumericId(t);return n&&!i?-1:!n&&i?1:n&&i?Ui.extractNumericId(e).compare(Ui.extractNumericId(t)):Qp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xa.fromString(e.substring(4,e.length-2))}}class Ft extends Ui{construct(e,t,n){return new Ft(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new be(pe.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((i=>i.length>0)))}return new Ft(t)}static emptyPath(){return new Ft([])}}const IP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mr extends Ui{construct(e,t,n){return new Mr(e,t,n)}static isValidIdentifier(e){return IP.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===b_}static keyField(){return new Mr([b_])}static fromServerFormat(e){const t=[];let n="",i=0;const o=()=>{if(n.length===0)throw new be(pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new be(pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new be(pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=h,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(n+=c,i++):(o(),i++)}if(o(),l)throw new be(pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mr(t)}static emptyPath(){return new Mr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.path=e}static fromPath(e){return new Ke(Ft.fromString(e))}static fromName(e){return new Ke(Ft.fromString(e).popFirst(5))}static empty(){return new Ke(Ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ft.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ke(new Ft(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bE(r,e,t){if(!t)throw new be(pe.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function CP(r,e,t,n){if(e===!0&&n===!0)throw new be(pe.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function U_(r){if(!Ke.isDocumentKey(r))throw new be(pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function B_(r){if(Ke.isDocumentKey(r))throw new be(pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function UE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function u0(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Je(12329,{type:typeof r})}function Dl(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new be(pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=u0(r);throw new be(pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(r,e){const t={typeString:r};return e&&(t.value=e),t}function Tc(r,e){if(!UE(r))throw new be(pe.INVALID_ARGUMENT,"JSON must be an object");let t;for(const n in e)if(e[n]){const i=e[n].typeString,o="value"in e[n]?{value:e[n].value}:void 0;if(!(n in r)){t=`JSON missing required field: '${n}'`;break}const l=r[n];if(i&&typeof l!==i){t=`JSON field '${n}' must be a ${i}.`;break}if(o!==void 0&&l!==o.value){t=`Expected '${n}' field to equal '${o.value}'`;break}}if(t)throw new be(pe.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_=-62135596800,z_=1e6;class bt{static now(){return bt.fromMillis(Date.now())}static fromDate(e){return bt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*z_);return new bt(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new be(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new be(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<j_)throw new be(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/z_}_compareTo(e){return this.seconds===e.seconds?ft(this.nanoseconds,e.nanoseconds):ft(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:bt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Tc(e,bt._jsonSchema))return new bt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-j_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}bt._jsonSchemaVersion="firestore/timestamp/1.0",bt._jsonSchema={type:or("string",bt._jsonSchemaVersion),seconds:or("number"),nanoseconds:or("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{static fromTimestamp(e){return new rt(e)}static min(){return new rt(new bt(0,0))}static max(){return new rt(new bt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tc=-1;function RP(r,e){const t=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,i=rt.fromTimestamp(n===1e9?new bt(t+1,0):new bt(t,n));return new wa(i,Ke.empty(),e)}function PP(r){return new wa(r.readTime,r.key,tc)}class wa{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new wa(rt.min(),Ke.empty(),tc)}static max(){return new wa(rt.max(),Ke.empty(),tc)}}function kP(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Ke.comparator(r.documentKey,e.documentKey),t!==0?t:ft(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class OP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $l(r){if(r.code!==pe.FAILED_PRECONDITION||r.message!==NP)throw r;Be("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Je(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new me(((n,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(n,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(n,i)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof me?t:me.resolve(t)}catch(t){return me.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):me.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):me.reject(t)}static resolve(e){return new me(((t,n)=>{t(e)}))}static reject(e){return new me(((t,n)=>{n(e)}))}static waitFor(e){return new me(((t,n)=>{let i=0,o=0,l=!1;e.forEach((c=>{++i,c.next((()=>{++o,l&&o===i&&t()}),(h=>n(h)))})),l=!0,o===i&&t()}))}static or(e){let t=me.resolve(!1);for(const n of e)t=t.next((i=>i?me.resolve(i):n()));return t}static forEach(e,t){const n=[];return e.forEach(((i,o)=>{n.push(t.call(this,i,o))})),this.waitFor(n)}static mapArray(e,t){return new me(((n,i)=>{const o=e.length,l=new Array(o);let c=0;for(let h=0;h<o;h++){const d=h;t(e[d]).next((m=>{l[d]=m,++c,c===o&&n(l)}),(m=>i(m)))}}))}static doWhile(e,t){return new me(((n,i)=>{const o=()=>{e()===!0?t().next((()=>{o()}),i):n()};o()}))}}function DP(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Gl(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>t.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}c0.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm=-1;function f0(r){return r==null}function Nh(r){return r===0&&1/r==-1/0}function FP(r){return typeof r=="number"&&Number.isInteger(r)&&!Nh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE="";function LP(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=H_(e)),e=MP(r.get(t),e);return H_(e)}function MP(r,e){let t=e;const n=r.length;for(let i=0;i<n;i++){const o=r.charAt(i);switch(o){case"\0":t+="";break;case BE:t+="";break;default:t+=o}}return t}function H_(r){return r+BE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W_(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function xo(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function jE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,t){this.comparator=e,this.root=t||Lr.EMPTY}insert(e,t){return new Xt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Lr.BLACK,null,null))}remove(e){return new Xt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return t+n.left.size;i<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xf(this.root,e,this.comparator,!0)}}class Xf{constructor(e,t,n,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lr{constructor(e,t,n,i,o){this.key=e,this.value=t,this.color=n??Lr.RED,this.left=i??Lr.EMPTY,this.right=o??Lr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,i,o){return new Lr(e??this.key,t??this.value,n??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const o=n(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,n),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Lr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Lr.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Je(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Je(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Je(27949);return e+(this.isRed()?0:1)}}Lr.EMPTY=null,Lr.RED=!0,Lr.BLACK=!1;Lr.EMPTY=new class{constructor(){this.size=0}get key(){throw Je(57766)}get value(){throw Je(16141)}get color(){throw Je(16727)}get left(){throw Je(29726)}get right(){throw Je(36894)}copy(e,t,n,i,o){return this}insert(e,t,n){return new Lr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e){this.comparator=e,this.data=new Xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new $_(this.data.getIterator())}getIteratorFrom(e){return new $_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((n=>{t=t.add(n)})),t}isEqual(e){if(!(e instanceof mr)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=n.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new mr(this.comparator);return t.data=e,t}}class $_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e){this.fields=e,e.sort(Mr.comparator)}static empty(){return new vi([])}unionWith(e){let t=new mr(Mr.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new vi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ol(this.fields,e.fields,((t,n)=>t.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new zE("Invalid base64 string: "+o):o}})(e);return new Br(t)}static fromUint8Array(e){const t=(function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o})(e);return new Br(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ft(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Br.EMPTY_BYTE_STRING=new Br("");const VP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ta(r){if(wt(!!r,39018),typeof r=="string"){let e=0;const t=VP.exec(r);if(wt(!!t,46558,{timestamp:r}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:tr(r.seconds),nanos:tr(r.nanos)}}function tr(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Sa(r){return typeof r=="string"?Br.fromBase64String(r):Br.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE="server_timestamp",WE="__type__",$E="__previous_value__",GE="__local_write_time__";function Um(r){return(r?.mapValue?.fields||{})[WE]?.stringValue===HE}function h0(r){const e=r.mapValue.fields[$E];return Um(e)?h0(e):e}function rc(r){const e=Ta(r.mapValue.fields[GE].timestampValue);return new bt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(e,t,n,i,o,l,c,h,d,m){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=d,this.isUsingEmulator=m}}const Oh="(default)";class nc{constructor(e,t){this.projectId=e,this.database=t||Oh}static empty(){return new nc("","")}get isDefaultDatabase(){return this.database===Oh}isEqual(e){return e instanceof nc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE="__type__",UP="__max__",Yf={mapValue:{}},qE="__vector__",Dh="value";function Aa(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Um(r)?4:jP(r)?9007199254740991:BP(r)?10:11:Je(28295,{value:r})}function Ki(r,e){if(r===e)return!0;const t=Aa(r);if(t!==Aa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return rc(r).isEqual(rc(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=Ta(i.timestampValue),c=Ta(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(i,o){return Sa(i.bytesValue).isEqual(Sa(o.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(i,o){return tr(i.geoPointValue.latitude)===tr(o.geoPointValue.latitude)&&tr(i.geoPointValue.longitude)===tr(o.geoPointValue.longitude)})(r,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return tr(i.integerValue)===tr(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=tr(i.doubleValue),c=tr(o.doubleValue);return l===c?Nh(l)===Nh(c):isNaN(l)&&isNaN(c)}return!1})(r,e);case 9:return Ol(r.arrayValue.values||[],e.arrayValue.values||[],Ki);case 10:case 11:return(function(i,o){const l=i.mapValue.fields||{},c=o.mapValue.fields||{};if(W_(l)!==W_(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!Ki(l[h],c[h])))return!1;return!0})(r,e);default:return Je(52216,{left:r})}}function ic(r,e){return(r.values||[]).find((t=>Ki(t,e)))!==void 0}function Fl(r,e){if(r===e)return 0;const t=Aa(r),n=Aa(e);if(t!==n)return ft(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return ft(r.booleanValue,e.booleanValue);case 2:return(function(o,l){const c=tr(o.integerValue||o.doubleValue),h=tr(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1})(r,e);case 3:return G_(r.timestampValue,e.timestampValue);case 4:return G_(rc(r),rc(e));case 5:return Qp(r.stringValue,e.stringValue);case 6:return(function(o,l){const c=Sa(o),h=Sa(l);return c.compareTo(h)})(r.bytesValue,e.bytesValue);case 7:return(function(o,l){const c=o.split("/"),h=l.split("/");for(let d=0;d<c.length&&d<h.length;d++){const m=ft(c[d],h[d]);if(m!==0)return m}return ft(c.length,h.length)})(r.referenceValue,e.referenceValue);case 8:return(function(o,l){const c=ft(tr(o.latitude),tr(l.latitude));return c!==0?c:ft(tr(o.longitude),tr(l.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return K_(r.arrayValue,e.arrayValue);case 10:return(function(o,l){const c=o.fields||{},h=l.fields||{},d=c[Dh]?.arrayValue,m=h[Dh]?.arrayValue,_=ft(d?.values?.length||0,m?.values?.length||0);return _!==0?_:K_(d,m)})(r.mapValue,e.mapValue);case 11:return(function(o,l){if(o===Yf.mapValue&&l===Yf.mapValue)return 0;if(o===Yf.mapValue)return 1;if(l===Yf.mapValue)return-1;const c=o.fields||{},h=Object.keys(c),d=l.fields||{},m=Object.keys(d);h.sort(),m.sort();for(let _=0;_<h.length&&_<m.length;++_){const y=Qp(h[_],m[_]);if(y!==0)return y;const E=Fl(c[h[_]],d[m[_]]);if(E!==0)return E}return ft(h.length,m.length)})(r.mapValue,e.mapValue);default:throw Je(23264,{he:t})}}function G_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return ft(r,e);const t=Ta(r),n=Ta(e),i=ft(t.seconds,n.seconds);return i!==0?i:ft(t.nanos,n.nanos)}function K_(r,e){const t=r.values||[],n=e.values||[];for(let i=0;i<t.length&&i<n.length;++i){const o=Fl(t[i],n[i]);if(o)return o}return ft(t.length,n.length)}function Ll(r){return Jp(r)}function Jp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const n=Ta(t);return`time(${n.seconds},${n.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return Sa(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return Ke.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let n="[",i=!0;for(const o of t.values||[])i?i=!1:n+=",",n+=Jp(o);return n+"]"})(r.arrayValue):"mapValue"in r?(function(t){const n=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const l of n)o?o=!1:i+=",",i+=`${l}:${Jp(t.fields[l])}`;return i+"}"})(r.mapValue):Je(61005,{value:r})}function mh(r){switch(Aa(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=h0(r);return e?16+mh(e):16;case 5:return 2*r.stringValue.length;case 6:return Sa(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((i,o)=>i+mh(o)),0)})(r.arrayValue);case 10:case 11:return(function(n){let i=0;return xo(n.fields,((o,l)=>{i+=o.length+mh(l)})),i})(r.mapValue);default:throw Je(13486,{value:r})}}function q_(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Zp(r){return!!r&&"integerValue"in r}function Bm(r){return!!r&&"arrayValue"in r}function X_(r){return!!r&&"nullValue"in r}function Y_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function gh(r){return!!r&&"mapValue"in r}function BP(r){return(r?.mapValue?.fields||{})[KE]?.stringValue===qE}function Bu(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return xo(r.mapValue.fields,((t,n)=>e.mapValue.fields[t]=Bu(n))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Bu(r.arrayValue.values[t]);return e}return{...r}}function jP(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===UP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.value=e}static empty(){return new qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!gh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bu(t)}setAll(e){let t=Mr.emptyPath(),n={},i=[];e.forEach(((l,c)=>{if(!t.isImmediateParentOf(c)){const h=this.getFieldsMap(t);this.applyChanges(h,n,i),n={},i=[],t=c.popLast()}l?n[c.lastSegment()]=Bu(l):i.push(c.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,n,i)}delete(e){const t=this.field(e.popLast());gh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ki(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=t.mapValue.fields[e.get(n)];gh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,n){xo(t,((i,o)=>e[i]=o));for(const i of n)delete e[i]}clone(){return new qn(Bu(this.value))}}function XE(r){const e=[];return xo(r.fields,((t,n)=>{const i=new Mr([t]);if(gh(n)){const o=XE(n.mapValue).fields;if(o.length===0)e.push(i);else for(const l of o)e.push(i.child(l))}else e.push(i)})),new vi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e,t,n,i,o,l,c){this.key=e,this.documentType=t,this.version=n,this.readTime=i,this.createTime=o,this.data=l,this.documentState=c}static newInvalidDocument(e){return new Qr(e,0,rt.min(),rt.min(),rt.min(),qn.empty(),0)}static newFoundDocument(e,t,n,i){return new Qr(e,1,t,rt.min(),n,i,0)}static newNoDocument(e,t){return new Qr(e,2,t,rt.min(),rt.min(),qn.empty(),0)}static newUnknownDocument(e,t){return new Qr(e,3,t,rt.min(),rt.min(),qn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(rt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=rt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,t){this.position=e,this.inclusive=t}}function Q_(r,e,t){let n=0;for(let i=0;i<r.position.length;i++){const o=e[i],l=r.position[i];if(o.field.isKeyField()?n=Ke.comparator(Ke.fromName(l.referenceValue),t.key):n=Fl(l,t.data.field(o.field)),o.dir==="desc"&&(n*=-1),n!==0)break}return n}function J_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Ki(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,t="asc"){this.field=e,this.dir=t}}function zP(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{}class ar extends YE{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new WP(e,t,n):t==="array-contains"?new KP(e,n):t==="in"?new qP(e,n):t==="not-in"?new XP(e,n):t==="array-contains-any"?new YP(e,n):new ar(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new $P(e,n):new GP(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Fl(t,this.value)):t!==null&&Aa(this.value)===Aa(t)&&this.matchesComparison(Fl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Je(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ei extends YE{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Ei(e,t)}matches(e){return QE(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function QE(r){return r.op==="and"}function JE(r){return HP(r)&&QE(r)}function HP(r){for(const e of r.filters)if(e instanceof Ei)return!1;return!0}function em(r){if(r instanceof ar)return r.field.canonicalString()+r.op.toString()+Ll(r.value);if(JE(r))return r.filters.map((e=>em(e))).join(",");{const e=r.filters.map((t=>em(t))).join(",");return`${r.op}(${e})`}}function ZE(r,e){return r instanceof ar?(function(n,i){return i instanceof ar&&n.op===i.op&&n.field.isEqual(i.field)&&Ki(n.value,i.value)})(r,e):r instanceof Ei?(function(n,i){return i instanceof Ei&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce(((o,l,c)=>o&&ZE(l,i.filters[c])),!0):!1})(r,e):void Je(19439)}function ew(r){return r instanceof ar?(function(t){return`${t.field.canonicalString()} ${t.op} ${Ll(t.value)}`})(r):r instanceof Ei?(function(t){return t.op.toString()+" {"+t.getFilters().map(ew).join(" ,")+"}"})(r):"Filter"}class WP extends ar{constructor(e,t,n){super(e,t,n),this.key=Ke.fromName(n.referenceValue)}matches(e){const t=Ke.comparator(e.key,this.key);return this.matchesComparison(t)}}class $P extends ar{constructor(e,t){super(e,"in",t),this.keys=tw("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class GP extends ar{constructor(e,t){super(e,"not-in",t),this.keys=tw("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function tw(r,e){return(e.arrayValue?.values||[]).map((t=>Ke.fromName(t.referenceValue)))}class KP extends ar{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Bm(t)&&ic(t.arrayValue,this.value)}}class qP extends ar{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ic(this.value.arrayValue,t)}}class XP extends ar{constructor(e,t){super(e,"not-in",t)}matches(e){if(ic(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!ic(this.value.arrayValue,t)}}class YP extends ar{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Bm(t)||!t.arrayValue.values)&&t.arrayValue.values.some((n=>ic(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(e,t=null,n=[],i=[],o=null,l=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=o,this.startAt=l,this.endAt=c,this.Te=null}}function Z_(r,e=null,t=[],n=[],i=null,o=null,l=null){return new QP(r,e,t,n,i,o,l)}function jm(r){const e=nt(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((n=>em(n))).join(","),t+="|ob:",t+=e.orderBy.map((n=>(function(o){return o.field.canonicalString()+o.dir})(n))).join(","),f0(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((n=>Ll(n))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((n=>Ll(n))).join(",")),e.Te=t}return e.Te}function zm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!zP(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!ZE(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!J_(r.startAt,e.startAt)&&J_(r.endAt,e.endAt)}function tm(r){return Ke.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,t=null,n=[],i=[],o=null,l="F",c=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function JP(r,e,t,n,i,o,l,c){return new Sc(r,e,t,n,i,o,l,c)}function Hm(r){return new Sc(r)}function ey(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function rw(r){return r.collectionGroup!==null}function ju(r){const e=nt(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new mr(Mr.comparator);return l.filters.forEach((h=>{h.getFlattenedFilters().forEach((d=>{d.isInequality()&&(c=c.add(d.field))}))})),c})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Lh(o,n))})),t.has(Mr.keyField().canonicalString())||e.Ie.push(new Lh(Mr.keyField(),n))}return e.Ie}function ji(r){const e=nt(r);return e.Ee||(e.Ee=ZP(e,ju(r))),e.Ee}function ZP(r,e){if(r.limitType==="F")return Z_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((i=>{const o=i.dir==="desc"?"asc":"desc";return new Lh(i.field,o)}));const t=r.endAt?new Fh(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new Fh(r.startAt.position,r.startAt.inclusive):null;return Z_(r.path,r.collectionGroup,e,r.filters,r.limit,t,n)}}function rm(r,e){const t=r.filters.concat([e]);return new Sc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function nm(r,e,t){return new Sc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function d0(r,e){return zm(ji(r),ji(e))&&r.limitType===e.limitType}function nw(r){return`${jm(ji(r))}|lt:${r.limitType}`}function dl(r){return`Query(target=${(function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map((i=>ew(i))).join(", ")}]`),f0(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((i=>Ll(i))).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((i=>Ll(i))).join(",")),`Target(${n})`})(ji(r))}; limitType=${r.limitType})`}function p0(r,e){return e.isFoundDocument()&&(function(n,i){const o=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):Ke.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)})(r,e)&&(function(n,i){for(const o of ju(n))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(r,e)&&(function(n,i){for(const o of n.filters)if(!o.matches(i))return!1;return!0})(r,e)&&(function(n,i){return!(n.startAt&&!(function(l,c,h){const d=Q_(l,c,h);return l.inclusive?d<=0:d<0})(n.startAt,ju(n),i)||n.endAt&&!(function(l,c,h){const d=Q_(l,c,h);return l.inclusive?d>=0:d>0})(n.endAt,ju(n),i))})(r,e)}function ek(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function iw(r){return(e,t)=>{let n=!1;for(const i of ju(r)){const o=tk(i,e,t);if(o!==0)return o;n=n||i.field.isKeyField()}return 0}}function tk(r,e,t){const n=r.field.isKeyField()?Ke.comparator(e.key,t.key):(function(o,l,c){const h=l.data.field(o),d=c.data.field(o);return h!==null&&d!==null?Fl(h,d):Je(42886)})(r.field,e,t);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return Je(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[i,o]of n)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[t]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){xo(this.inner,((t,n)=>{for(const[i,o]of n)e(i,o)}))}isEmpty(){return jE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk=new Xt(Ke.comparator);function Cs(){return rk}const sw=new Xt(Ke.comparator);function Fu(...r){let e=sw;for(const t of r)e=e.insert(t.key,t);return e}function aw(r){let e=sw;return r.forEach(((t,n)=>e=e.insert(t,n.overlayedDocument))),e}function so(){return zu()}function ow(){return zu()}function zu(){return new Eo((r=>r.toString()),((r,e)=>r.isEqual(e)))}const nk=new Xt(Ke.comparator),ik=new mr(Ke.comparator);function ht(...r){let e=ik;for(const t of r)e=e.add(t);return e}const sk=new mr(ft);function ak(){return sk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nh(e)?"-0":e}}function lw(r){return{integerValue:""+r}}function ok(r,e){return FP(e)?lw(e):Wm(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(){this._=void 0}}function lk(r,e,t){return r instanceof sc?(function(i,o){const l={fields:{[WE]:{stringValue:HE},[GE]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Um(o)&&(o=h0(o)),o&&(l.fields[$E]=o),{mapValue:l}})(t,e):r instanceof ac?cw(r,e):r instanceof oc?fw(r,e):(function(i,o){const l=uw(i,o),c=ty(l)+ty(i.Ae);return Zp(l)&&Zp(i.Ae)?lw(c):Wm(i.serializer,c)})(r,e)}function uk(r,e,t){return r instanceof ac?cw(r,e):r instanceof oc?fw(r,e):t}function uw(r,e){return r instanceof Mh?(function(n){return Zp(n)||(function(o){return!!o&&"doubleValue"in o})(n)})(e)?e:{integerValue:0}:null}class sc extends m0{}class ac extends m0{constructor(e){super(),this.elements=e}}function cw(r,e){const t=hw(e);for(const n of r.elements)t.some((i=>Ki(i,n)))||t.push(n);return{arrayValue:{values:t}}}class oc extends m0{constructor(e){super(),this.elements=e}}function fw(r,e){let t=hw(e);for(const n of r.elements)t=t.filter((i=>!Ki(i,n)));return{arrayValue:{values:t}}}class Mh extends m0{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function ty(r){return tr(r.integerValue||r.doubleValue)}function hw(r){return Bm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(e,t){this.field=e,this.transform=t}}function fk(r,e){return r.field.isEqual(e.field)&&(function(n,i){return n instanceof ac&&i instanceof ac||n instanceof oc&&i instanceof oc?Ol(n.elements,i.elements,Ki):n instanceof Mh&&i instanceof Mh?Ki(n.Ae,i.Ae):n instanceof sc&&i instanceof sc})(r.transform,e.transform)}class hk{constructor(e,t){this.version=e,this.transformResults=t}}class ys{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ys}static exists(e){return new ys(void 0,e)}static updateTime(e){return new ys(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class g0{}function dw(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new mw(r.key,ys.none()):new Ac(r.key,r.data,ys.none());{const t=r.data,n=qn.empty();let i=new mr(Mr.comparator);for(let o of e.fields)if(!i.has(o)){let l=t.field(o);l===null&&o.length>1&&(o=o.popLast(),l=t.field(o)),l===null?n.delete(o):n.set(o,l),i=i.add(o)}return new wo(r.key,n,new vi(i.toArray()),ys.none())}}function dk(r,e,t){r instanceof Ac?(function(i,o,l){const c=i.value.clone(),h=ny(i.fieldTransforms,o,l.transformResults);c.setAll(h),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(r,e,t):r instanceof wo?(function(i,o,l){if(!vh(i.precondition,o))return void o.convertToUnknownDocument(l.version);const c=ny(i.fieldTransforms,o,l.transformResults),h=o.data;h.setAll(pw(i)),h.setAll(c),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()})(r,e,t):(function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,t)}function Hu(r,e,t,n){return r instanceof Ac?(function(o,l,c,h){if(!vh(o.precondition,l))return c;const d=o.value.clone(),m=iy(o.fieldTransforms,h,l);return d.setAll(m),l.convertToFoundDocument(l.version,d).setHasLocalMutations(),null})(r,e,t,n):r instanceof wo?(function(o,l,c,h){if(!vh(o.precondition,l))return c;const d=iy(o.fieldTransforms,h,l),m=l.data;return m.setAll(pw(o)),m.setAll(d),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((_=>_.field)))})(r,e,t,n):(function(o,l,c){return vh(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(r,e,t)}function pk(r,e){let t=null;for(const n of r.fieldTransforms){const i=e.data.field(n.field),o=uw(n.transform,i||null);o!=null&&(t===null&&(t=qn.empty()),t.set(n.field,o))}return t||null}function ry(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Ol(n,i,((o,l)=>fk(o,l)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Ac extends g0{constructor(e,t,n,i=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class wo extends g0{constructor(e,t,n,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function pw(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const n=r.data.field(t);e.set(t,n)}})),e}function ny(r,e,t){const n=new Map;wt(r.length===t.length,32656,{Re:t.length,Ve:r.length});for(let i=0;i<t.length;i++){const o=r[i],l=o.transform,c=e.data.field(o.field);n.set(o.field,uk(l,c,t[i]))}return n}function iy(r,e,t){const n=new Map;for(const i of r){const o=i.transform,l=t.data.field(i.field);n.set(i.field,lk(o,l,e))}return n}class mw extends g0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mk extends g0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e,t,n,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&dk(o,e,n[i])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Hu(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Hu(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=ow();return this.mutations.forEach((i=>{const o=e.get(i.key),l=o.overlayedDocument;let c=this.applyToLocalView(l,o.mutatedFields);c=t.has(i.key)?null:c;const h=dw(l,c);h!==null&&n.set(i.key,h),l.isValidDocument()||l.convertToNoDocument(rt.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ht())}isEqual(e){return this.batchId===e.batchId&&Ol(this.mutations,e.mutations,((t,n)=>ry(t,n)))&&Ol(this.baseMutations,e.baseMutations,((t,n)=>ry(t,n)))}}class $m{constructor(e,t,n,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=i}static from(e,t,n){wt(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let i=(function(){return nk})();const o=e.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,n[l].version);return new $m(e,t,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sr,mt;function yk(r){switch(r){case pe.OK:return Je(64938);case pe.CANCELLED:case pe.UNKNOWN:case pe.DEADLINE_EXCEEDED:case pe.RESOURCE_EXHAUSTED:case pe.INTERNAL:case pe.UNAVAILABLE:case pe.UNAUTHENTICATED:return!1;case pe.INVALID_ARGUMENT:case pe.NOT_FOUND:case pe.ALREADY_EXISTS:case pe.PERMISSION_DENIED:case pe.FAILED_PRECONDITION:case pe.ABORTED:case pe.OUT_OF_RANGE:case pe.UNIMPLEMENTED:case pe.DATA_LOSS:return!0;default:return Je(15467,{code:r})}}function gw(r){if(r===void 0)return Is("GRPC error has no .code"),pe.UNKNOWN;switch(r){case sr.OK:return pe.OK;case sr.CANCELLED:return pe.CANCELLED;case sr.UNKNOWN:return pe.UNKNOWN;case sr.DEADLINE_EXCEEDED:return pe.DEADLINE_EXCEEDED;case sr.RESOURCE_EXHAUSTED:return pe.RESOURCE_EXHAUSTED;case sr.INTERNAL:return pe.INTERNAL;case sr.UNAVAILABLE:return pe.UNAVAILABLE;case sr.UNAUTHENTICATED:return pe.UNAUTHENTICATED;case sr.INVALID_ARGUMENT:return pe.INVALID_ARGUMENT;case sr.NOT_FOUND:return pe.NOT_FOUND;case sr.ALREADY_EXISTS:return pe.ALREADY_EXISTS;case sr.PERMISSION_DENIED:return pe.PERMISSION_DENIED;case sr.FAILED_PRECONDITION:return pe.FAILED_PRECONDITION;case sr.ABORTED:return pe.ABORTED;case sr.OUT_OF_RANGE:return pe.OUT_OF_RANGE;case sr.UNIMPLEMENTED:return pe.UNIMPLEMENTED;case sr.DATA_LOSS:return pe.DATA_LOSS;default:return Je(39323,{code:r})}}(mt=sr||(sr={}))[mt.OK=0]="OK",mt[mt.CANCELLED=1]="CANCELLED",mt[mt.UNKNOWN=2]="UNKNOWN",mt[mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mt[mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mt[mt.NOT_FOUND=5]="NOT_FOUND",mt[mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",mt[mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",mt[mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",mt[mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mt[mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mt[mt.ABORTED=10]="ABORTED",mt[mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",mt[mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",mt[mt.INTERNAL=13]="INTERNAL",mt[mt.UNAVAILABLE=14]="UNAVAILABLE",mt[mt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek=new xa([4294967295,4294967295],0);function sy(r){const e=xk().encode(r),t=new kE;return t.update(e),new Uint8Array(t.digest())}function ay(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new xa([t,n],0),new xa([i,o],0)]}class Gm{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Lu(`Invalid padding: ${t}`);if(n<0)throw new Lu(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Lu(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new Lu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=xa.fromNumber(this.ge)}ye(e,t,n){let i=e.add(t.multiply(xa.fromNumber(n)));return i.compare(Ek)===1&&(i=new xa([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=sy(e),[n,i]=ay(t);for(let o=0;o<this.hashCount;o++){const l=this.ye(n,i,o);if(!this.we(l))return!1}return!0}static create(e,t,n){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new Gm(o,i,t);return n.forEach((c=>l.insert(c))),l}insert(e){if(this.ge===0)return;const t=sy(e),[n,i]=ay(t);for(let o=0;o<this.hashCount;o++){const l=this.ye(n,i,o);this.Se(l)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Lu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(e,t,n,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const i=new Map;return i.set(e,Ic.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new v0(rt.min(),i,new Xt(ft),Cs(),ht())}}class Ic{constructor(e,t,n,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Ic(n,t,ht(),ht(),ht())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,t,n,i){this.be=e,this.removedTargetIds=t,this.key=n,this.De=i}}class vw{constructor(e,t){this.targetId=e,this.Ce=t}}class _w{constructor(e,t,n=Br.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i}}class oy{constructor(){this.ve=0,this.Fe=ly(),this.Me=Br.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ht(),t=ht(),n=ht();return this.Fe.forEach(((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:n=n.add(i);break;default:Je(38017,{changeType:o})}})),new Ic(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=ly()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,wt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class wk{constructor(e){this.Ge=e,this.ze=new Map,this.je=Cs(),this.Je=Qf(),this.He=Qf(),this.Ye=new Xt(ft)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:Je(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((n,i)=>{this.rt(i)&&t(i)}))}st(e){const t=e.targetId,n=e.Ce.count,i=this.ot(t);if(i){const o=i.target;if(tm(o))if(n===0){const l=new Ke(o.path);this.et(t,l,Qr.newNoDocument(l,rt.min()))}else wt(n===1,20013,{expectedCount:n});else{const l=this._t(t);if(l!==n){const c=this.ut(e),h=c?this.ct(c,e,l):1;if(h!==0){this.it(t);const d=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,d)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:o=0}=t;let l,c;try{l=Sa(n).toUint8Array()}catch(h){if(h instanceof zE)return Nl("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new Gm(l,i,o)}catch(h){return Nl(h instanceof Lu?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.ge===0?null:c}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let i=0;return n.forEach((o=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.et(t,o,null),i++)})),i}Tt(e){const t=new Map;this.ze.forEach(((o,l)=>{const c=this.ot(l);if(c){if(o.current&&tm(c.target)){const h=new Ke(c.target.path);this.It(h).has(l)||this.Et(l,h)||this.et(l,h,Qr.newNoDocument(h,e))}o.Be&&(t.set(l,o.ke()),o.qe())}}));let n=ht();this.He.forEach(((o,l)=>{let c=!0;l.forEachWhile((h=>{const d=this.ot(h);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(n=n.add(o))})),this.je.forEach(((o,l)=>l.setReadTime(e)));const i=new v0(e,t,this.Ye,this.je,n);return this.je=Cs(),this.Je=Qf(),this.He=Qf(),this.Ye=new Xt(ft),i}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,t)?i.Qe(t,1):i.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new oy,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new mr(ft),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new mr(ft),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Be("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new oy),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Qf(){return new Xt(Ke.comparator)}function ly(){return new Xt(Ke.comparator)}const Tk={asc:"ASCENDING",desc:"DESCENDING"},Sk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ak={and:"AND",or:"OR"};class Ik{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function im(r,e){return r.useProto3Json||f0(e)?e:{value:e}}function Vh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yw(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Ck(r,e){return Vh(r,e.toTimestamp())}function zi(r){return wt(!!r,49232),rt.fromTimestamp((function(t){const n=Ta(t);return new bt(n.seconds,n.nanos)})(r))}function Km(r,e){return sm(r,e).canonicalString()}function sm(r,e){const t=(function(i){return new Ft(["projects",i.projectId,"databases",i.database])})(r).child("documents");return e===void 0?t:t.child(e)}function xw(r){const e=Ft.fromString(r);return wt(Aw(e),10190,{key:e.toString()}),e}function am(r,e){return Km(r.databaseId,e.path)}function Cp(r,e){const t=xw(e);if(t.get(1)!==r.databaseId.projectId)throw new be(pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new be(pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Ke(ww(t))}function Ew(r,e){return Km(r.databaseId,e)}function Rk(r){const e=xw(r);return e.length===4?Ft.emptyPath():ww(e)}function om(r){return new Ft(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function ww(r){return wt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function uy(r,e,t){return{name:am(r,e),fields:t.value.mapValue.fields}}function Pk(r,e){let t;if("targetChange"in e){e.targetChange;const n=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Je(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(d,m){return d.useProto3Json?(wt(m===void 0||typeof m=="string",58123),Br.fromBase64String(m||"")):(wt(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),Br.fromUint8Array(m||new Uint8Array))})(r,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&(function(d){const m=d.code===void 0?pe.UNKNOWN:gw(d.code);return new be(m,d.message||"")})(l);t=new _w(n,i,o,c||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=Cp(r,n.document.name),o=zi(n.document.updateTime),l=n.document.createTime?zi(n.document.createTime):rt.min(),c=new qn({mapValue:{fields:n.document.fields}}),h=Qr.newFoundDocument(i,o,l,c),d=n.targetIds||[],m=n.removedTargetIds||[];t=new _h(d,m,h.key,h)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=Cp(r,n.document),o=n.readTime?zi(n.readTime):rt.min(),l=Qr.newNoDocument(i,o),c=n.removedTargetIds||[];t=new _h([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=Cp(r,n.document),o=n.removedTargetIds||[];t=new _h([],o,i,null)}else{if(!("filter"in e))return Je(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:o}=n,l=new _k(i,o),c=n.targetId;t=new vw(c,l)}}return t}function kk(r,e){let t;if(e instanceof Ac)t={update:uy(r,e.key,e.value)};else if(e instanceof mw)t={delete:am(r,e.key)};else if(e instanceof wo)t={update:uy(r,e.key,e.data),updateMask:Uk(e.fieldMask)};else{if(!(e instanceof mk))return Je(16599,{Vt:e.type});t={verify:am(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((n=>(function(o,l){const c=l.transform;if(c instanceof sc)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof ac)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof oc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Mh)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw Je(20930,{transform:l.transform})})(0,n)))),e.precondition.isNone||(t.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:Ck(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Je(27497)})(r,e.precondition)),t}function Nk(r,e){return r&&r.length>0?(wt(e!==void 0,14353),r.map((t=>(function(i,o){let l=i.updateTime?zi(i.updateTime):zi(o);return l.isEqual(rt.min())&&(l=zi(o)),new hk(l,i.transformResults||[])})(t,e)))):[]}function Ok(r,e){return{documents:[Ew(r,e.path)]}}function Dk(r,e){const t={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=Ew(r,i);const o=(function(d){if(d.length!==0)return Sw(Ei.create(d,"and"))})(e.filters);o&&(t.structuredQuery.where=o);const l=(function(d){if(d.length!==0)return d.map((m=>(function(y){return{field:pl(y.field),direction:Mk(y.dir)}})(m)))})(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=im(r,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:t,parent:i}}function Fk(r){let e=Rk(r.parent);const t=r.structuredQuery,n=t.from?t.from.length:0;let i=null;if(n>0){wt(n===1,65062);const m=t.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let o=[];t.where&&(o=(function(_){const y=Tw(_);return y instanceof Ei&&JE(y)?y.getFilters():[y]})(t.where));let l=[];t.orderBy&&(l=(function(_){return _.map((y=>(function(A){return new Lh(ml(A.field),(function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(A.direction))})(y)))})(t.orderBy));let c=null;t.limit&&(c=(function(_){let y;return y=typeof _=="object"?_.value:_,f0(y)?null:y})(t.limit));let h=null;t.startAt&&(h=(function(_){const y=!!_.before,E=_.values||[];return new Fh(E,y)})(t.startAt));let d=null;return t.endAt&&(d=(function(_){const y=!_.before,E=_.values||[];return new Fh(E,y)})(t.endAt)),JP(e,i,l,o,c,"F",h,d)}function Lk(r,e){const t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Je(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Tw(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=ml(t.unaryFilter.field);return ar.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=ml(t.unaryFilter.field);return ar.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ml(t.unaryFilter.field);return ar.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=ml(t.unaryFilter.field);return ar.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Je(61313);default:return Je(60726)}})(r):r.fieldFilter!==void 0?(function(t){return ar.create(ml(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Je(58110);default:return Je(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return Ei.create(t.compositeFilter.filters.map((n=>Tw(n))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Je(1026)}})(t.compositeFilter.op))})(r):Je(30097,{filter:r})}function Mk(r){return Tk[r]}function Vk(r){return Sk[r]}function bk(r){return Ak[r]}function pl(r){return{fieldPath:r.canonicalString()}}function ml(r){return Mr.fromServerFormat(r.fieldPath)}function Sw(r){return r instanceof ar?(function(t){if(t.op==="=="){if(Y_(t.value))return{unaryFilter:{field:pl(t.field),op:"IS_NAN"}};if(X_(t.value))return{unaryFilter:{field:pl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Y_(t.value))return{unaryFilter:{field:pl(t.field),op:"IS_NOT_NAN"}};if(X_(t.value))return{unaryFilter:{field:pl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pl(t.field),op:Vk(t.op),value:t.value}}})(r):r instanceof Ei?(function(t){const n=t.getFilters().map((i=>Sw(i)));return n.length===1?n[0]:{compositeFilter:{op:bk(t.op),filters:n}}})(r):Je(54877,{filter:r})}function Uk(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function Aw(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,t,n,i,o=rt.min(),l=rt.min(),c=Br.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new pa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new pa(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new pa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new pa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e){this.yt=e}}function jk(r){const e=Fk({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?nm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(){this.Cn=new Hk}addToCollectionParentIndex(e,t){return this.Cn.add(t),me.resolve()}getCollectionParents(e,t){return me.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return me.resolve()}deleteFieldIndex(e,t){return me.resolve()}deleteAllFieldIndexes(e){return me.resolve()}createTargetIndexes(e,t){return me.resolve()}getDocumentsMatchingTarget(e,t){return me.resolve(null)}getIndexType(e,t){return me.resolve(0)}getFieldIndexes(e,t){return me.resolve([])}getNextCollectionGroupToUpdate(e){return me.resolve(null)}getMinOffset(e,t){return me.resolve(wa.min())}getMinOffsetFromCollectionGroup(e,t){return me.resolve(wa.min())}updateCollectionGroup(e,t,n){return me.resolve()}updateIndexEntries(e,t){return me.resolve()}}class Hk{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t]||new mr(Ft.comparator),o=!i.has(n);return this.index[t]=i.add(n),o}has(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t];return i&&i.has(n)}getEntries(e){return(this.index[e]||new mr(Ft.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Iw=41943040;class _n{static withCacheSize(e){return new _n(e,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(Iw,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ml(0)}static cr(){return new Ml(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fy="LruGarbageCollector",Wk=1048576;function hy([r,e],[t,n]){const i=ft(r,t);return i===0?ft(e,n):i}class $k{constructor(e){this.Ir=e,this.buffer=new mr(hy),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();hy(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Gk{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Be(fy,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Gl(t)?Be(fy,"Ignoring IndexedDB error during garbage collection: ",t):await $l(t)}await this.Vr(3e5)}))}}class Kk{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((n=>Math.floor(t/100*n)))}nthSequenceNumber(e,t){if(t===0)return me.resolve(c0.ce);const n=new $k(t);return this.mr.forEachTarget(e,(i=>n.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>n.Ar(i))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Be("LruGarbageCollector","Garbage collection skipped; disabled"),me.resolve(cy)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Be("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cy):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,i,o,l,c,h,d;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(Be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),i=this.params.maximumSequenceNumbersToCollect):i=_,l=Date.now(),this.nthSequenceNumber(e,i)))).next((_=>(n=_,c=Date.now(),this.removeTargets(e,n,t)))).next((_=>(o=_,h=Date.now(),this.removeOrphanedDocuments(e,n)))).next((_=>(d=Date.now(),hl()<=ct.DEBUG&&Be("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${o} targets in `+(h-c)+`ms
	Removed ${_} documents in `+(d-h)+`ms
Total Duration: ${d-m}ms`),me.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:_}))))}}function qk(r,e){return new Kk(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(){this.changes=new Eo((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Qr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?me.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e,t,n,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((i=>(n=i,this.remoteDocumentCache.getEntry(e,t)))).next((i=>(n!==null&&Hu(n.mutation,i,vi.empty(),bt.now()),i)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((n=>this.getLocalViewOfDocuments(e,n,ht()).next((()=>n))))}getLocalViewOfDocuments(e,t,n=ht()){const i=so();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,n).next((o=>{let l=Fu();return o.forEach(((c,h)=>{l=l.insert(c,h.overlayedDocument)})),l}))))}getOverlayedDocuments(e,t){const n=so();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,ht())))}populateOverlays(e,t,n){const i=[];return n.forEach((o=>{t.has(o)||i.push(o)})),this.documentOverlayCache.getOverlays(e,i).next((o=>{o.forEach(((l,c)=>{t.set(l,c)}))}))}computeViews(e,t,n,i){let o=Cs();const l=zu(),c=(function(){return zu()})();return t.forEach(((h,d)=>{const m=n.get(d.key);i.has(d.key)&&(m===void 0||m.mutation instanceof wo)?o=o.insert(d.key,d):m!==void 0?(l.set(d.key,m.mutation.getFieldMask()),Hu(m.mutation,d,m.mutation.getFieldMask(),bt.now())):l.set(d.key,vi.empty())})),this.recalculateAndSaveOverlays(e,o).next((h=>(h.forEach(((d,m)=>l.set(d,m))),t.forEach(((d,m)=>c.set(d,new Yk(m,l.get(d)??null)))),c)))}recalculateAndSaveOverlays(e,t){const n=zu();let i=new Xt(((l,c)=>l-c)),o=ht();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((l=>{for(const c of l)c.keys().forEach((h=>{const d=t.get(h);if(d===null)return;let m=n.get(h)||vi.empty();m=c.applyToLocalView(d,m),n.set(h,m);const _=(i.get(c.batchId)||ht()).add(h);i=i.insert(c.batchId,_)}))})).next((()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),d=h.key,m=h.value,_=ow();m.forEach((y=>{if(!o.has(y)){const E=dw(t.get(y),n.get(y));E!==null&&_.set(y,E),o=o.add(y)}})),l.push(this.documentOverlayCache.saveOverlays(e,d,_))}return me.waitFor(l)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,t,n,i){return(function(l){return Ke.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):rw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,i):this.getDocumentsMatchingCollectionQuery(e,t,n,i)}getNextDocuments(e,t,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,i).next((o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,i-o.size):me.resolve(so());let c=tc,h=o;return l.next((d=>me.forEach(d,((m,_)=>(c<_.largestBatchId&&(c=_.largestBatchId),o.get(m)?me.resolve():this.remoteDocumentCache.getEntry(e,m).next((y=>{h=h.insert(m,y)}))))).next((()=>this.populateOverlays(e,d,o))).next((()=>this.computeViews(e,h,d,ht()))).next((m=>({batchId:c,changes:aw(m)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ke(t)).next((n=>{let i=Fu();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,i){const o=t.collectionGroup;let l=Fu();return this.indexManager.getCollectionParents(e,o).next((c=>me.forEach(c,(h=>{const d=(function(_,y){return new Sc(y,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(t,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,n,i).next((m=>{m.forEach(((_,y)=>{l=l.insert(_,y)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,t,n,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,o,i)))).next((l=>{o.forEach(((h,d)=>{const m=d.getKey();l.get(m)===null&&(l=l.insert(m,Qr.newInvalidDocument(m)))}));let c=Fu();return l.forEach(((h,d)=>{const m=o.get(h);m!==void 0&&Hu(m.mutation,d,vi.empty(),bt.now()),p0(t,d)&&(c=c.insert(h,d))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return me.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:zi(i.createTime)}})(t)),me.resolve()}getNamedQuery(e,t){return me.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(i){return{name:i.name,query:jk(i.bundledQuery),readTime:zi(i.readTime)}})(t)),me.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(){this.overlays=new Xt(Ke.comparator),this.qr=new Map}getOverlay(e,t){return me.resolve(this.overlays.get(t))}getOverlays(e,t){const n=so();return me.forEach(t,(i=>this.getOverlay(e,i).next((o=>{o!==null&&n.set(i,o)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((i,o)=>{this.St(e,t,o)})),me.resolve()}removeOverlaysForBatchId(e,t,n){const i=this.qr.get(n);return i!==void 0&&(i.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(n)),me.resolve()}getOverlaysForCollection(e,t,n){const i=so(),o=t.length+1,l=new Ke(t.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,d=h.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===o&&h.largestBatchId>n&&i.set(h.getKey(),h)}return me.resolve(i)}getOverlaysForCollectionGroup(e,t,n,i){let o=new Xt(((d,m)=>d-m));const l=this.overlays.getIterator();for(;l.hasNext();){const d=l.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>n){let m=o.get(d.largestBatchId);m===null&&(m=so(),o=o.insert(d.largestBatchId,m)),m.set(d.getKey(),d)}}const c=so(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((d,m)=>c.set(d,m))),!(c.size()>=i)););return me.resolve(c)}St(e,t,n){const i=this.overlays.get(n.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(n.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(n.key,new vk(t,n));let o=this.qr.get(t);o===void 0&&(o=ht(),this.qr.set(t,o)),this.qr.set(t,o.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(){this.sessionToken=Br.EMPTY_BYTE_STRING}getSessionToken(e){return me.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,me.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(){this.Qr=new mr(xr.$r),this.Ur=new mr(xr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new xr(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach((n=>this.addReference(n,t)))}removeReference(e,t){this.Gr(new xr(e,t))}zr(e,t){e.forEach((n=>this.removeReference(n,t)))}jr(e){const t=new Ke(new Ft([])),n=new xr(t,e),i=new xr(t,e+1),o=[];return this.Ur.forEachInRange([n,i],(l=>{this.Gr(l),o.push(l.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Ke(new Ft([])),n=new xr(t,e),i=new xr(t,e+1);let o=ht();return this.Ur.forEachInRange([n,i],(l=>{o=o.add(l.key)})),o}containsKey(e){const t=new xr(e,0),n=this.Qr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class xr{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Ke.comparator(e.key,t.key)||ft(e.Yr,t.Yr)}static Kr(e,t){return ft(e.Yr,t.Yr)||Ke.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new mr(xr.$r)}checkEmpty(e){return me.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,i){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new gk(o,t,n,i);this.mutationQueue.push(l);for(const c of i)this.Zr=this.Zr.add(new xr(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return me.resolve(l)}lookupMutationBatch(e,t){return me.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=this.ei(n),o=i<0?0:i;return me.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return me.resolve(this.mutationQueue.length===0?bm:this.tr-1)}getAllMutationBatches(e){return me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new xr(t,0),i=new xr(t,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([n,i],(l=>{const c=this.Xr(l.Yr);o.push(c)})),me.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new mr(ft);return t.forEach((i=>{const o=new xr(i,0),l=new xr(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,l],(c=>{n=n.add(c.Yr)}))})),me.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1;let o=n;Ke.isDocumentKey(o)||(o=o.child(""));const l=new xr(new Ke(o),0);let c=new mr(ft);return this.Zr.forEachWhile((h=>{const d=h.key.path;return!!n.isPrefixOf(d)&&(d.length===i&&(c=c.add(h.Yr)),!0)}),l),me.resolve(this.ti(c))}ti(e){const t=[];return e.forEach((n=>{const i=this.Xr(n);i!==null&&t.push(i)})),t}removeMutationBatch(e,t){wt(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return me.forEach(t.mutations,(i=>{const o=new xr(i.key,t.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=n}))}ir(e){}containsKey(e,t){const n=new xr(t,0),i=this.Zr.firstAfterOrEqual(n);return me.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,me.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(e){this.ri=e,this.docs=(function(){return new Xt(Ke.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,i=this.docs.get(n),o=i?i.size:0,l=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return me.resolve(n?n.document.mutableCopy():Qr.newInvalidDocument(t))}getEntries(e,t){let n=Cs();return t.forEach((i=>{const o=this.docs.get(i);n=n.insert(i,o?o.document.mutableCopy():Qr.newInvalidDocument(i))})),me.resolve(n)}getDocumentsMatchingQuery(e,t,n,i){let o=Cs();const l=t.path,c=new Ke(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:d,value:{document:m}}=h.getNext();if(!l.isPrefixOf(d.path))break;d.path.length>l.length+1||kP(PP(m),n)<=0||(i.has(m.key)||p0(t,m))&&(o=o.insert(m.key,m.mutableCopy()))}return me.resolve(o)}getAllFromCollectionGroup(e,t,n,i){Je(9500)}ii(e,t){return me.forEach(this.docs,(n=>t(n)))}newChangeBuffer(e){return new n3(this)}getSize(e){return me.resolve(this.size)}}class n3 extends Xk{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?t.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(n)})),me.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(e){this.persistence=e,this.si=new Eo((t=>jm(t)),zm),this.lastRemoteSnapshotVersion=rt.min(),this.highestTargetId=0,this.oi=0,this._i=new qm,this.targetCount=0,this.ai=Ml.ur()}forEachTarget(e,t){return this.si.forEach(((n,i)=>t(i))),me.resolve()}getLastRemoteSnapshotVersion(e){return me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return me.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),me.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),me.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Ml(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,me.resolve()}updateTargetData(e,t){return this.Pr(t),me.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,me.resolve()}removeTargets(e,t,n){let i=0;const o=[];return this.si.forEach(((l,c)=>{c.sequenceNumber<=t&&n.get(c.targetId)===null&&(this.si.delete(l),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),me.waitFor(o).next((()=>i))}getTargetCount(e){return me.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return me.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),me.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach((l=>{o.push(i.markPotentiallyOrphaned(e,l))})),me.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),me.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return me.resolve(n)}containsKey(e,t){return me.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e,t){this.ui={},this.overlays={},this.ci=new c0(0),this.li=!1,this.li=!0,this.hi=new e3,this.referenceDelegate=e(this),this.Pi=new i3(this),this.indexManager=new zk,this.remoteDocumentCache=(function(i){return new r3(i)})((n=>this.referenceDelegate.Ti(n))),this.serializer=new Bk(t),this.Ii=new Jk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Zk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new t3(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){Be("MemoryPersistence","Starting transaction:",e);const i=new s3(this.ci.next());return this.referenceDelegate.Ei(),n(i).next((o=>this.referenceDelegate.di(i).next((()=>o)))).toPromise().then((o=>(i.raiseOnCommittedEvent(),o)))}Ai(e,t){return me.or(Object.values(this.ui).map((n=>()=>n.containsKey(e,t))))}}class s3 extends OP{constructor(e){super(),this.currentSequenceNumber=e}}class Xm{constructor(e){this.persistence=e,this.Ri=new qm,this.Vi=null}static mi(e){return new Xm(e)}get fi(){if(this.Vi)return this.Vi;throw Je(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),me.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),me.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),me.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((i=>this.fi.add(i.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((i=>{i.forEach((o=>this.fi.add(o.toString())))})).next((()=>n.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return me.forEach(this.fi,(n=>{const i=Ke.fromPath(n);return this.gi(e,i).next((o=>{o||t.removeEntry(i,rt.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((n=>{n?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return me.or([()=>me.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class bh{constructor(e,t){this.persistence=e,this.pi=new Eo((n=>LP(n.path)),((n,i)=>n.isEqual(i))),this.garbageCollector=qk(this,t)}static mi(e,t){return new bh(e,t)}Ei(){}di(e){return me.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((n=>t.next((i=>n+i))))}wr(e){let t=0;return this.pr(e,(n=>{t++})).next((()=>t))}pr(e,t){return me.forEach(this.pi,((n,i)=>this.br(e,n,i).next((o=>o?me.resolve():t(i)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,t).next((c=>{c||(n++,o.removeEntry(l,rt.min()))})))).next((()=>o.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),me.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),me.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),me.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),me.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=mh(e.data.value)),t}br(e,t,n){return me.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.pi.get(t);return me.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e,t,n,i){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=i}static As(e,t){let n=ht(),i=ht();for(const o of t.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Ym(e,t.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return ZI()?8:DP(en())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,i){const o={result:null};return this.ys(e,t).next((l=>{o.result=l})).next((()=>{if(!o.result)return this.ws(e,t,i,n).next((l=>{o.result=l}))})).next((()=>{if(o.result)return;const l=new a3;return this.Ss(e,t,l).next((c=>{if(o.result=c,this.Vs)return this.bs(e,t,l,c.size)}))})).next((()=>o.result))}bs(e,t,n,i){return n.documentReadCount<this.fs?(hl()<=ct.DEBUG&&Be("QueryEngine","SDK will not create cache indexes for query:",dl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),me.resolve()):(hl()<=ct.DEBUG&&Be("QueryEngine","Query:",dl(t),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.gs*i?(hl()<=ct.DEBUG&&Be("QueryEngine","The SDK decides to create cache indexes for query:",dl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ji(t))):me.resolve())}ys(e,t){if(ey(t))return me.resolve(null);let n=ji(t);return this.indexManager.getIndexType(e,n).next((i=>i===0?null:(t.limit!==null&&i===1&&(t=nm(t,null,"F"),n=ji(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((o=>{const l=ht(...o);return this.ps.getDocuments(e,l).next((c=>this.indexManager.getMinOffset(e,n).next((h=>{const d=this.Ds(t,c);return this.Cs(t,d,l,h.readTime)?this.ys(e,nm(t,null,"F")):this.vs(e,d,t,h)}))))})))))}ws(e,t,n,i){return ey(t)||i.isEqual(rt.min())?me.resolve(null):this.ps.getDocuments(e,n).next((o=>{const l=this.Ds(t,o);return this.Cs(t,l,n,i)?me.resolve(null):(hl()<=ct.DEBUG&&Be("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),dl(t)),this.vs(e,l,t,RP(i,tc)).next((c=>c)))}))}Ds(e,t){let n=new mr(iw(e));return t.forEach(((i,o)=>{p0(e,o)&&(n=n.add(o))})),n}Cs(e,t,n,i){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,t,n){return hl()<=ct.DEBUG&&Be("QueryEngine","Using full collection scan to execute query:",dl(t)),this.ps.getDocumentsMatchingQuery(e,t,wa.min(),n)}vs(e,t,n,i){return this.ps.getDocumentsMatchingQuery(e,n,i).next((o=>(t.forEach((l=>{o=o.insert(l.key,l)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qm="LocalStore",l3=3e8;class u3{constructor(e,t,n,i){this.persistence=e,this.Fs=t,this.serializer=i,this.Ms=new Xt(ft),this.xs=new Eo((o=>jm(o)),zm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Qk(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function c3(r,e,t,n){return new u3(r,e,t,n)}async function Rw(r,e){const t=nt(r);return await t.persistence.runTransaction("Handle user change","readonly",(n=>{let i;return t.mutationQueue.getAllMutationBatches(n).next((o=>(i=o,t.Bs(e),t.mutationQueue.getAllMutationBatches(n)))).next((o=>{const l=[],c=[];let h=ht();for(const d of i){l.push(d.batchId);for(const m of d.mutations)h=h.add(m.key)}for(const d of o){c.push(d.batchId);for(const m of d.mutations)h=h.add(m.key)}return t.localDocuments.getDocuments(n,h).next((d=>({Ls:d,removedBatchIds:l,addedBatchIds:c})))}))}))}function f3(r,e){const t=nt(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const i=e.batch.keys(),o=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,h,d,m){const _=d.batch,y=_.keys();let E=me.resolve();return y.forEach((A=>{E=E.next((()=>m.getEntry(h,A))).next((w=>{const S=d.docVersions.get(A);wt(S!==null,48541),w.version.compareTo(S)<0&&(_.applyToRemoteDocument(w,d),w.isValidDocument()&&(w.setReadTime(d.commitVersion),m.addEntry(w)))}))})),E.next((()=>c.mutationQueue.removeMutationBatch(h,_)))})(t,n,e,o).next((()=>o.apply(n))).next((()=>t.mutationQueue.performConsistencyCheck(n))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(c){let h=ht();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(h=h.add(c.batch.mutations[d].key));return h})(e)))).next((()=>t.localDocuments.getDocuments(n,i)))}))}function Pw(r){const e=nt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function h3(r,e){const t=nt(r),n=e.snapshotVersion;let i=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const l=t.Ns.newChangeBuffer({trackRemovals:!0});i=t.Ms;const c=[];e.targetChanges.forEach(((m,_)=>{const y=i.get(_);if(!y)return;c.push(t.Pi.removeMatchingKeys(o,m.removedDocuments,_).next((()=>t.Pi.addMatchingKeys(o,m.addedDocuments,_))));let E=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(_)!==null?E=E.withResumeToken(Br.EMPTY_BYTE_STRING,rt.min()).withLastLimboFreeSnapshotVersion(rt.min()):m.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(m.resumeToken,n)),i=i.insert(_,E),(function(w,S,H){return w.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=l3?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0})(y,E,m)&&c.push(t.Pi.updateTargetData(o,E))}));let h=Cs(),d=ht();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,m))})),c.push(d3(o,l,e.documentUpdates).next((m=>{h=m.ks,d=m.qs}))),!n.isEqual(rt.min())){const m=t.Pi.getLastRemoteSnapshotVersion(o).next((_=>t.Pi.setTargetsMetadata(o,o.currentSequenceNumber,n)));c.push(m)}return me.waitFor(c).next((()=>l.apply(o))).next((()=>t.localDocuments.getLocalViewOfDocuments(o,h,d))).next((()=>h))})).then((o=>(t.Ms=i,o)))}function d3(r,e,t){let n=ht(),i=ht();return t.forEach((o=>n=n.add(o))),e.getEntries(r,n).next((o=>{let l=Cs();return t.forEach(((c,h)=>{const d=o.get(c);h.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(c)),h.isNoDocument()&&h.version.isEqual(rt.min())?(e.removeEntry(c,h.readTime),l=l.insert(c,h)):!d.isValidDocument()||h.version.compareTo(d.version)>0||h.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(h),l=l.insert(c,h)):Be(Qm,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",h.version)})),{ks:l,qs:i}}))}function p3(r,e){const t=nt(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=bm),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function m3(r,e){const t=nt(r);return t.persistence.runTransaction("Allocate target","readwrite",(n=>{let i;return t.Pi.getTargetData(n,e).next((o=>o?(i=o,me.resolve(i)):t.Pi.allocateTargetId(n).next((l=>(i=new pa(e,l,"TargetPurposeListen",n.currentSequenceNumber),t.Pi.addTargetData(n,i).next((()=>i)))))))})).then((n=>{const i=t.Ms.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(n.targetId,n),t.xs.set(e,n.targetId)),n}))}async function lm(r,e,t){const n=nt(r),i=n.Ms.get(e),o=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",o,(l=>n.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!Gl(l))throw l;Be(Qm,`Failed to update sequence numbers for target ${e}: ${l}`)}n.Ms=n.Ms.remove(e),n.xs.delete(i.target)}function dy(r,e,t){const n=nt(r);let i=rt.min(),o=ht();return n.persistence.runTransaction("Execute query","readwrite",(l=>(function(h,d,m){const _=nt(h),y=_.xs.get(m);return y!==void 0?me.resolve(_.Ms.get(y)):_.Pi.getTargetData(d,m)})(n,l,ji(e)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(l,c.targetId).next((h=>{o=h}))})).next((()=>n.Fs.getDocumentsMatchingQuery(l,e,t?i:rt.min(),t?o:ht()))).next((c=>(g3(n,ek(e),c),{documents:c,Qs:o})))))}function g3(r,e,t){let n=r.Os.get(e)||rt.min();t.forEach(((i,o)=>{o.readTime.compareTo(n)>0&&(n=o.readTime)})),r.Os.set(e,n)}class py{constructor(){this.activeTargetIds=ak()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class v3{constructor(){this.Mo=new py,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new py,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const my="ConnectivityMonitor";class gy{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Be(my,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Be(my,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jf=null;function um(){return Jf===null?Jf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Jf++,"0x"+Jf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rp="RestConnection",y3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class x3{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${n}/databases/${i}`,this.Wo=this.databaseId.database===Oh?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Go(e,t,n,i,o){const l=um(),c=this.zo(e,t.toUriEncodedString());Be(Rp,`Sending RPC '${e}' ${l}:`,c,n);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,i,o);const{host:d}=new URL(c),m=jl(d);return this.Jo(e,c,h,n,m).then((_=>(Be(Rp,`Received RPC '${e}' ${l}: `,_),_)),(_=>{throw Nl(Rp,`RPC '${e}' ${l} failed with error: `,_,"url: ",c,"request:",n),_}))}Ho(e,t,n,i,o,l){return this.Go(e,t,n,i,o)}jo(e,t,n){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Wl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((i,o)=>e[o]=i)),n&&n.headers.forEach(((i,o)=>e[o]=i))}zo(e,t){const n=y3[e];return`${this.Uo}/v1/${t}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr="WebChannelConnection";class w3 extends x3{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,i,o){const l=um();return new Promise(((c,h)=>{const d=new NE;d.setWithCredentials(!0),d.listenOnce(OE.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case ph.NO_ERROR:const _=d.getResponseJson();Be(Xr,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(_)),c(_);break;case ph.TIMEOUT:Be(Xr,`RPC '${e}' ${l} timed out`),h(new be(pe.DEADLINE_EXCEEDED,"Request time out"));break;case ph.HTTP_ERROR:const y=d.getStatus();if(Be(Xr,`RPC '${e}' ${l} failed with status:`,y,"response text:",d.getResponseText()),y>0){let E=d.getResponseJson();Array.isArray(E)&&(E=E[0]);const A=E?.error;if(A&&A.status&&A.message){const w=(function(H){const z=H.toLowerCase().replace(/_/g,"-");return Object.values(pe).indexOf(z)>=0?z:pe.UNKNOWN})(A.status);h(new be(w,A.message))}else h(new be(pe.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new be(pe.UNAVAILABLE,"Connection failed."));break;default:Je(9055,{l_:e,streamId:l,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Be(Xr,`RPC '${e}' ${l} completed.`)}}));const m=JSON.stringify(i);Be(Xr,`RPC '${e}' ${l} sending request:`,i),d.send(t,"POST",m,n,15)}))}T_(e,t,n){const i=um(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=LE(),c=FE(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,t,n),h.encodeInitMessageHeaders=!0;const m=o.join("");Be(Xr,`Creating RPC '${e}' stream ${i}: ${m}`,h);const _=l.createWebChannel(m,h);this.I_(_);let y=!1,E=!1;const A=new E3({Yo:S=>{E?Be(Xr,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(y||(Be(Xr,`Opening RPC '${e}' stream ${i} transport.`),_.open(),y=!0),Be(Xr,`RPC '${e}' stream ${i} sending:`,S),_.send(S))},Zo:()=>_.close()}),w=(S,H,z)=>{S.listen(H,(W=>{try{z(W)}catch(Z){setTimeout((()=>{throw Z}),0)}}))};return w(_,Du.EventType.OPEN,(()=>{E||(Be(Xr,`RPC '${e}' stream ${i} transport opened.`),A.o_())})),w(_,Du.EventType.CLOSE,(()=>{E||(E=!0,Be(Xr,`RPC '${e}' stream ${i} transport closed`),A.a_(),this.E_(_))})),w(_,Du.EventType.ERROR,(S=>{E||(E=!0,Nl(Xr,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),A.a_(new be(pe.UNAVAILABLE,"The operation could not be completed")))})),w(_,Du.EventType.MESSAGE,(S=>{if(!E){const H=S.data[0];wt(!!H,16349);const z=H,W=z?.error||z[0]?.error;if(W){Be(Xr,`RPC '${e}' stream ${i} received error:`,W);const Z=W.status;let fe=(function(P){const C=sr[P];if(C!==void 0)return gw(C)})(Z),ge=W.message;fe===void 0&&(fe=pe.INTERNAL,ge="Unknown error status: "+Z+" with message "+W.message),E=!0,A.a_(new be(fe,ge)),_.close()}else Be(Xr,`RPC '${e}' stream ${i} received:`,H),A.u_(H)}})),w(c,DE.STAT_EVENT,(S=>{S.stat===Yp.PROXY?Be(Xr,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===Yp.NOPROXY&&Be(Xr,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{A.__()}),0),A}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Pp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(r){return new Ik(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(e,t,n=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=t,this.d_=n,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-n);i>0&&Be("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy="PersistentStream";class Nw{constructor(e,t,n,i,o,l,c,h){this.Mi=e,this.S_=n,this.b_=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new kw(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===pe.RESOURCE_EXHAUSTED?(Is(t.toString()),Is("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===pe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,i])=>{this.D_===t&&this.G_(n,i)}),(n=>{e((()=>{const i=new be(pe.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)}))}))}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{n((()=>this.listener.Xo()))})),this.stream.t_((()=>{n((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{n((()=>this.z_(i)))})),this.stream.onMessage((i=>{n((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Be(vy,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(Be(vy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class T3 extends Nw{constructor(e,t,n,i,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,i,l),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=Pk(this.serializer,e),n=(function(o){if(!("targetChange"in o))return rt.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?rt.min():l.readTime?zi(l.readTime):rt.min()})(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=om(this.serializer),t.addTarget=(function(o,l){let c;const h=l.target;if(c=tm(h)?{documents:Ok(o,h)}:{query:Dk(o,h).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=yw(o,l.resumeToken);const d=im(o,l.expectedCount);d!==null&&(c.expectedCount=d)}else if(l.snapshotVersion.compareTo(rt.min())>0){c.readTime=Vh(o,l.snapshotVersion.toTimestamp());const d=im(o,l.expectedCount);d!==null&&(c.expectedCount=d)}return c})(this.serializer,e);const n=Lk(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=om(this.serializer),t.removeTarget=e,this.q_(t)}}class S3 extends Nw{constructor(e,t,n,i,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,i,l),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return wt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,wt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){wt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=Nk(e.writeResults,e.commitTime),n=zi(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=om(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((n=>kk(this.serializer,n)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{}class I3 extends A3{constructor(e,t,n,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new be(pe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Go(e,sm(t,n),i,o,l))).catch((o=>{throw o.name==="FirebaseError"?(o.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new be(pe.UNKNOWN,o.toString())}))}Ho(e,t,n,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Ho(e,sm(t,n),i,l,c,o))).catch((l=>{throw l.name==="FirebaseError"?(l.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new be(pe.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class C3{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Is(t),this.aa=!1):Be("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo="RemoteStore";class R3{constructor(e,t,n,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((l=>{n.enqueueAndForget((async()=>{To(this)&&(Be(mo,"Restarting streams for network reachability change."),await(async function(h){const d=nt(h);d.Ea.add(4),await Cc(d),d.Ra.set("Unknown"),d.Ea.delete(4),await y0(d)})(this))}))})),this.Ra=new C3(n,i)}}async function y0(r){if(To(r))for(const e of r.da)await e(!0)}async function Cc(r){for(const e of r.da)await e(!1)}function Ow(r,e){const t=nt(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),tg(t)?eg(t):Kl(t).O_()&&Zm(t,e))}function Jm(r,e){const t=nt(r),n=Kl(t);t.Ia.delete(e),n.O_()&&Dw(t,e),t.Ia.size===0&&(n.O_()?n.L_():To(t)&&t.Ra.set("Unknown"))}function Zm(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(rt.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Kl(r).Y_(e)}function Dw(r,e){r.Va.Ue(e),Kl(r).Z_(e)}function eg(r){r.Va=new wk({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Kl(r).start(),r.Ra.ua()}function tg(r){return To(r)&&!Kl(r).x_()&&r.Ia.size>0}function To(r){return nt(r).Ea.size===0}function Fw(r){r.Va=void 0}async function P3(r){r.Ra.set("Online")}async function k3(r){r.Ia.forEach(((e,t)=>{Zm(r,e)}))}async function N3(r,e){Fw(r),tg(r)?(r.Ra.ha(e),eg(r)):r.Ra.set("Unknown")}async function O3(r,e,t){if(r.Ra.set("Online"),e instanceof _w&&e.state===2&&e.cause)try{await(async function(i,o){const l=o.cause;for(const c of o.targetIds)i.Ia.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.Ia.delete(c),i.Va.removeTarget(c))})(r,e)}catch(n){Be(mo,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Uh(r,n)}else if(e instanceof _h?r.Va.Ze(e):e instanceof vw?r.Va.st(e):r.Va.tt(e),!t.isEqual(rt.min()))try{const n=await Pw(r.localStore);t.compareTo(n)>=0&&await(function(o,l){const c=o.Va.Tt(l);return c.targetChanges.forEach(((h,d)=>{if(h.resumeToken.approximateByteSize()>0){const m=o.Ia.get(d);m&&o.Ia.set(d,m.withResumeToken(h.resumeToken,l))}})),c.targetMismatches.forEach(((h,d)=>{const m=o.Ia.get(h);if(!m)return;o.Ia.set(h,m.withResumeToken(Br.EMPTY_BYTE_STRING,m.snapshotVersion)),Dw(o,h);const _=new pa(m.target,h,d,m.sequenceNumber);Zm(o,_)})),o.remoteSyncer.applyRemoteEvent(c)})(r,t)}catch(n){Be(mo,"Failed to raise snapshot:",n),await Uh(r,n)}}async function Uh(r,e,t){if(!Gl(e))throw e;r.Ea.add(1),await Cc(r),r.Ra.set("Offline"),t||(t=()=>Pw(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{Be(mo,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await y0(r)}))}function Lw(r,e){return e().catch((t=>Uh(r,t,e)))}async function x0(r){const e=nt(r),t=Ia(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:bm;for(;D3(e);)try{const i=await p3(e.localStore,n);if(i===null){e.Ta.length===0&&t.L_();break}n=i.batchId,F3(e,i)}catch(i){await Uh(e,i)}Mw(e)&&Vw(e)}function D3(r){return To(r)&&r.Ta.length<10}function F3(r,e){r.Ta.push(e);const t=Ia(r);t.O_()&&t.X_&&t.ea(e.mutations)}function Mw(r){return To(r)&&!Ia(r).x_()&&r.Ta.length>0}function Vw(r){Ia(r).start()}async function L3(r){Ia(r).ra()}async function M3(r){const e=Ia(r);for(const t of r.Ta)e.ea(t.mutations)}async function V3(r,e,t){const n=r.Ta.shift(),i=$m.from(n,e,t);await Lw(r,(()=>r.remoteSyncer.applySuccessfulWrite(i))),await x0(r)}async function b3(r,e){e&&Ia(r).X_&&await(async function(n,i){if((function(l){return yk(l)&&l!==pe.ABORTED})(i.code)){const o=n.Ta.shift();Ia(n).B_(),await Lw(n,(()=>n.remoteSyncer.rejectFailedWrite(o.batchId,i))),await x0(n)}})(r,e),Mw(r)&&Vw(r)}async function _y(r,e){const t=nt(r);t.asyncQueue.verifyOperationInProgress(),Be(mo,"RemoteStore received new credentials");const n=To(t);t.Ea.add(3),await Cc(t),n&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await y0(t)}async function U3(r,e){const t=nt(r);e?(t.Ea.delete(2),await y0(t)):e||(t.Ea.add(2),await Cc(t),t.Ra.set("Unknown"))}function Kl(r){return r.ma||(r.ma=(function(t,n,i){const o=nt(t);return o.sa(),new T3(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(r.datastore,r.asyncQueue,{Xo:P3.bind(null,r),t_:k3.bind(null,r),r_:N3.bind(null,r),H_:O3.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),tg(r)?eg(r):r.Ra.set("Unknown")):(await r.ma.stop(),Fw(r))}))),r.ma}function Ia(r){return r.fa||(r.fa=(function(t,n,i){const o=nt(t);return o.sa(),new S3(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:L3.bind(null,r),r_:b3.bind(null,r),ta:M3.bind(null,r),na:V3.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await x0(r)):(await r.fa.stop(),r.Ta.length>0&&(Be(mo,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,t,n,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=i,this.removalCallback=o,this.deferred=new _s,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,i,o){const l=Date.now()+n,c=new rg(e,t,l,i,o);return c.start(n),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ng(r,e){if(Is("AsyncQueue",`${e}: ${r}`),Gl(r))return new be(pe.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{static emptySet(e){return new El(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Ke.comparator(t.key,n.key):(t,n)=>Ke.comparator(t.key,n.key),this.keyedMap=Fu(),this.sortedSet=new Xt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof El)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=n.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new El;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(){this.ga=new Xt(Ke.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(t,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(t):e.type===1&&n.type===2?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Je(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Vl{constructor(e,t,n,i,o,l,c,h,d){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=d}static fromInitialDocuments(e,t,n,i,o){const l=[];return t.forEach((c=>{l.push({type:0,doc:c})})),new Vl(e,t,El.emptySet(t),l,n,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&d0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==n[i].type||!t[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class j3{constructor(){this.queries=xy(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,n){const i=nt(t),o=i.queries;i.queries=xy(),o.forEach(((l,c)=>{for(const h of c.Sa)h.onError(n)}))})(this,new be(pe.ABORTED,"Firestore shutting down"))}}function xy(){return new Eo((r=>nw(r)),d0)}async function bw(r,e){const t=nt(r);let n=3;const i=e.query;let o=t.queries.get(i);o?!o.ba()&&e.Da()&&(n=2):(o=new B3,n=e.Da()?0:1);try{switch(n){case 0:o.wa=await t.onListen(i,!0);break;case 1:o.wa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const c=ng(l,`Initialization of query '${dl(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,o),o.Sa.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&ig(t)}async function Uw(r,e){const t=nt(r),n=e.query;let i=3;const o=t.queries.get(n);if(o){const l=o.Sa.indexOf(e);l>=0&&(o.Sa.splice(l,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function z3(r,e){const t=nt(r);let n=!1;for(const i of e){const o=i.query,l=t.queries.get(o);if(l){for(const c of l.Sa)c.Fa(i)&&(n=!0);l.wa=i}}n&&ig(t)}function H3(r,e,t){const n=nt(r),i=n.queries.get(e);if(i)for(const o of i.Sa)o.onError(t);n.queries.delete(e)}function ig(r){r.Ca.forEach((e=>{e.next()}))}var cm,Ey;(Ey=cm||(cm={})).Ma="default",Ey.Cache="cache";class Bw{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new Vl(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const n=t!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Vl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==cm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e){this.key=e}}class zw{constructor(e){this.key=e}}class W3{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ht(),this.mutatedKeys=ht(),this.eu=iw(e),this.tu=new El(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new yy,i=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,l=i,c=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((m,_)=>{const y=i.get(m),E=p0(this.query,_)?_:null,A=!!y&&this.mutatedKeys.has(y.key),w=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let S=!1;y&&E?y.data.isEqual(E.data)?A!==w&&(n.track({type:3,doc:E}),S=!0):this.su(y,E)||(n.track({type:2,doc:E}),S=!0,(h&&this.eu(E,h)>0||d&&this.eu(E,d)<0)&&(c=!0)):!y&&E?(n.track({type:0,doc:E}),S=!0):y&&!E&&(n.track({type:1,doc:y}),S=!0,(h||d)&&(c=!0)),S&&(E?(l=l.add(E),o=w?o.add(m):o.delete(m)):(l=l.delete(m),o=o.delete(m)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),o=o.delete(m.key),n.track({type:1,doc:m})}return{tu:l,iu:n,Cs:c,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((m,_)=>(function(E,A){const w=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Je(20277,{Rt:S})}};return w(E)-w(A)})(m.type,_.type)||this.eu(m.doc,_.doc))),this.ou(n),i=i??!1;const c=t&&!i?this._u():[],h=this.Xa.size===0&&this.current&&!i?1:0,d=h!==this.Za;return this.Za=h,l.length!==0||d?{snapshot:new Vl(this.query,e.tu,o,l,e.mutatedKeys,h===0,d,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new yy,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ht(),this.tu.forEach((n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))}));const t=[];return e.forEach((n=>{this.Xa.has(n)||t.push(new zw(n))})),this.Xa.forEach((n=>{e.has(n)||t.push(new jw(n))})),t}cu(e){this.Ya=e.Qs,this.Xa=ht();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Vl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const sg="SyncEngine";class $3{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class G3{constructor(e){this.key=e,this.hu=!1}}class K3{constructor(e,t,n,i,o,l){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Eo((c=>nw(c)),d0),this.Iu=new Map,this.Eu=new Set,this.du=new Xt(Ke.comparator),this.Au=new Map,this.Ru=new qm,this.Vu={},this.mu=new Map,this.fu=Ml.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function q3(r,e,t=!0){const n=qw(r);let i;const o=n.Tu.get(e);return o?(n.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await Hw(n,e,t,!0),i}async function X3(r,e){const t=qw(r);await Hw(t,e,!0,!1)}async function Hw(r,e,t,n){const i=await m3(r.localStore,ji(e)),o=i.targetId,l=r.sharedClientState.addLocalQueryTarget(o,t);let c;return n&&(c=await Y3(r,e,o,l==="current",i.resumeToken)),r.isPrimaryClient&&t&&Ow(r.remoteStore,i),c}async function Y3(r,e,t,n,i){r.pu=(_,y,E)=>(async function(w,S,H,z){let W=S.view.ru(H);W.Cs&&(W=await dy(w.localStore,S.query,!1).then((({documents:k})=>S.view.ru(k,W))));const Z=z&&z.targetChanges.get(S.targetId),fe=z&&z.targetMismatches.get(S.targetId)!=null,ge=S.view.applyChanges(W,w.isPrimaryClient,Z,fe);return Ty(w,S.targetId,ge.au),ge.snapshot})(r,_,y,E);const o=await dy(r.localStore,e,!0),l=new W3(e,o.Qs),c=l.ru(o.documents),h=Ic.createSynthesizedTargetChangeForCurrentChange(t,n&&r.onlineState!=="Offline",i),d=l.applyChanges(c,r.isPrimaryClient,h);Ty(r,t,d.au);const m=new $3(e,t,l);return r.Tu.set(e,m),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),d.snapshot}async function Q3(r,e,t){const n=nt(r),i=n.Tu.get(e),o=n.Iu.get(i.targetId);if(o.length>1)return n.Iu.set(i.targetId,o.filter((l=>!d0(l,e)))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await lm(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),t&&Jm(n.remoteStore,i.targetId),fm(n,i.targetId)})).catch($l)):(fm(n,i.targetId),await lm(n.localStore,i.targetId,!0))}async function J3(r,e){const t=nt(r),n=t.Tu.get(e),i=t.Iu.get(n.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),Jm(t.remoteStore,n.targetId))}async function Z3(r,e,t){const n=aN(r);try{const i=await(function(l,c){const h=nt(l),d=bt.now(),m=c.reduce(((E,A)=>E.add(A.key)),ht());let _,y;return h.persistence.runTransaction("Locally write mutations","readwrite",(E=>{let A=Cs(),w=ht();return h.Ns.getEntries(E,m).next((S=>{A=S,A.forEach(((H,z)=>{z.isValidDocument()||(w=w.add(H))}))})).next((()=>h.localDocuments.getOverlayedDocuments(E,A))).next((S=>{_=S;const H=[];for(const z of c){const W=pk(z,_.get(z.key).overlayedDocument);W!=null&&H.push(new wo(z.key,W,XE(W.value.mapValue),ys.exists(!0)))}return h.mutationQueue.addMutationBatch(E,d,H,c)})).next((S=>{y=S;const H=S.applyToLocalDocumentSet(_,w);return h.documentOverlayCache.saveOverlays(E,S.batchId,H)}))})).then((()=>({batchId:y.batchId,changes:aw(_)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),(function(l,c,h){let d=l.Vu[l.currentUser.toKey()];d||(d=new Xt(ft)),d=d.insert(c,h),l.Vu[l.currentUser.toKey()]=d})(n,i.batchId,t),await Rc(n,i.changes),await x0(n.remoteStore)}catch(i){const o=ng(i,"Failed to persist write");t.reject(o)}}async function Ww(r,e){const t=nt(r);try{const n=await h3(t.localStore,e);e.targetChanges.forEach(((i,o)=>{const l=t.Au.get(o);l&&(wt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?wt(l.hu,14607):i.removedDocuments.size>0&&(wt(l.hu,42227),l.hu=!1))})),await Rc(t,n,e)}catch(n){await $l(n)}}function wy(r,e,t){const n=nt(r);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const i=[];n.Tu.forEach(((o,l)=>{const c=l.view.va(e);c.snapshot&&i.push(c.snapshot)})),(function(l,c){const h=nt(l);h.onlineState=c;let d=!1;h.queries.forEach(((m,_)=>{for(const y of _.Sa)y.va(c)&&(d=!0)})),d&&ig(h)})(n.eventManager,e),i.length&&n.Pu.H_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function eN(r,e,t){const n=nt(r);n.sharedClientState.updateQueryState(e,"rejected",t);const i=n.Au.get(e),o=i&&i.key;if(o){let l=new Xt(Ke.comparator);l=l.insert(o,Qr.newNoDocument(o,rt.min()));const c=ht().add(o),h=new v0(rt.min(),new Map,new Xt(ft),l,c);await Ww(n,h),n.du=n.du.remove(o),n.Au.delete(e),ag(n)}else await lm(n.localStore,e,!1).then((()=>fm(n,e,t))).catch($l)}async function tN(r,e){const t=nt(r),n=e.batch.batchId;try{const i=await f3(t.localStore,e);Gw(t,n,null),$w(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await Rc(t,i)}catch(i){await $l(i)}}async function rN(r,e,t){const n=nt(r);try{const i=await(function(l,c){const h=nt(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let m;return h.mutationQueue.lookupMutationBatch(d,c).next((_=>(wt(_!==null,37113),m=_.keys(),h.mutationQueue.removeMutationBatch(d,_)))).next((()=>h.mutationQueue.performConsistencyCheck(d))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(d,m,c))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,m))).next((()=>h.localDocuments.getDocuments(d,m)))}))})(n.localStore,e);Gw(n,e,t),$w(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await Rc(n,i)}catch(i){await $l(i)}}function $w(r,e){(r.mu.get(e)||[]).forEach((t=>{t.resolve()})),r.mu.delete(e)}function Gw(r,e,t){const n=nt(r);let i=n.Vu[n.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),n.Vu[n.currentUser.toKey()]=i}}function fm(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const n of r.Iu.get(e))r.Tu.delete(n),t&&r.Pu.yu(n,t);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((n=>{r.Ru.containsKey(n)||Kw(r,n)}))}function Kw(r,e){r.Eu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(Jm(r.remoteStore,t),r.du=r.du.remove(e),r.Au.delete(t),ag(r))}function Ty(r,e,t){for(const n of t)n instanceof jw?(r.Ru.addReference(n.key,e),nN(r,n)):n instanceof zw?(Be(sg,"Document no longer in limbo: "+n.key),r.Ru.removeReference(n.key,e),r.Ru.containsKey(n.key)||Kw(r,n.key)):Je(19791,{wu:n})}function nN(r,e){const t=e.key,n=t.path.canonicalString();r.du.get(t)||r.Eu.has(n)||(Be(sg,"New document in limbo: "+t),r.Eu.add(n),ag(r))}function ag(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new Ke(Ft.fromString(e)),n=r.fu.next();r.Au.set(n,new G3(t)),r.du=r.du.insert(t,n),Ow(r.remoteStore,new pa(ji(Hm(t.path)),n,"TargetPurposeLimboResolution",c0.ce))}}async function Rc(r,e,t){const n=nt(r),i=[],o=[],l=[];n.Tu.isEmpty()||(n.Tu.forEach(((c,h)=>{l.push(n.pu(h,e,t).then((d=>{if((d||t)&&n.isPrimaryClient){const m=d?!d.fromCache:t?.targetChanges.get(h.targetId)?.current;n.sharedClientState.updateQueryState(h.targetId,m?"current":"not-current")}if(d){i.push(d);const m=Ym.As(h.targetId,d);o.push(m)}})))})),await Promise.all(l),n.Pu.H_(i),await(async function(h,d){const m=nt(h);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>me.forEach(d,(y=>me.forEach(y.Es,(E=>m.persistence.referenceDelegate.addReference(_,y.targetId,E))).next((()=>me.forEach(y.ds,(E=>m.persistence.referenceDelegate.removeReference(_,y.targetId,E)))))))))}catch(_){if(!Gl(_))throw _;Be(Qm,"Failed to update sequence numbers: "+_)}for(const _ of d){const y=_.targetId;if(!_.fromCache){const E=m.Ms.get(y),A=E.snapshotVersion,w=E.withLastLimboFreeSnapshotVersion(A);m.Ms=m.Ms.insert(y,w)}}})(n.localStore,o))}async function iN(r,e){const t=nt(r);if(!t.currentUser.isEqual(e)){Be(sg,"User change. New user:",e.toKey());const n=await Rw(t.localStore,e);t.currentUser=e,(function(o,l){o.mu.forEach((c=>{c.forEach((h=>{h.reject(new be(pe.CANCELLED,l))}))})),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Rc(t,n.Ls)}}function sN(r,e){const t=nt(r),n=t.Au.get(e);if(n&&n.hu)return ht().add(n.key);{let i=ht();const o=t.Iu.get(e);if(!o)return i;for(const l of o){const c=t.Tu.get(l);i=i.unionWith(c.view.nu)}return i}}function qw(r){const e=nt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ww.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=eN.bind(null,e),e.Pu.H_=z3.bind(null,e.eventManager),e.Pu.yu=H3.bind(null,e.eventManager),e}function aN(r){const e=nt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=rN.bind(null,e),e}class Bh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_0(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return c3(this.persistence,new o3,e.initialUser,this.serializer)}Cu(e){return new Cw(Xm.mi,this.serializer)}Du(e){return new v3}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bh.provider={build:()=>new Bh};class oN extends Bh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){wt(this.persistence.referenceDelegate instanceof bh,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Gk(n,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new Cw((n=>bh.mi(n,t)),this.serializer)}}class hm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>wy(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=iN.bind(null,this.syncEngine),await U3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new j3})()}createDatastore(e){const t=_0(e.databaseInfo.databaseId),n=(function(o){return new w3(o)})(e.databaseInfo);return(function(o,l,c,h){return new I3(o,l,c,h)})(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return(function(n,i,o,l,c){return new R3(n,i,o,l,c)})(this.localStore,this.datastore,e.asyncQueue,(t=>wy(this.syncEngine,t,0)),(function(){return gy.v()?new gy:new _3})())}createSyncEngine(e,t){return(function(i,o,l,c,h,d,m){const _=new K3(i,o,l,c,h,d);return m&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const n=nt(t);Be(mo,"RemoteStore shutting down."),n.Ea.add(5),await Cc(n),n.Aa.shutdown(),n.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}hm.provider={build:()=>new hm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Is("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca="FirestoreClient";class lN{constructor(e,t,n,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=Yr.UNAUTHENTICATED,this.clientId=Vm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(n,(async l=>{Be(Ca,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(n,(l=>(Be(Ca,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _s;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=ng(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function kp(r,e){r.asyncQueue.verifyOperationInProgress(),Be(Ca,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let n=t.initialUser;r.setCredentialChangeListener((async i=>{n.isEqual(i)||(await Rw(e.localStore,i),n=i)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function Sy(r,e){r.asyncQueue.verifyOperationInProgress();const t=await uN(r);Be(Ca,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((n=>_y(e.remoteStore,n))),r.setAppCheckTokenChangeListener(((n,i)=>_y(e.remoteStore,i))),r._onlineComponents=e}async function uN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Be(Ca,"Using user provided OfflineComponentProvider");try{await kp(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===pe.FAILED_PRECONDITION||i.code===pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;Nl("Error using user provided cache. Falling back to memory cache: "+t),await kp(r,new Bh)}}else Be(Ca,"Using default OfflineComponentProvider"),await kp(r,new oN(void 0));return r._offlineComponents}async function Yw(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Be(Ca,"Using user provided OnlineComponentProvider"),await Sy(r,r._uninitializedComponentsProvider._online)):(Be(Ca,"Using default OnlineComponentProvider"),await Sy(r,new hm))),r._onlineComponents}function cN(r){return Yw(r).then((e=>e.syncEngine))}async function Qw(r){const e=await Yw(r),t=e.eventManager;return t.onListen=q3.bind(null,e.syncEngine),t.onUnlisten=Q3.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=X3.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=J3.bind(null,e.syncEngine),t}function fN(r,e,t={}){const n=new _s;return r.asyncQueue.enqueueAndForget((async()=>(function(o,l,c,h,d){const m=new Xw({next:y=>{m.Nu(),l.enqueueAndForget((()=>Uw(o,_)));const E=y.docs.has(c);!E&&y.fromCache?d.reject(new be(pe.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&y.fromCache&&h&&h.source==="server"?d.reject(new be(pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(y)},error:y=>d.reject(y)}),_=new Bw(Hm(c.path),m,{includeMetadataChanges:!0,qa:!0});return bw(o,_)})(await Qw(r),r.asyncQueue,e,t,n))),n.promise}function hN(r,e,t={}){const n=new _s;return r.asyncQueue.enqueueAndForget((async()=>(function(o,l,c,h,d){const m=new Xw({next:y=>{m.Nu(),l.enqueueAndForget((()=>Uw(o,_))),y.fromCache&&h.source==="server"?d.reject(new be(pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(y)},error:y=>d.reject(y)}),_=new Bw(c,m,{includeMetadataChanges:!0,qa:!0});return bw(o,_)})(await Qw(r),r.asyncQueue,e,t,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ay=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw="firestore.googleapis.com",Iy=!0;class Cy{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new be(pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Zw,this.ssl=Iy}else this.host=e.host,this.ssl=e.ssl??Iy;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Iw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Wk)throw new be(pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}CP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Jw(e.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new be(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new be(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new be(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,i){return n.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class E0{constructor(e,t,n,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Cy({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new be(pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new be(pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Cy(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new vP;switch(n.type){case"firstParty":return new EP(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new be(pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const n=Ay.get(t);n&&(Be("ComponentProvider","Removing Datastore"),Ay.delete(t),n.terminate())})(this),Promise.resolve()}}function dN(r,e,t,n={}){r=Dl(r,E0);const i=jl(e),o=r._getSettings(),l={...o,emulatorOptions:r._getEmulatorOptions()},c=`${e}:${t}`;i&&(Wx(`https://${c}`),$x("Firestore",!0)),o.host!==Zw&&o.host!==c&&Nl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...o,host:c,ssl:i,emulatorOptions:n};if(!co(h,l)&&(r._setSettings(h),n.mockUserToken)){let d,m;if(typeof n.mockUserToken=="string")d=n.mockUserToken,m=Yr.MOCK_USER;else{d=WI(n.mockUserToken,r._app?.options.projectId);const _=n.mockUserToken.sub||n.mockUserToken.user_id;if(!_)throw new be(pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Yr(_)}r._authCredentials=new _P(new VE(d,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new ql(this.firestore,e,this._query)}}class pr{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ea(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pr(this.firestore,e,this._key)}toJSON(){return{type:pr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(Tc(t,pr._jsonSchema))return new pr(e,n||null,new Ke(Ft.fromString(t.referencePath)))}}pr._jsonSchemaVersion="firestore/documentReference/1.0",pr._jsonSchema={type:or("string",pr._jsonSchemaVersion),referencePath:or("string")};class Ea extends ql{constructor(e,t,n){super(e,t,Hm(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pr(this.firestore,null,new Ke(e))}withConverter(e){return new Ea(this.firestore,e,this._path)}}function wl(r,e,...t){if(r=Dn(r),bE("collection","path",e),r instanceof E0){const n=Ft.fromString(e,...t);return B_(n),new Ea(r,null,n)}{if(!(r instanceof pr||r instanceof Ea))throw new be(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(Ft.fromString(e,...t));return B_(n),new Ea(r.firestore,null,n)}}function eT(r,e,...t){if(r=Dn(r),arguments.length===1&&(e=Vm.newId()),bE("doc","path",e),r instanceof E0){const n=Ft.fromString(e,...t);return U_(n),new pr(r,null,new Ke(n))}{if(!(r instanceof pr||r instanceof Ea))throw new be(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(Ft.fromString(e,...t));return U_(n),new pr(r.firestore,r instanceof Ea?r.converter:null,new Ke(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry="AsyncQueue";class Py{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new kw(this,"async_queue_retry"),this._c=()=>{const n=Pp();n&&Be(Ry,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const t=Pp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Pp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new _s;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Gl(e))throw e;Be(Ry,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((n=>{throw this.nc=n,this.rc=!1,Is("INTERNAL UNHANDLED ERROR: ",ky(n)),n})).then((n=>(this.rc=!1,n))))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const i=rg.createAndSchedule(this,e,t,n,(o=>this.hc(o)));return this.tc.push(i),i}uc(){this.nc&&Je(47125,{Pc:ky(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,n)=>t.targetTimeMs-n.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function ky(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class w0 extends E0{constructor(e,t,n,i){super(e,t,n,i),this.type="firestore",this._queue=new Py,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Py(e),this._firestoreClient=void 0,await e}}}function pN(r,e){const t=typeof r=="object"?r:Xx(),n=typeof r=="string"?r:Oh,i=Am(t,"firestore").getImmediate({identifier:n});if(!i._initialized){const o=zI("firestore");o&&dN(i,...o)}return i}function og(r){if(r._terminated)throw new be(pe.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||mN(r),r._firestoreClient}function mN(r){const e=r._freezeSettings(),t=(function(i,o,l,c){return new bP(i,o,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,Jw(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new lN(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&(function(i){const o=i?._online.build();return{_offline:i?._offline.build(o),_online:o}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xn(Br.fromBase64String(e))}catch(t){throw new be(pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Xn(Br.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Tc(e,Xn._jsonSchema))return Xn.fromBase64String(e.bytes)}}Xn._jsonSchemaVersion="firestore/bytes/1.0",Xn._jsonSchema={type:or("string",Xn._jsonSchemaVersion),bytes:or("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new be(pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new be(pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new be(pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ft(this._lat,e._lat)||ft(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Hi._jsonSchemaVersion}}static fromJSON(e){if(Tc(e,Hi._jsonSchema))return new Hi(e.latitude,e.longitude)}}Hi._jsonSchemaVersion="firestore/geoPoint/1.0",Hi._jsonSchema={type:or("string",Hi._jsonSchemaVersion),latitude:or("number"),longitude:or("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,i){if(n.length!==i.length)return!1;for(let o=0;o<n.length;++o)if(n[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Wi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Tc(e,Wi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Wi(e.vectorValues);throw new be(pe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Wi._jsonSchemaVersion="firestore/vectorValue/1.0",Wi._jsonSchema={type:or("string",Wi._jsonSchemaVersion),vectorValues:or("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN=/^__.*__$/;class vN{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new wo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ac(e,this.data,t,this.fieldTransforms)}}function tT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Je(40011,{Ac:r})}}class cg{constructor(e,t,n,i,o,l){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new cg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.gc(e),n}yc(e){const t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return jh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(tT(this.Ac)&&gN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class _N{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||_0(e)}Cc(e,t,n,i=!1){return new cg({Ac:e,methodName:t,Dc:n,path:Mr.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rT(r){const e=r._freezeSettings(),t=_0(r._databaseId);return new _N(r._databaseId,!!e.ignoreUndefinedProperties,t)}function yN(r,e,t,n,i,o={}){const l=r.Cc(o.merge||o.mergeFields?2:0,e,t,i);sT("Data must be an object, but it was:",l,n);const c=nT(n,l);let h,d;if(o.merge)h=new vi(l.fieldMask),d=l.fieldTransforms;else if(o.mergeFields){const m=[];for(const _ of o.mergeFields){const y=EN(e,_,t);if(!l.contains(y))throw new be(pe.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);TN(m,y)||m.push(y)}h=new vi(m),d=l.fieldTransforms.filter((_=>h.covers(_.field)))}else h=null,d=l.fieldTransforms;return new vN(new qn(c),h,d)}class fg extends ug{_toFieldTransform(e){return new ck(e.path,new sc)}isEqual(e){return e instanceof fg}}function xN(r,e,t,n=!1){return hg(t,r.Cc(n?4:3,e))}function hg(r,e){if(iT(r=Dn(r)))return sT("Unsupported field value:",e,r),nT(r,e);if(r instanceof ug)return(function(n,i){if(!tT(i.Ac))throw i.Sc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${n._methodName}() is not currently supported inside arrays`);const o=n._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(n,i){const o=[];let l=0;for(const c of n){let h=hg(c,i.wc(l));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),l++}return{arrayValue:{values:o}}})(r,e)}return(function(n,i){if((n=Dn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return ok(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const o=bt.fromDate(n);return{timestampValue:Vh(i.serializer,o)}}if(n instanceof bt){const o=new bt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Vh(i.serializer,o)}}if(n instanceof Hi)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Xn)return{bytesValue:yw(i.serializer,n._byteString)};if(n instanceof pr){const o=i.databaseId,l=n.firestore._databaseId;if(!l.isEqual(o))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Km(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof Wi)return(function(l,c){return{mapValue:{fields:{[KE]:{stringValue:qE},[Dh]:{arrayValue:{values:l.toArray().map((d=>{if(typeof d!="number")throw c.Sc("VectorValues must only contain numeric values.");return Wm(c.serializer,d)}))}}}}}})(n,i);throw i.Sc(`Unsupported field value: ${u0(n)}`)})(r,e)}function nT(r,e){const t={};return jE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xo(r,((n,i)=>{const o=hg(i,e.mc(n));o!=null&&(t[n]=o)})),{mapValue:{fields:t}}}function iT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof bt||r instanceof Hi||r instanceof Xn||r instanceof pr||r instanceof ug||r instanceof Wi)}function sT(r,e,t){if(!iT(t)||!UE(t)){const n=u0(t);throw n==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+n)}}function EN(r,e,t){if((e=Dn(e))instanceof lg)return e._internalPath;if(typeof e=="string")return aT(r,e);throw jh("Field path arguments must be of type string or ",r,!1,void 0,t)}const wN=new RegExp("[~\\*/\\[\\]]");function aT(r,e,t){if(e.search(wN)>=0)throw jh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new lg(...e.split("."))._internalPath}catch{throw jh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function jh(r,e,t,n,i){const o=n&&!n.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(o||l)&&(h+=" (found",o&&(h+=` in field ${n}`),l&&(h+=` in document ${i}`),h+=")"),new be(pe.INVALID_ARGUMENT,c+r+h)}function TN(r,e){return r.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(e,t,n,i,o){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new pr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new SN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(dg("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class SN extends oT{data(){return super.data()}}function dg(r,e){return typeof e=="string"?aT(r,e):e instanceof lg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AN(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new be(pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pg{}class IN extends pg{}function Wu(r,e,...t){let n=[];e instanceof pg&&n.push(e),n=n.concat(t),(function(o){const l=o.filter((h=>h instanceof mg)).length,c=o.filter((h=>h instanceof T0)).length;if(l>1||l>0&&c>0)throw new be(pe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const i of n)r=i._apply(r);return r}class T0 extends IN{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new T0(e,t,n)}_apply(e){const t=this._parse(e);return lT(e._query,t),new ql(e.firestore,e.converter,rm(e._query,t))}_parse(e){const t=rT(e.firestore);return(function(o,l,c,h,d,m,_){let y;if(d.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new be(pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){Oy(_,m);const A=[];for(const w of _)A.push(Ny(h,o,w));y={arrayValue:{values:A}}}else y=Ny(h,o,_)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||Oy(_,m),y=xN(c,l,_,m==="in"||m==="not-in");return ar.create(d,m,y)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function da(r,e,t){const n=e,i=dg("where",r);return T0._create(i,n,t)}class mg extends pg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new mg(e,t)}_parse(e){const t=this._queryConstraints.map((n=>n._parse(e))).filter((n=>n.getFilters().length>0));return t.length===1?t[0]:Ei.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(i,o){let l=i;const c=o.getFlattenedFilters();for(const h of c)lT(l,h),l=rm(l,h)})(e._query,t),new ql(e.firestore,e.converter,rm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Ny(r,e,t){if(typeof(t=Dn(t))=="string"){if(t==="")throw new be(pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rw(e)&&t.indexOf("/")!==-1)throw new be(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=e.path.child(Ft.fromString(t));if(!Ke.isDocumentKey(n))throw new be(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return q_(r,new Ke(n))}if(t instanceof pr)return q_(r,t._key);throw new be(pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${u0(t)}.`)}function Oy(r,e){if(!Array.isArray(r)||r.length===0)throw new be(pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function lT(r,e){const t=(function(i,o){for(const l of i)for(const c of l.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null})(r.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new be(pe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new be(pe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class CN{convertValue(e,t="none"){switch(Aa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Sa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Je(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return xo(e,((i,o)=>{n[i]=this.convertValue(o,t)})),n}convertVectorValue(e){const t=e.fields?.[Dh].arrayValue?.values?.map((n=>tr(n.doubleValue)));return new Wi(t)}convertGeoPoint(e){return new Hi(tr(e.latitude),tr(e.longitude))}convertArray(e,t){return(e.values||[]).map((n=>this.convertValue(n,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=h0(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(rc(e));default:return null}}convertTimestamp(e){const t=Ta(e);return new bt(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Ft.fromString(e);wt(Aw(n),9688,{name:e});const i=new nc(n.get(1),n.get(3)),o=new Ke(n.popFirst(5));return i.isEqual(t)||Is(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(r,e,t){let n;return n=r?r.toFirestore(e):e,n}class Mu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lo extends oT{constructor(e,t,n,i,o,l){super(e,t,n,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new yh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(dg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new be(pe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=lo._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}lo._jsonSchemaVersion="firestore/documentSnapshot/1.0",lo._jsonSchema={type:or("string",lo._jsonSchemaVersion),bundleSource:or("string","DocumentSnapshot"),bundleName:or("string"),bundle:or("string")};class yh extends lo{data(e={}){return super.data(e)}}class Tl{constructor(e,t,n,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Mu(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new yh(this._firestore,this._userDataWriter,n.key,n,new Mu(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new be(pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((c=>{const h=new yh(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Mu(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>o||c.type!==3)).map((c=>{const h=new yh(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Mu(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,m=-1;return c.type!==0&&(d=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),m=l.indexOf(c.doc.key)),{type:PN(c.type),doc:h,oldIndex:d,newIndex:m}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new be(pe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Tl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Vm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],i=[];return this.docs.forEach((o=>{o._document!==null&&(t.push(o._document),n.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function PN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Je(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(r){r=Dl(r,pr);const e=Dl(r.firestore,w0);return fN(og(e),r._key).then((t=>DN(e,r,t)))}Tl._jsonSchemaVersion="firestore/querySnapshot/1.0",Tl._jsonSchema={type:or("string",Tl._jsonSchemaVersion),bundleSource:or("string","QuerySnapshot"),bundleName:or("string"),bundle:or("string")};class uT extends CN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new pr(this.firestore,null,t)}}function $u(r){r=Dl(r,ql);const e=Dl(r.firestore,w0),t=og(e),n=new uT(e);return AN(r._query),hN(t,r._query).then((i=>new Tl(e,n,r,i)))}function NN(r,e){const t=Dl(r.firestore,w0),n=eT(r),i=RN(r.converter,e);return ON(t,[yN(rT(r.firestore),"addDoc",n._key,i,r.converter!==null,{}).toMutation(n._key,ys.exists(!1))]).then((()=>n))}function ON(r,e){return(function(n,i){const o=new _s;return n.asyncQueue.enqueueAndForget((async()=>Z3(await cN(n),i,o))),o.promise})(og(r),e)}function DN(r,e,t){const n=t.docs.get(e._key),i=new uT(r);return new lo(r,i,e._key,n,new Mu(t.hasPendingWrites,t.fromCache),e.converter)}function FN(){return new fg("serverTimestamp")}(function(e,t=!0){(function(i){Wl=i})(zl),Pl(new fo("firestore",((n,{instanceIdentifier:i,options:o})=>{const l=n.getProvider("app").getImmediate(),c=new w0(new yP(n.getProvider("auth-internal")),new wP(l,n.getProvider("app-check-internal")),(function(d,m){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new be(pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nc(d.options.projectId,m)})(l,i),l);return o={useFetchStreams:t,...o},c._setSettings(o),c}),"PUBLIC").setMultipleInstances(!0)),ya(L_,M_,e),ya(L_,M_,"esm2020")})();const LN={apiKey:"AIzaSyAlbGLCImv8v8yj8GpriBYOJuXSDg5vlxg",authDomain:"asistencia-aulas.firebaseapp.com",projectId:"asistencia-aulas",storageBucket:"asistencia-aulas.firebasestorage.app",messagingSenderId:"539245137989",appId:"1:539245137989:web:65021c3d40c300acb3532c",measurementId:"G-QVTB5ZBBSW"},cT=qx(LN),Sl=dP(cT),fT=new ps,ao=pN(cT);var hT={exports:{}},Nt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sr=typeof Symbol=="function"&&Symbol.for,gg=Sr?Symbol.for("react.element"):60103,vg=Sr?Symbol.for("react.portal"):60106,S0=Sr?Symbol.for("react.fragment"):60107,A0=Sr?Symbol.for("react.strict_mode"):60108,I0=Sr?Symbol.for("react.profiler"):60114,C0=Sr?Symbol.for("react.provider"):60109,R0=Sr?Symbol.for("react.context"):60110,_g=Sr?Symbol.for("react.async_mode"):60111,P0=Sr?Symbol.for("react.concurrent_mode"):60111,k0=Sr?Symbol.for("react.forward_ref"):60112,N0=Sr?Symbol.for("react.suspense"):60113,MN=Sr?Symbol.for("react.suspense_list"):60120,O0=Sr?Symbol.for("react.memo"):60115,D0=Sr?Symbol.for("react.lazy"):60116,VN=Sr?Symbol.for("react.block"):60121,bN=Sr?Symbol.for("react.fundamental"):60117,UN=Sr?Symbol.for("react.responder"):60118,BN=Sr?Symbol.for("react.scope"):60119;function Ln(r){if(typeof r=="object"&&r!==null){var e=r.$$typeof;switch(e){case gg:switch(r=r.type,r){case _g:case P0:case S0:case I0:case A0:case N0:return r;default:switch(r=r&&r.$$typeof,r){case R0:case k0:case D0:case O0:case C0:return r;default:return e}}case vg:return e}}}function dT(r){return Ln(r)===P0}Nt.AsyncMode=_g;Nt.ConcurrentMode=P0;Nt.ContextConsumer=R0;Nt.ContextProvider=C0;Nt.Element=gg;Nt.ForwardRef=k0;Nt.Fragment=S0;Nt.Lazy=D0;Nt.Memo=O0;Nt.Portal=vg;Nt.Profiler=I0;Nt.StrictMode=A0;Nt.Suspense=N0;Nt.isAsyncMode=function(r){return dT(r)||Ln(r)===_g};Nt.isConcurrentMode=dT;Nt.isContextConsumer=function(r){return Ln(r)===R0};Nt.isContextProvider=function(r){return Ln(r)===C0};Nt.isElement=function(r){return typeof r=="object"&&r!==null&&r.$$typeof===gg};Nt.isForwardRef=function(r){return Ln(r)===k0};Nt.isFragment=function(r){return Ln(r)===S0};Nt.isLazy=function(r){return Ln(r)===D0};Nt.isMemo=function(r){return Ln(r)===O0};Nt.isPortal=function(r){return Ln(r)===vg};Nt.isProfiler=function(r){return Ln(r)===I0};Nt.isStrictMode=function(r){return Ln(r)===A0};Nt.isSuspense=function(r){return Ln(r)===N0};Nt.isValidElementType=function(r){return typeof r=="string"||typeof r=="function"||r===S0||r===P0||r===I0||r===A0||r===N0||r===MN||typeof r=="object"&&r!==null&&(r.$$typeof===D0||r.$$typeof===O0||r.$$typeof===C0||r.$$typeof===R0||r.$$typeof===k0||r.$$typeof===bN||r.$$typeof===UN||r.$$typeof===BN||r.$$typeof===VN)};Nt.typeOf=Ln;/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Dy=Object.getOwnPropertySymbols,jN=Object.prototype.hasOwnProperty,zN=Object.prototype.propertyIsEnumerable;function HN(r){if(r==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(r)}function WN(){try{if(!Object.assign)return!1;var r=new String("abc");if(r[5]="de",Object.getOwnPropertyNames(r)[0]==="5")return!1;for(var e={},t=0;t<10;t++)e["_"+String.fromCharCode(t)]=t;var n=Object.getOwnPropertyNames(e).map(function(o){return e[o]});if(n.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(o){i[o]=o}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}WN();var $N="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",GN=$N;Function.call.bind(Object.prototype.hasOwnProperty);var KN=GN;function pT(){}function mT(){}mT.resetWarningCache=pT;var qN=function(){function r(n,i,o,l,c,h){if(h!==KN){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}r.isRequired=r;function e(){return r}var t={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:e,element:r,elementType:r,instanceOf:e,node:r,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:mT,resetWarningCache:pT};return t.PropTypes=t,t};hT.exports=qN();var ll=hT.exports;ll.object,ll.func.isRequired,ll.func,ll.func.isRequired,ll.number,ll.array;function XN(r,e,t,n){const i=m=>m*Math.PI/180,l=i(t-r),c=i(n-e),h=Math.sin(l/2)**2+Math.cos(i(r))*Math.cos(i(t))*Math.sin(c/2)**2;return 6371e3*(2*Math.atan2(Math.sqrt(h),Math.sqrt(1-h)))}function YN(){const[r,e]=de.useState(null),[t,n]=de.useState("");de.useEffect(()=>{const c=Sl.onAuthStateChanged(h=>e(h));return()=>c()},[]);async function i(){try{await RE(Sl,fT)}catch(c){console.error(c),n("Error en login: "+c.message)}}async function o(){await vE(Sl),n("Sesin cerrada")}async function l(c){if(n("QR ledo: "+c),!r){n("Inici sesin primero");return}const h=c;try{const d=await kN(eT(ao,"aulas",h));if(!d.exists()){n("Aula no encontrada en la DB");return}const m=d.data();if(!navigator.geolocation){n("Geolocalizacin no soportada");return}navigator.geolocation.getCurrentPosition(async _=>{const y=_.coords.latitude,E=_.coords.longitude,A=XN(y,E,m.ubicacion.lat,m.ubicacion.lng);if(A>20){n(`Ests fuera del rango (a ${Math.round(A)} m). Debs estar a <= 20 m.`);return}const w=["Domingo","Lunes","Martes","Mircoles","Jueves","Viernes","Sbado"],S=new Date,H=w[S.getDay()],z=Wu(wl(ao,"comisiones"),da("aulaId","==",h),da("diaSemana","==",H)),W=await $u(z);if(W.empty){n("No hay una comisin programada para esta aula hoy.");return}let Z=null;if(W.forEach(j=>{const F=j.data(),[qe,We]=F.horaInicio.split(":").map(Number),[ut,Xe]=F.horaFin.split(":").map(Number),Te=new Date(S);Te.setHours(qe,We,0,0);const Le=new Date(S);Le.setHours(ut,Xe,0,0),S>=Te&&S<=Le&&(Z={id:j.id,data:F})}),!Z){n("No ests dentro de la franja horaria de ninguna comisin hoy.");return}const fe=Z.id,ge=Wu(wl(ao,"asistencias"),da("alumno.uid","==",r.uid),da("comisionId","==",fe),da("diaSemana","==",H));if(!(await $u(ge)).empty){n("Ya registraste asistencia para esta comisin hoy.");return}const P=r.displayName||"",[C,...L]=P.split(" "),V=L.join(" ");await NN(wl(ao,"asistencias"),{alumno:{uid:r.uid,nombre:C,apellido:V,email:r.email},materiaId:Z.data.materiaId,comisionId:fe,aulaId:h,geo:{lat:y,lng:E},creadoEn:FN()}),n("Asistencia registrada correctamente ")},_=>{n("Error obteniendo ubicacin: "+_.message)},{enableHighAccuracy:!0,maximumAge:0,timeout:1e4})}catch(d){console.error(d),n("Error: "+d.message)}}return $e.jsx("div",{className:"container",children:r?$e.jsxs($e.Fragment,{children:[$e.jsxs("div",{className:"profile-card",children:[$e.jsx("img",{className:"user-photo",src:r.photoURL||"https://upload.wikimedia.org/wikipedia/commons/2/2c/Default_pfp.svg",alt:"Foto de perfil"}),$e.jsx("div",{className:"user-name",children:r.displayName}),$e.jsx("div",{className:"user-email",children:r.email})]}),$e.jsxs("div",{className:"user-actions",children:[$e.jsx("button",{className:"main-button",onClick:()=>l("tu_aula"),children:"Registrar mi asistencia"}),$e.jsx("button",{className:"secondary-button",onClick:o,children:"Cerrar Sesin"})]}),$e.jsx("p",{className:"status-message",children:t})]}):$e.jsxs($e.Fragment,{children:[$e.jsx("h1",{children:"Registro de Asistencia"}),$e.jsx("h2",{children:"Facultad de Ciencias de la Salud"}),$e.jsx("div",{className:"user-actions",children:$e.jsx("button",{className:"main-button",onClick:i,children:"Iniciar sesin con Google"})}),$e.jsx("p",{className:"status-message",children:t})]})})}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var zh={};zh.version="0.18.5";var gT=1252,QN=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],vT=function(r){QN.indexOf(r)!=-1&&(gT=r)};function JN(){vT(1252)}var lc=function(r){vT(r)};function ZN(){lc(1200),JN()}var Zf=function(e){return String.fromCharCode(e)},Fy=function(e){return String.fromCharCode(e)},Hh,ma="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function uc(r){for(var e="",t=0,n=0,i=0,o=0,l=0,c=0,h=0,d=0;d<r.length;)t=r.charCodeAt(d++),o=t>>2,n=r.charCodeAt(d++),l=(t&3)<<4|n>>4,i=r.charCodeAt(d++),c=(n&15)<<2|i>>6,h=i&63,isNaN(n)?c=h=64:isNaN(i)&&(h=64),e+=ma.charAt(o)+ma.charAt(l)+ma.charAt(c)+ma.charAt(h);return e}function Rs(r){var e="",t=0,n=0,i=0,o=0,l=0,c=0,h=0;r=r.replace(/[^\w\+\/\=]/g,"");for(var d=0;d<r.length;)o=ma.indexOf(r.charAt(d++)),l=ma.indexOf(r.charAt(d++)),t=o<<2|l>>4,e+=String.fromCharCode(t),c=ma.indexOf(r.charAt(d++)),n=(l&15)<<4|c>>2,c!==64&&(e+=String.fromCharCode(n)),h=ma.indexOf(r.charAt(d++)),i=(c&3)<<6|h,h!==64&&(e+=String.fromCharCode(i));return e}var Et=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Os=(function(){if(typeof Buffer<"u"){var r=!Buffer.from;if(!r)try{Buffer.from("foo","utf8")}catch{r=!0}return r?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function go(r){return Et?Buffer.alloc?Buffer.alloc(r):new Buffer(r):typeof Uint8Array<"u"?new Uint8Array(r):new Array(r)}function Ly(r){return Et?Buffer.allocUnsafe?Buffer.allocUnsafe(r):new Buffer(r):typeof Uint8Array<"u"?new Uint8Array(r):new Array(r)}var mi=function(e){return Et?Os(e,"binary"):e.split("").map(function(t){return t.charCodeAt(0)&255})};function F0(r){if(typeof ArrayBuffer>"u")return mi(r);for(var e=new ArrayBuffer(r.length),t=new Uint8Array(e),n=0;n!=r.length;++n)t[n]=r.charCodeAt(n)&255;return e}function Pc(r){if(Array.isArray(r))return r.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],t=0;t<r.length;++t)e[t]=String.fromCharCode(r[t]);return e.join("")}function eO(r){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(r)}var Vr=Et?function(r){return Buffer.concat(r.map(function(e){return Buffer.isBuffer(e)?e:Os(e)}))}:function(r){if(typeof Uint8Array<"u"){var e=0,t=0;for(e=0;e<r.length;++e)t+=r[e].length;var n=new Uint8Array(t),i=0;for(e=0,t=0;e<r.length;t+=i,++e)if(i=r[e].length,r[e]instanceof Uint8Array)n.set(r[e],t);else{if(typeof r[e]=="string")throw"wtf";n.set(new Uint8Array(r[e]),t)}return n}return[].concat.apply([],r.map(function(o){return Array.isArray(o)?o:[].slice.call(o)}))};function tO(r){for(var e=[],t=0,n=r.length+250,i=go(r.length+255),o=0;o<r.length;++o){var l=r.charCodeAt(o);if(l<128)i[t++]=l;else if(l<2048)i[t++]=192|l>>6&31,i[t++]=128|l&63;else if(l>=55296&&l<57344){l=(l&1023)+64;var c=r.charCodeAt(++o)&1023;i[t++]=240|l>>8&7,i[t++]=128|l>>2&63,i[t++]=128|c>>6&15|(l&3)<<4,i[t++]=128|c&63}else i[t++]=224|l>>12&15,i[t++]=128|l>>6&63,i[t++]=128|l&63;t>n&&(e.push(i.slice(0,t)),t=0,i=go(65535),n=65530)}return e.push(i.slice(0,t)),Vr(e)}var Gu=/\u0000/g,eh=/[\u0001-\u0006]/g;function Al(r){for(var e="",t=r.length-1;t>=0;)e+=r.charAt(t--);return e}function _i(r,e){var t=""+r;return t.length>=e?t:Qt("0",e-t.length)+t}function yg(r,e){var t=""+r;return t.length>=e?t:Qt(" ",e-t.length)+t}function Wh(r,e){var t=""+r;return t.length>=e?t:t+Qt(" ",e-t.length)}function rO(r,e){var t=""+Math.round(r);return t.length>=e?t:Qt("0",e-t.length)+t}function nO(r,e){var t=""+r;return t.length>=e?t:Qt("0",e-t.length)+t}var My=Math.pow(2,32);function ul(r,e){if(r>My||r<-My)return rO(r,e);var t=Math.round(r);return nO(t,e)}function $h(r,e){return e=e||0,r.length>=7+e&&(r.charCodeAt(e)|32)===103&&(r.charCodeAt(e+1)|32)===101&&(r.charCodeAt(e+2)|32)===110&&(r.charCodeAt(e+3)|32)===101&&(r.charCodeAt(e+4)|32)===114&&(r.charCodeAt(e+5)|32)===97&&(r.charCodeAt(e+6)|32)===108}var Vy=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Np=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function iO(r){return r||(r={}),r[0]="General",r[1]="0",r[2]="0.00",r[3]="#,##0",r[4]="#,##0.00",r[9]="0%",r[10]="0.00%",r[11]="0.00E+00",r[12]="# ?/?",r[13]="# ??/??",r[14]="m/d/yy",r[15]="d-mmm-yy",r[16]="d-mmm",r[17]="mmm-yy",r[18]="h:mm AM/PM",r[19]="h:mm:ss AM/PM",r[20]="h:mm",r[21]="h:mm:ss",r[22]="m/d/yy h:mm",r[37]="#,##0 ;(#,##0)",r[38]="#,##0 ;[Red](#,##0)",r[39]="#,##0.00;(#,##0.00)",r[40]="#,##0.00;[Red](#,##0.00)",r[45]="mm:ss",r[46]="[h]:mm:ss",r[47]="mmss.0",r[48]="##0.0E+0",r[49]="@",r[56]='"/ "hh""mm""ss" "',r}var Jt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},by={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},sO={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Gh(r,e,t){for(var n=r<0?-1:1,i=r*n,o=0,l=1,c=0,h=1,d=0,m=0,_=Math.floor(i);d<e&&(_=Math.floor(i),c=_*l+o,m=_*d+h,!(i-_<5e-8));)i=1/(i-_),o=l,l=c,h=d,d=m;if(m>e&&(d>e?(m=h,c=o):(m=d,c=l)),!t)return[0,n*c,m];var y=Math.floor(n*c/m);return[y,n*c-y*m,m]}function th(r,e,t){if(r>2958465||r<0)return null;var n=r|0,i=Math.floor(86400*(r-n)),o=0,l=[],c={D:n,T:i,u:86400*(r-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(c.u)<1e-6&&(c.u=0),e&&e.date1904&&(n+=1462),c.u>.9999&&(c.u=0,++i==86400&&(c.T=i=0,++n,++c.D)),n===60)l=t?[1317,10,29]:[1900,2,29],o=3;else if(n===0)l=t?[1317,8,29]:[1900,1,0],o=6;else{n>60&&--n;var h=new Date(1900,0,1);h.setDate(h.getDate()+n-1),l=[h.getFullYear(),h.getMonth()+1,h.getDate()],o=h.getDay(),n<60&&(o=(o+6)%7),t&&(o=hO(h,l))}return c.y=l[0],c.m=l[1],c.d=l[2],c.S=i%60,i=Math.floor(i/60),c.M=i%60,i=Math.floor(i/60),c.H=i,c.q=o,c}var _T=new Date(1899,11,31,0,0,0),aO=_T.getTime(),oO=new Date(1900,2,1,0,0,0);function yT(r,e){var t=r.getTime();return e?t-=1461*24*60*60*1e3:r>=oO&&(t+=1440*60*1e3),(t-(aO+(r.getTimezoneOffset()-_T.getTimezoneOffset())*6e4))/(1440*60*1e3)}function xg(r){return r.indexOf(".")==-1?r:r.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function lO(r){return r.indexOf("E")==-1?r:r.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function uO(r){var e=r<0?12:11,t=xg(r.toFixed(12));return t.length<=e||(t=r.toPrecision(10),t.length<=e)?t:r.toExponential(5)}function cO(r){var e=xg(r.toFixed(11));return e.length>(r<0?12:11)||e==="0"||e==="-0"?r.toPrecision(6):e}function fO(r){var e=Math.floor(Math.log(Math.abs(r))*Math.LOG10E),t;return e>=-4&&e<=-1?t=r.toPrecision(10+e):Math.abs(e)<=9?t=uO(r):e===10?t=r.toFixed(10).substr(0,12):t=cO(r),xg(lO(t.toUpperCase()))}function dm(r,e){switch(typeof r){case"string":return r;case"boolean":return r?"TRUE":"FALSE";case"number":return(r|0)===r?r.toString(10):fO(r);case"undefined":return"";case"object":if(r==null)return"";if(r instanceof Date)return Ra(14,yT(r,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+r)}function hO(r,e){e[0]-=581;var t=r.getDay();return r<60&&(t=(t+6)%7),t}function dO(r,e,t,n){var i="",o=0,l=0,c=t.y,h,d=0;switch(r){case 98:c=t.y+543;case 121:switch(e.length){case 1:case 2:h=c%100,d=2;break;default:h=c%1e4,d=4;break}break;case 109:switch(e.length){case 1:case 2:h=t.m,d=e.length;break;case 3:return Np[t.m-1][1];case 5:return Np[t.m-1][0];default:return Np[t.m-1][2]}break;case 100:switch(e.length){case 1:case 2:h=t.d,d=e.length;break;case 3:return Vy[t.q][0];default:return Vy[t.q][1]}break;case 104:switch(e.length){case 1:case 2:h=1+(t.H+11)%12,d=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:h=t.H,d=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:h=t.M,d=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return t.u===0&&(e=="s"||e=="ss")?_i(t.S,e.length):(n>=2?l=n===3?1e3:100:l=n===1?10:1,o=Math.round(l*(t.S+t.u)),o>=60*l&&(o=0),e==="s"?o===0?"0":""+o/l:(i=_i(o,2+n),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":h=t.D*24+t.H;break;case"[m]":case"[mm]":h=(t.D*24+t.H)*60+t.M;break;case"[s]":case"[ss]":h=((t.D*24+t.H)*60+t.M)*60+Math.round(t.S+t.u);break;default:throw"bad abstime format: "+e}d=e.length===3?1:2;break;case 101:h=c,d=1;break}var m=d>0?_i(h,d):"";return m}function ga(r){var e=3;if(r.length<=e)return r;for(var t=r.length%e,n=r.substr(0,t);t!=r.length;t+=e)n+=(n.length>0?",":"")+r.substr(t,e);return n}var xT=/%/g;function pO(r,e,t){var n=e.replace(xT,""),i=e.length-n.length;return xs(r,n,t*Math.pow(10,2*i))+Qt("%",i)}function mO(r,e,t){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return xs(r,e.substr(0,n),t/Math.pow(10,3*(e.length-n)))}function ET(r,e){var t,n=r.indexOf("E")-r.indexOf(".")-1;if(r.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+ET(r,-e);var i=r.indexOf(".");i===-1&&(i=r.indexOf("E"));var o=Math.floor(Math.log(e)*Math.LOG10E)%i;if(o<0&&(o+=i),t=(e/Math.pow(10,o)).toPrecision(n+1+(i+o)%i),t.indexOf("e")===-1){var l=Math.floor(Math.log(e)*Math.LOG10E);for(t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(l-t.length+o):t+="E+"+(l-o);t.substr(0,2)==="0.";)t=t.charAt(0)+t.substr(2,i)+"."+t.substr(2+i),t=t.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,h,d,m){return h+d+m.substr(0,(i+o)%i)+"."+m.substr(o)+"E"})}else t=e.toExponential(n);return r.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),r.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}var wT=/# (\?+)( ?)\/( ?)(\d+)/;function gO(r,e,t){var n=parseInt(r[4],10),i=Math.round(e*n),o=Math.floor(i/n),l=i-o*n,c=n;return t+(o===0?"":""+o)+" "+(l===0?Qt(" ",r[1].length+1+r[4].length):yg(l,r[1].length)+r[2]+"/"+r[3]+_i(c,r[4].length))}function vO(r,e,t){return t+(e===0?"":""+e)+Qt(" ",r[1].length+2+r[4].length)}var TT=/^#*0*\.([0#]+)/,ST=/\).*[0#]/,AT=/\(###\) ###\\?-####/;function an(r){for(var e="",t,n=0;n!=r.length;++n)switch(t=r.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(t)}return e}function Uy(r,e){var t=Math.pow(10,e);return""+Math.round(r*t)/t}function By(r,e){var t=r-Math.floor(r),n=Math.pow(10,e);return e<(""+Math.round(t*n)).length?0:Math.round(t*n)}function _O(r,e){return e<(""+Math.round((r-Math.floor(r))*Math.pow(10,e))).length?1:0}function yO(r){return r<2147483647&&r>-2147483648?""+(r>=0?r|0:r-1|0):""+Math.floor(r)}function Gn(r,e,t){if(r.charCodeAt(0)===40&&!e.match(ST)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?Gn("n",n,t):"("+Gn("n",n,-t)+")"}if(e.charCodeAt(e.length-1)===44)return mO(r,e,t);if(e.indexOf("%")!==-1)return pO(r,e,t);if(e.indexOf("E")!==-1)return ET(e,t);if(e.charCodeAt(0)===36)return"$"+Gn(r,e.substr(e.charAt(1)==" "?2:1),t);var i,o,l,c,h=Math.abs(t),d=t<0?"-":"";if(e.match(/^00+$/))return d+ul(h,e.length);if(e.match(/^[#?]+$/))return i=ul(t,0),i==="0"&&(i=""),i.length>e.length?i:an(e.substr(0,e.length-i.length))+i;if(o=e.match(wT))return gO(o,h,d);if(e.match(/^#+0+$/))return d+ul(h,e.length-e.indexOf("0"));if(o=e.match(TT))return i=Uy(t,o[1].length).replace(/^([^\.]+)$/,"$1."+an(o[1])).replace(/\.$/,"."+an(o[1])).replace(/\.(\d*)$/,function(A,w){return"."+w+Qt("0",an(o[1]).length-w.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),o=e.match(/^(0*)\.(#*)$/))return d+Uy(h,o[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,o[1].length?"0.":".");if(o=e.match(/^#{1,3},##0(\.?)$/))return d+ga(ul(h,0));if(o=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+Gn(r,e,-t):ga(""+(Math.floor(t)+_O(t,o[1].length)))+"."+_i(By(t,o[1].length),o[1].length);if(o=e.match(/^#,#*,#0/))return Gn(r,e.replace(/^#,#*,/,""),t);if(o=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Al(Gn(r,e.replace(/[\\-]/g,""),t)),l=0,Al(Al(e.replace(/\\/g,"")).replace(/[0#]/g,function(A){return l<i.length?i.charAt(l++):A==="0"?"0":""}));if(e.match(AT))return i=Gn(r,"##########",t),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var m="";if(o=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(o[4].length,7),c=Gh(h,Math.pow(10,l)-1,!1),i=""+d,m=xs("n",o[1],c[1]),m.charAt(m.length-1)==" "&&(m=m.substr(0,m.length-1)+"0"),i+=m+o[2]+"/"+o[3],m=Wh(c[2],l),m.length<o[4].length&&(m=an(o[4].substr(o[4].length-m.length))+m),i+=m,i;if(o=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(o[1].length,o[4].length),7),c=Gh(h,Math.pow(10,l)-1,!0),d+(c[0]||(c[1]?"":"0"))+" "+(c[1]?yg(c[1],l)+o[2]+"/"+o[3]+Wh(c[2],l):Qt(" ",2*l+1+o[2].length+o[3].length));if(o=e.match(/^[#0?]+$/))return i=ul(t,0),e.length<=i.length?i:an(e.substr(0,e.length-i.length))+i;if(o=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+t.toFixed(Math.min(o[2].length,10)).replace(/([^0])0+$/,"$1"),l=i.indexOf(".");var _=e.indexOf(".")-l,y=e.length-i.length-_;return an(e.substr(0,_)+i+e.substr(e.length-y))}if(o=e.match(/^00,000\.([#0]*0)$/))return l=By(t,o[1].length),t<0?"-"+Gn(r,e,-t):ga(yO(t)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(A){return"00,"+(A.length<3?_i(0,3-A.length):"")+A})+"."+_i(l,o[1].length);switch(e){case"###,##0.00":return Gn(r,"#,##0.00",t);case"###,###":case"##,###":case"#,###":var E=ga(ul(h,0));return E!=="0"?d+E:"";case"###,###.00":return Gn(r,"###,##0.00",t).replace(/^0\./,".");case"#,###.00":return Gn(r,"#,##0.00",t).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function xO(r,e,t){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return xs(r,e.substr(0,n),t/Math.pow(10,3*(e.length-n)))}function EO(r,e,t){var n=e.replace(xT,""),i=e.length-n.length;return xs(r,n,t*Math.pow(10,2*i))+Qt("%",i)}function IT(r,e){var t,n=r.indexOf("E")-r.indexOf(".")-1;if(r.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+IT(r,-e);var i=r.indexOf(".");i===-1&&(i=r.indexOf("E"));var o=Math.floor(Math.log(e)*Math.LOG10E)%i;if(o<0&&(o+=i),t=(e/Math.pow(10,o)).toPrecision(n+1+(i+o)%i),!t.match(/[Ee]/)){var l=Math.floor(Math.log(e)*Math.LOG10E);t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(l-t.length+o):t+="E+"+(l-o),t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,h,d,m){return h+d+m.substr(0,(i+o)%i)+"."+m.substr(o)+"E"})}else t=e.toExponential(n);return r.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),r.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}function Vi(r,e,t){if(r.charCodeAt(0)===40&&!e.match(ST)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?Vi("n",n,t):"("+Vi("n",n,-t)+")"}if(e.charCodeAt(e.length-1)===44)return xO(r,e,t);if(e.indexOf("%")!==-1)return EO(r,e,t);if(e.indexOf("E")!==-1)return IT(e,t);if(e.charCodeAt(0)===36)return"$"+Vi(r,e.substr(e.charAt(1)==" "?2:1),t);var i,o,l,c,h=Math.abs(t),d=t<0?"-":"";if(e.match(/^00+$/))return d+_i(h,e.length);if(e.match(/^[#?]+$/))return i=""+t,t===0&&(i=""),i.length>e.length?i:an(e.substr(0,e.length-i.length))+i;if(o=e.match(wT))return vO(o,h,d);if(e.match(/^#+0+$/))return d+_i(h,e.length-e.indexOf("0"));if(o=e.match(TT))return i=(""+t).replace(/^([^\.]+)$/,"$1."+an(o[1])).replace(/\.$/,"."+an(o[1])),i=i.replace(/\.(\d*)$/,function(A,w){return"."+w+Qt("0",an(o[1]).length-w.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),o=e.match(/^(0*)\.(#*)$/))return d+(""+h).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,o[1].length?"0.":".");if(o=e.match(/^#{1,3},##0(\.?)$/))return d+ga(""+h);if(o=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+Vi(r,e,-t):ga(""+t)+"."+Qt("0",o[1].length);if(o=e.match(/^#,#*,#0/))return Vi(r,e.replace(/^#,#*,/,""),t);if(o=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Al(Vi(r,e.replace(/[\\-]/g,""),t)),l=0,Al(Al(e.replace(/\\/g,"")).replace(/[0#]/g,function(A){return l<i.length?i.charAt(l++):A==="0"?"0":""}));if(e.match(AT))return i=Vi(r,"##########",t),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var m="";if(o=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(o[4].length,7),c=Gh(h,Math.pow(10,l)-1,!1),i=""+d,m=xs("n",o[1],c[1]),m.charAt(m.length-1)==" "&&(m=m.substr(0,m.length-1)+"0"),i+=m+o[2]+"/"+o[3],m=Wh(c[2],l),m.length<o[4].length&&(m=an(o[4].substr(o[4].length-m.length))+m),i+=m,i;if(o=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(o[1].length,o[4].length),7),c=Gh(h,Math.pow(10,l)-1,!0),d+(c[0]||(c[1]?"":"0"))+" "+(c[1]?yg(c[1],l)+o[2]+"/"+o[3]+Wh(c[2],l):Qt(" ",2*l+1+o[2].length+o[3].length));if(o=e.match(/^[#0?]+$/))return i=""+t,e.length<=i.length?i:an(e.substr(0,e.length-i.length))+i;if(o=e.match(/^([#0]+)\.([#0]+)$/)){i=""+t.toFixed(Math.min(o[2].length,10)).replace(/([^0])0+$/,"$1"),l=i.indexOf(".");var _=e.indexOf(".")-l,y=e.length-i.length-_;return an(e.substr(0,_)+i+e.substr(e.length-y))}if(o=e.match(/^00,000\.([#0]*0)$/))return t<0?"-"+Vi(r,e,-t):ga(""+t).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(A){return"00,"+(A.length<3?_i(0,3-A.length):"")+A})+"."+_i(0,o[1].length);switch(e){case"###,###":case"##,###":case"#,###":var E=ga(""+h);return E!=="0"?d+E:"";default:if(e.match(/\.[0#?]*$/))return Vi(r,e.slice(0,e.lastIndexOf(".")),t)+an(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function xs(r,e,t){return(t|0)===t?Vi(r,e,t):Gn(r,e,t)}function wO(r){for(var e=[],t=!1,n=0,i=0;n<r.length;++n)switch(r.charCodeAt(n)){case 34:t=!t;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=r.substr(i,n-i),i=n+1}if(e[e.length]=r.substr(i),t===!0)throw new Error("Format |"+r+"| unterminated string ");return e}var CT=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function RT(r){for(var e=0,t="",n="";e<r.length;)switch(t=r.charAt(e)){case"G":$h(r,e)&&(e+=6),e++;break;case'"':for(;r.charCodeAt(++e)!==34&&e<r.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(r.charAt(e+1)==="1"||r.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(r.substr(e,3).toUpperCase()==="A/P"||r.substr(e,5).toUpperCase()==="AM/PM"||r.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(n=t;r.charAt(e++)!=="]"&&e<r.length;)n+=r.charAt(e);if(n.match(CT))return!0;break;case".":case"0":case"#":for(;e<r.length&&("0#?.,E+-%".indexOf(t=r.charAt(++e))>-1||t=="\\"&&r.charAt(e+1)=="-"&&"0#".indexOf(r.charAt(e+2))>-1););break;case"?":for(;r.charAt(++e)===t;);break;case"*":++e,(r.charAt(e)==" "||r.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<r.length&&"0123456789".indexOf(r.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function TO(r,e,t,n){for(var i=[],o="",l=0,c="",h="t",d,m,_,y="H";l<r.length;)switch(c=r.charAt(l)){case"G":if(!$h(r,l))throw new Error("unrecognized character "+c+" in "+r);i[i.length]={t:"G",v:"General"},l+=7;break;case'"':for(o="";(_=r.charCodeAt(++l))!==34&&l<r.length;)o+=String.fromCharCode(_);i[i.length]={t:"t",v:o},++l;break;case"\\":var E=r.charAt(++l),A=E==="("||E===")"?E:"t";i[i.length]={t:A,v:E},++l;break;case"_":i[i.length]={t:"t",v:" "},l+=2;break;case"@":i[i.length]={t:"T",v:e},++l;break;case"B":case"b":if(r.charAt(l+1)==="1"||r.charAt(l+1)==="2"){if(d==null&&(d=th(e,t,r.charAt(l+1)==="2"),d==null))return"";i[i.length]={t:"X",v:r.substr(l,2)},h=c,l+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":c=c.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||d==null&&(d=th(e,t),d==null))return"";for(o=c;++l<r.length&&r.charAt(l).toLowerCase()===c;)o+=c;c==="m"&&h.toLowerCase()==="h"&&(c="M"),c==="h"&&(c=y),i[i.length]={t:c,v:o},h=c;break;case"A":case"a":case"":var w={t:c,v:c};if(d==null&&(d=th(e,t)),r.substr(l,3).toUpperCase()==="A/P"?(d!=null&&(w.v=d.H>=12?"P":"A"),w.t="T",y="h",l+=3):r.substr(l,5).toUpperCase()==="AM/PM"?(d!=null&&(w.v=d.H>=12?"PM":"AM"),w.t="T",l+=5,y="h"):r.substr(l,5).toUpperCase()==="/"?(d!=null&&(w.v=d.H>=12?"":""),w.t="T",l+=5,y="h"):(w.t="t",++l),d==null&&w.t==="T")return"";i[i.length]=w,h=c;break;case"[":for(o=c;r.charAt(l++)!=="]"&&l<r.length;)o+=r.charAt(l);if(o.slice(-1)!=="]")throw'unterminated "[" block: |'+o+"|";if(o.match(CT)){if(d==null&&(d=th(e,t),d==null))return"";i[i.length]={t:"Z",v:o.toLowerCase()},h=o.charAt(1)}else o.indexOf("$")>-1&&(o=(o.match(/\$([^-\[\]]*)/)||[])[1]||"$",RT(r)||(i[i.length]={t:"t",v:o}));break;case".":if(d!=null){for(o=c;++l<r.length&&(c=r.charAt(l))==="0";)o+=c;i[i.length]={t:"s",v:o};break}case"0":case"#":for(o=c;++l<r.length&&"0#?.,E+-%".indexOf(c=r.charAt(l))>-1;)o+=c;i[i.length]={t:"n",v:o};break;case"?":for(o=c;r.charAt(++l)===c;)o+=c;i[i.length]={t:c,v:o},h=c;break;case"*":++l,(r.charAt(l)==" "||r.charAt(l)=="*")&&++l;break;case"(":case")":i[i.length]={t:n===1?"t":c,v:c},++l;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(o=c;l<r.length&&"0123456789".indexOf(r.charAt(++l))>-1;)o+=r.charAt(l);i[i.length]={t:"D",v:o};break;case" ":i[i.length]={t:c,v:c},++l;break;case"$":i[i.length]={t:"t",v:"$"},++l;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(c)===-1)throw new Error("unrecognized character "+c+" in "+r);i[i.length]={t:"t",v:c},++l;break}var S=0,H=0,z;for(l=i.length-1,h="t";l>=0;--l)switch(i[l].t){case"h":case"H":i[l].t=y,h="h",S<1&&(S=1);break;case"s":(z=i[l].v.match(/\.0+$/))&&(H=Math.max(H,z[0].length-1)),S<3&&(S=3);case"d":case"y":case"M":case"e":h=i[l].t;break;case"m":h==="s"&&(i[l].t="M",S<2&&(S=2));break;case"X":break;case"Z":S<1&&i[l].v.match(/[Hh]/)&&(S=1),S<2&&i[l].v.match(/[Mm]/)&&(S=2),S<3&&i[l].v.match(/[Ss]/)&&(S=3)}switch(S){case 0:break;case 1:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M),d.M>=60&&(d.M=0,++d.H);break;case 2:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M);break}var W="",Z;for(l=0;l<i.length;++l)switch(i[l].t){case"t":case"T":case" ":case"D":break;case"X":i[l].v="",i[l].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[l].v=dO(i[l].t.charCodeAt(0),i[l].v,d,H),i[l].t="t";break;case"n":case"?":for(Z=l+1;i[Z]!=null&&((c=i[Z].t)==="?"||c==="D"||(c===" "||c==="t")&&i[Z+1]!=null&&(i[Z+1].t==="?"||i[Z+1].t==="t"&&i[Z+1].v==="/")||i[l].t==="("&&(c===" "||c==="n"||c===")")||c==="t"&&(i[Z].v==="/"||i[Z].v===" "&&i[Z+1]!=null&&i[Z+1].t=="?"));)i[l].v+=i[Z].v,i[Z]={v:"",t:";"},++Z;W+=i[l].v,l=Z-1;break;case"G":i[l].t="t",i[l].v=dm(e,t);break}var fe="",ge,k;if(W.length>0){W.charCodeAt(0)==40?(ge=e<0&&W.charCodeAt(0)===45?-e:e,k=xs("n",W,ge)):(ge=e<0&&n>1?-e:e,k=xs("n",W,ge),ge<0&&i[0]&&i[0].t=="t"&&(k=k.substr(1),i[0].v="-"+i[0].v)),Z=k.length-1;var P=i.length;for(l=0;l<i.length;++l)if(i[l]!=null&&i[l].t!="t"&&i[l].v.indexOf(".")>-1){P=l;break}var C=i.length;if(P===i.length&&k.indexOf("E")===-1){for(l=i.length-1;l>=0;--l)i[l]==null||"n?".indexOf(i[l].t)===-1||(Z>=i[l].v.length-1?(Z-=i[l].v.length,i[l].v=k.substr(Z+1,i[l].v.length)):Z<0?i[l].v="":(i[l].v=k.substr(0,Z+1),Z=-1),i[l].t="t",C=l);Z>=0&&C<i.length&&(i[C].v=k.substr(0,Z+1)+i[C].v)}else if(P!==i.length&&k.indexOf("E")===-1){for(Z=k.indexOf(".")-1,l=P;l>=0;--l)if(!(i[l]==null||"n?".indexOf(i[l].t)===-1)){for(m=i[l].v.indexOf(".")>-1&&l===P?i[l].v.indexOf(".")-1:i[l].v.length-1,fe=i[l].v.substr(m+1);m>=0;--m)Z>=0&&(i[l].v.charAt(m)==="0"||i[l].v.charAt(m)==="#")&&(fe=k.charAt(Z--)+fe);i[l].v=fe,i[l].t="t",C=l}for(Z>=0&&C<i.length&&(i[C].v=k.substr(0,Z+1)+i[C].v),Z=k.indexOf(".")+1,l=P;l<i.length;++l)if(!(i[l]==null||"n?(".indexOf(i[l].t)===-1&&l!==P)){for(m=i[l].v.indexOf(".")>-1&&l===P?i[l].v.indexOf(".")+1:0,fe=i[l].v.substr(0,m);m<i[l].v.length;++m)Z<k.length&&(fe+=k.charAt(Z++));i[l].v=fe,i[l].t="t",C=l}}}for(l=0;l<i.length;++l)i[l]!=null&&"n?".indexOf(i[l].t)>-1&&(ge=n>1&&e<0&&l>0&&i[l-1].v==="-"?-e:e,i[l].v=xs(i[l].t,i[l].v,ge),i[l].t="t");var L="";for(l=0;l!==i.length;++l)i[l]!=null&&(L+=i[l].v);return L}var jy=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function zy(r,e){if(e==null)return!1;var t=parseFloat(e[2]);switch(e[1]){case"=":if(r==t)return!0;break;case">":if(r>t)return!0;break;case"<":if(r<t)return!0;break;case"<>":if(r!=t)return!0;break;case">=":if(r>=t)return!0;break;case"<=":if(r<=t)return!0;break}return!1}function SO(r,e){var t=wO(r),n=t.length,i=t[n-1].indexOf("@");if(n<4&&i>-1&&--n,t.length>4)throw new Error("cannot find right format for |"+t.join("|")+"|");if(typeof e!="number")return[4,t.length===4||i>-1?t[t.length-1]:"@"];switch(t.length){case 1:t=i>-1?["General","General","General",t[0]]:[t[0],t[0],t[0],"@"];break;case 2:t=i>-1?[t[0],t[0],t[0],t[1]]:[t[0],t[1],t[0],"@"];break;case 3:t=i>-1?[t[0],t[1],t[0],t[2]]:[t[0],t[1],t[2],"@"];break}var o=e>0?t[0]:e<0?t[1]:t[2];if(t[0].indexOf("[")===-1&&t[1].indexOf("[")===-1)return[n,o];if(t[0].match(/\[[=<>]/)!=null||t[1].match(/\[[=<>]/)!=null){var l=t[0].match(jy),c=t[1].match(jy);return zy(e,l)?[n,t[0]]:zy(e,c)?[n,t[1]]:[n,t[l!=null&&c!=null?2:1]]}return[n,o]}function Ra(r,e,t){t==null&&(t={});var n="";switch(typeof r){case"string":r=="m/d/yy"&&t.dateNF?n=t.dateNF:n=r;break;case"number":r==14&&t.dateNF?n=t.dateNF:n=(t.table!=null?t.table:Jt)[r],n==null&&(n=t.table&&t.table[by[r]]||Jt[by[r]]),n==null&&(n=sO[r]||"General");break}if($h(n,0))return dm(e,t);e instanceof Date&&(e=yT(e,t.date1904));var i=SO(n,e);if($h(i[1]))return dm(e,t);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return TO(i[1],e,t,i[0])}function PT(r,e){if(typeof e!="number"){e=+e||-1;for(var t=0;t<392;++t){if(Jt[t]==null){e<0&&(e=t);continue}if(Jt[t]==r){e=t;break}}e<0&&(e=391)}return Jt[e]=r,e}function L0(r){for(var e=0;e!=392;++e)r[e]!==void 0&&PT(r[e],e)}function M0(){Jt=iO()}var kT=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function AO(r){var e=typeof r=="number"?Jt[r]:r;return e=e.replace(kT,"(\\d+)"),new RegExp("^"+e+"$")}function IO(r,e,t){var n=-1,i=-1,o=-1,l=-1,c=-1,h=-1;(e.match(kT)||[]).forEach(function(_,y){var E=parseInt(t[y+1],10);switch(_.toLowerCase().charAt(0)){case"y":n=E;break;case"d":o=E;break;case"h":l=E;break;case"s":h=E;break;case"m":l>=0?c=E:i=E;break}}),h>=0&&c==-1&&i>=0&&(c=i,i=-1);var d=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(o>=1?o:1)).slice(-2);d.length==7&&(d="0"+d),d.length==8&&(d="20"+d);var m=("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2)+":"+("00"+(h>=0?h:0)).slice(-2);return l==-1&&c==-1&&h==-1?d:n==-1&&i==-1&&o==-1?m:d+"T"+m}var CO=(function(){var r={};r.version="1.2.0";function e(){for(var k=0,P=new Array(256),C=0;C!=256;++C)k=C,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,P[C]=k;return typeof Int32Array<"u"?new Int32Array(P):P}var t=e();function n(k){var P=0,C=0,L=0,V=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(L=0;L!=256;++L)V[L]=k[L];for(L=0;L!=256;++L)for(C=k[L],P=256+L;P<4096;P+=256)C=V[P]=C>>>8^k[C&255];var j=[];for(L=1;L!=16;++L)j[L-1]=typeof Int32Array<"u"?V.subarray(L*256,L*256+256):V.slice(L*256,L*256+256);return j}var i=n(t),o=i[0],l=i[1],c=i[2],h=i[3],d=i[4],m=i[5],_=i[6],y=i[7],E=i[8],A=i[9],w=i[10],S=i[11],H=i[12],z=i[13],W=i[14];function Z(k,P){for(var C=P^-1,L=0,V=k.length;L<V;)C=C>>>8^t[(C^k.charCodeAt(L++))&255];return~C}function fe(k,P){for(var C=P^-1,L=k.length-15,V=0;V<L;)C=W[k[V++]^C&255]^z[k[V++]^C>>8&255]^H[k[V++]^C>>16&255]^S[k[V++]^C>>>24]^w[k[V++]]^A[k[V++]]^E[k[V++]]^y[k[V++]]^_[k[V++]]^m[k[V++]]^d[k[V++]]^h[k[V++]]^c[k[V++]]^l[k[V++]]^o[k[V++]]^t[k[V++]];for(L+=15;V<L;)C=C>>>8^t[(C^k[V++])&255];return~C}function ge(k,P){for(var C=P^-1,L=0,V=k.length,j=0,F=0;L<V;)j=k.charCodeAt(L++),j<128?C=C>>>8^t[(C^j)&255]:j<2048?(C=C>>>8^t[(C^(192|j>>6&31))&255],C=C>>>8^t[(C^(128|j&63))&255]):j>=55296&&j<57344?(j=(j&1023)+64,F=k.charCodeAt(L++)&1023,C=C>>>8^t[(C^(240|j>>8&7))&255],C=C>>>8^t[(C^(128|j>>2&63))&255],C=C>>>8^t[(C^(128|F>>6&15|(j&3)<<4))&255],C=C>>>8^t[(C^(128|F&63))&255]):(C=C>>>8^t[(C^(224|j>>12&15))&255],C=C>>>8^t[(C^(128|j>>6&63))&255],C=C>>>8^t[(C^(128|j&63))&255]);return~C}return r.table=t,r.bstr=Z,r.buf=fe,r.str=ge,r})(),kt=(function(){var e={};e.version="1.2.1";function t(R,b){for(var D=R.split("/"),M=b.split("/"),U=0,B=0,re=Math.min(D.length,M.length);U<re;++U){if(B=D[U].length-M[U].length)return B;if(D[U]!=M[U])return D[U]<M[U]?-1:1}return D.length-M.length}function n(R){if(R.charAt(R.length-1)=="/")return R.slice(0,-1).indexOf("/")===-1?R:n(R.slice(0,-1));var b=R.lastIndexOf("/");return b===-1?R:R.slice(0,b+1)}function i(R){if(R.charAt(R.length-1)=="/")return i(R.slice(0,-1));var b=R.lastIndexOf("/");return b===-1?R:R.slice(b+1)}function o(R,b){typeof b=="string"&&(b=new Date(b));var D=b.getHours();D=D<<6|b.getMinutes(),D=D<<5|b.getSeconds()>>>1,R.write_shift(2,D);var M=b.getFullYear()-1980;M=M<<4|b.getMonth()+1,M=M<<5|b.getDate(),R.write_shift(2,M)}function l(R){var b=R.read_shift(2)&65535,D=R.read_shift(2)&65535,M=new Date,U=D&31;D>>>=5;var B=D&15;D>>>=4,M.setMilliseconds(0),M.setFullYear(D+1980),M.setMonth(B-1),M.setDate(U);var re=b&31;b>>>=5;var ce=b&63;return b>>>=6,M.setHours(b),M.setMinutes(ce),M.setSeconds(re<<1),M}function c(R){kn(R,0);for(var b={},D=0;R.l<=R.length-4;){var M=R.read_shift(2),U=R.read_shift(2),B=R.l+U,re={};switch(M){case 21589:D=R.read_shift(1),D&1&&(re.mtime=R.read_shift(4)),U>5&&(D&2&&(re.atime=R.read_shift(4)),D&4&&(re.ctime=R.read_shift(4))),re.mtime&&(re.mt=new Date(re.mtime*1e3));break}R.l=B,b[M]=re}return b}var h;function d(){return h||(h={})}function m(R,b){if(R[0]==80&&R[1]==75)return Qi(R,b);if((R[0]|32)==109&&(R[1]|32)==105)return Va(R,b);if(R.length<512)throw new Error("CFB file size "+R.length+" < 512");var D=3,M=512,U=0,B=0,re=0,ce=0,ne=0,se=[],ae=R.slice(0,512);kn(ae,0);var xe=_(ae);switch(D=xe[0],D){case 3:M=512;break;case 4:M=4096;break;case 0:if(xe[1]==0)return Qi(R,b);default:throw new Error("Major Version: Expected 3 or 4 saw "+D)}M!==512&&(ae=R.slice(0,M),kn(ae,28));var Ne=R.slice(0,M);y(ae,D);var Me=ae.read_shift(4,"i");if(D===3&&Me!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Me);ae.l+=4,re=ae.read_shift(4,"i"),ae.l+=4,ae.chk("00100000","Mini Stream Cutoff Size: "),ce=ae.read_shift(4,"i"),U=ae.read_shift(4,"i"),ne=ae.read_shift(4,"i"),B=ae.read_shift(4,"i");for(var Ie=-1,Ee=0;Ee<109&&(Ie=ae.read_shift(4,"i"),!(Ie<0));++Ee)se[Ee]=Ie;var Ze=E(R,M);S(ne,B,Ze,M,se);var xt=z(Ze,re,se,M);xt[re].name="!Directory",U>0&&ce!==F&&(xt[ce].name="!MiniFAT"),xt[se[0]].name="!FAT",xt.fat_addrs=se,xt.ssz=M;var vt={},Tt=[],ei=[],Ci=[];W(re,xt,Ze,Tt,U,vt,ei,ce),A(ei,Ci,Tt),Tt.shift();var wn={FileIndex:ei,FullPaths:Ci};return b&&b.raw&&(wn.raw={header:Ne,sectors:Ze}),wn}function _(R){if(R[R.l]==80&&R[R.l+1]==75)return[0,0];R.chk(qe,"Header Signature: "),R.l+=16;var b=R.read_shift(2,"u");return[R.read_shift(2,"u"),b]}function y(R,b){var D=9;switch(R.l+=2,D=R.read_shift(2)){case 9:if(b!=3)throw new Error("Sector Shift: Expected 9 saw "+D);break;case 12:if(b!=4)throw new Error("Sector Shift: Expected 12 saw "+D);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+D)}R.chk("0600","Mini Sector Shift: "),R.chk("000000000000","Reserved: ")}function E(R,b){for(var D=Math.ceil(R.length/b)-1,M=[],U=1;U<D;++U)M[U-1]=R.slice(U*b,(U+1)*b);return M[D-1]=R.slice(D*b),M}function A(R,b,D){for(var M=0,U=0,B=0,re=0,ce=0,ne=D.length,se=[],ae=[];M<ne;++M)se[M]=ae[M]=M,b[M]=D[M];for(;ce<ae.length;++ce)M=ae[ce],U=R[M].L,B=R[M].R,re=R[M].C,se[M]===M&&(U!==-1&&se[U]!==U&&(se[M]=se[U]),B!==-1&&se[B]!==B&&(se[M]=se[B])),re!==-1&&(se[re]=M),U!==-1&&M!=se[M]&&(se[U]=se[M],ae.lastIndexOf(U)<ce&&ae.push(U)),B!==-1&&M!=se[M]&&(se[B]=se[M],ae.lastIndexOf(B)<ce&&ae.push(B));for(M=1;M<ne;++M)se[M]===M&&(B!==-1&&se[B]!==B?se[M]=se[B]:U!==-1&&se[U]!==U&&(se[M]=se[U]));for(M=1;M<ne;++M)if(R[M].type!==0){if(ce=M,ce!=se[ce])do ce=se[ce],b[M]=b[ce]+"/"+b[M];while(ce!==0&&se[ce]!==-1&&ce!=se[ce]);se[M]=-1}for(b[0]+="/",M=1;M<ne;++M)R[M].type!==2&&(b[M]+="/")}function w(R,b,D){for(var M=R.start,U=R.size,B=[],re=M;D&&U>0&&re>=0;)B.push(b.slice(re*j,re*j+j)),U-=j,re=no(D,re*4);return B.length===0?he(0):Vr(B).slice(0,R.size)}function S(R,b,D,M,U){var B=F;if(R===F){if(b!==0)throw new Error("DIFAT chain shorter than expected")}else if(R!==-1){var re=D[R],ce=(M>>>2)-1;if(!re)return;for(var ne=0;ne<ce&&(B=no(re,ne*4))!==F;++ne)U.push(B);S(no(re,M-4),b-1,D,M,U)}}function H(R,b,D,M,U){var B=[],re=[];U||(U=[]);var ce=M-1,ne=0,se=0;for(ne=b;ne>=0;){U[ne]=!0,B[B.length]=ne,re.push(R[ne]);var ae=D[Math.floor(ne*4/M)];if(se=ne*4&ce,M<4+se)throw new Error("FAT boundary crossed: "+ne+" 4 "+M);if(!R[ae])break;ne=no(R[ae],se)}return{nodes:B,data:Yy([re])}}function z(R,b,D,M){var U=R.length,B=[],re=[],ce=[],ne=[],se=M-1,ae=0,xe=0,Ne=0,Me=0;for(ae=0;ae<U;++ae)if(ce=[],Ne=ae+b,Ne>=U&&(Ne-=U),!re[Ne]){ne=[];var Ie=[];for(xe=Ne;xe>=0;){Ie[xe]=!0,re[xe]=!0,ce[ce.length]=xe,ne.push(R[xe]);var Ee=D[Math.floor(xe*4/M)];if(Me=xe*4&se,M<4+Me)throw new Error("FAT boundary crossed: "+xe+" 4 "+M);if(!R[Ee]||(xe=no(R[Ee],Me),Ie[xe]))break}B[Ne]={nodes:ce,data:Yy([ne])}}return B}function W(R,b,D,M,U,B,re,ce){for(var ne=0,se=M.length?2:0,ae=b[R].data,xe=0,Ne=0,Me;xe<ae.length;xe+=128){var Ie=ae.slice(xe,xe+128);kn(Ie,64),Ne=Ie.read_shift(2),Me=Ag(Ie,0,Ne-se),M.push(Me);var Ee={name:Me,type:Ie.read_shift(1),color:Ie.read_shift(1),L:Ie.read_shift(4,"i"),R:Ie.read_shift(4,"i"),C:Ie.read_shift(4,"i"),clsid:Ie.read_shift(16),state:Ie.read_shift(4,"i"),start:0,size:0},Ze=Ie.read_shift(2)+Ie.read_shift(2)+Ie.read_shift(2)+Ie.read_shift(2);Ze!==0&&(Ee.ct=Z(Ie,Ie.l-8));var xt=Ie.read_shift(2)+Ie.read_shift(2)+Ie.read_shift(2)+Ie.read_shift(2);xt!==0&&(Ee.mt=Z(Ie,Ie.l-8)),Ee.start=Ie.read_shift(4,"i"),Ee.size=Ie.read_shift(4,"i"),Ee.size<0&&Ee.start<0&&(Ee.size=Ee.type=0,Ee.start=F,Ee.name=""),Ee.type===5?(ne=Ee.start,U>0&&ne!==F&&(b[ne].name="!StreamData")):Ee.size>=4096?(Ee.storage="fat",b[Ee.start]===void 0&&(b[Ee.start]=H(D,Ee.start,b.fat_addrs,b.ssz)),b[Ee.start].name=Ee.name,Ee.content=b[Ee.start].data.slice(0,Ee.size)):(Ee.storage="minifat",Ee.size<0?Ee.size=0:ne!==F&&Ee.start!==F&&b[ne]&&(Ee.content=w(Ee,b[ne].data,(b[ce]||{}).data))),Ee.content&&kn(Ee.content,0),B[Me]=Ee,re.push(Ee)}}function Z(R,b){return new Date((On(R,b+4)/1e7*Math.pow(2,32)+On(R,b)/1e7-11644473600)*1e3)}function fe(R,b){return d(),m(h.readFileSync(R),b)}function ge(R,b){var D=b&&b.type;switch(D||Et&&Buffer.isBuffer(R)&&(D="buffer"),D||"base64"){case"file":return fe(R,b);case"base64":return m(mi(Rs(R)),b);case"binary":return m(mi(R),b)}return m(R,b)}function k(R,b){var D=b||{},M=D.root||"Root Entry";if(R.FullPaths||(R.FullPaths=[]),R.FileIndex||(R.FileIndex=[]),R.FullPaths.length!==R.FileIndex.length)throw new Error("inconsistent CFB structure");R.FullPaths.length===0&&(R.FullPaths[0]=M+"/",R.FileIndex[0]={name:M,type:5}),D.CLSID&&(R.FileIndex[0].clsid=D.CLSID),P(R)}function P(R){var b="Sh33tJ5";if(!kt.find(R,"/"+b)){var D=he(4);D[0]=55,D[1]=D[3]=50,D[2]=54,R.FileIndex.push({name:b,type:2,content:D,size:4,L:69,R:69,C:69}),R.FullPaths.push(R.FullPaths[0]+b),C(R)}}function C(R,b){k(R);for(var D=!1,M=!1,U=R.FullPaths.length-1;U>=0;--U){var B=R.FileIndex[U];switch(B.type){case 0:M?D=!0:(R.FileIndex.pop(),R.FullPaths.pop());break;case 1:case 2:case 5:M=!0,isNaN(B.R*B.L*B.C)&&(D=!0),B.R>-1&&B.L>-1&&B.R==B.L&&(D=!0);break;default:D=!0;break}}if(!(!D&&!b)){var re=new Date(1987,1,19),ce=0,ne=Object.create?Object.create(null):{},se=[];for(U=0;U<R.FullPaths.length;++U)ne[R.FullPaths[U]]=!0,R.FileIndex[U].type!==0&&se.push([R.FullPaths[U],R.FileIndex[U]]);for(U=0;U<se.length;++U){var ae=n(se[U][0]);M=ne[ae],M||(se.push([ae,{name:i(ae).replace("/",""),type:1,clsid:ut,ct:re,mt:re,content:null}]),ne[ae]=!0)}for(se.sort(function(Me,Ie){return t(Me[0],Ie[0])}),R.FullPaths=[],R.FileIndex=[],U=0;U<se.length;++U)R.FullPaths[U]=se[U][0],R.FileIndex[U]=se[U][1];for(U=0;U<se.length;++U){var xe=R.FileIndex[U],Ne=R.FullPaths[U];if(xe.name=i(Ne).replace("/",""),xe.L=xe.R=xe.C=-(xe.color=1),xe.size=xe.content?xe.content.length:0,xe.start=0,xe.clsid=xe.clsid||ut,U===0)xe.C=se.length>1?1:-1,xe.size=0,xe.type=5;else if(Ne.slice(-1)=="/"){for(ce=U+1;ce<se.length&&n(R.FullPaths[ce])!=Ne;++ce);for(xe.C=ce>=se.length?-1:ce,ce=U+1;ce<se.length&&n(R.FullPaths[ce])!=n(Ne);++ce);xe.R=ce>=se.length?-1:ce,xe.type=1}else n(R.FullPaths[U+1]||"")==n(Ne)&&(xe.R=U+1),xe.type=2}}}function L(R,b){var D=b||{};if(D.fileType=="mad")return $t(R,D);switch(C(R),D.fileType){case"zip":return Mn(R,D)}var M=(function(Me){for(var Ie=0,Ee=0,Ze=0;Ze<Me.FileIndex.length;++Ze){var xt=Me.FileIndex[Ze];if(xt.content){var vt=xt.content.length;vt>0&&(vt<4096?Ie+=vt+63>>6:Ee+=vt+511>>9)}}for(var Tt=Me.FullPaths.length+3>>2,ei=Ie+7>>3,Ci=Ie+127>>7,wn=ei+Ee+Tt+Ci,Zt=wn+127>>7,Us=Zt<=109?0:Math.ceil((Zt-109)/127);wn+Zt+Us+127>>7>Zt;)Us=++Zt<=109?0:Math.ceil((Zt-109)/127);var Lt=[1,Us,Zt,Ci,Tt,Ee,Ie,0];return Me.FileIndex[0].size=Ie<<6,Lt[7]=(Me.FileIndex[0].start=Lt[0]+Lt[1]+Lt[2]+Lt[3]+Lt[4]+Lt[5])+(Lt[6]+7>>3),Lt})(R),U=he(M[7]<<9),B=0,re=0;{for(B=0;B<8;++B)U.write_shift(1,We[B]);for(B=0;B<8;++B)U.write_shift(2,0);for(U.write_shift(2,62),U.write_shift(2,3),U.write_shift(2,65534),U.write_shift(2,9),U.write_shift(2,6),B=0;B<3;++B)U.write_shift(2,0);for(U.write_shift(4,0),U.write_shift(4,M[2]),U.write_shift(4,M[0]+M[1]+M[2]+M[3]-1),U.write_shift(4,0),U.write_shift(4,4096),U.write_shift(4,M[3]?M[0]+M[1]+M[2]-1:F),U.write_shift(4,M[3]),U.write_shift(-4,M[1]?M[0]-1:F),U.write_shift(4,M[1]),B=0;B<109;++B)U.write_shift(-4,B<M[2]?M[1]+B:-1)}if(M[1])for(re=0;re<M[1];++re){for(;B<236+re*127;++B)U.write_shift(-4,B<M[2]?M[1]+B:-1);U.write_shift(-4,re===M[1]-1?F:re+1)}var ce=function(Me){for(re+=Me;B<re-1;++B)U.write_shift(-4,B+1);Me&&(++B,U.write_shift(-4,F))};for(re=B=0,re+=M[1];B<re;++B)U.write_shift(-4,Xe.DIFSECT);for(re+=M[2];B<re;++B)U.write_shift(-4,Xe.FATSECT);ce(M[3]),ce(M[4]);for(var ne=0,se=0,ae=R.FileIndex[0];ne<R.FileIndex.length;++ne)ae=R.FileIndex[ne],ae.content&&(se=ae.content.length,!(se<4096)&&(ae.start=re,ce(se+511>>9)));for(ce(M[6]+7>>3);U.l&511;)U.write_shift(-4,Xe.ENDOFCHAIN);for(re=B=0,ne=0;ne<R.FileIndex.length;++ne)ae=R.FileIndex[ne],ae.content&&(se=ae.content.length,!(!se||se>=4096)&&(ae.start=re,ce(se+63>>6)));for(;U.l&511;)U.write_shift(-4,Xe.ENDOFCHAIN);for(B=0;B<M[4]<<2;++B){var xe=R.FullPaths[B];if(!xe||xe.length===0){for(ne=0;ne<17;++ne)U.write_shift(4,0);for(ne=0;ne<3;++ne)U.write_shift(4,-1);for(ne=0;ne<12;++ne)U.write_shift(4,0);continue}ae=R.FileIndex[B],B===0&&(ae.start=ae.size?ae.start-1:F);var Ne=B===0&&D.root||ae.name;if(se=2*(Ne.length+1),U.write_shift(64,Ne,"utf16le"),U.write_shift(2,se),U.write_shift(1,ae.type),U.write_shift(1,ae.color),U.write_shift(-4,ae.L),U.write_shift(-4,ae.R),U.write_shift(-4,ae.C),ae.clsid)U.write_shift(16,ae.clsid,"hex");else for(ne=0;ne<4;++ne)U.write_shift(4,0);U.write_shift(4,ae.state||0),U.write_shift(4,0),U.write_shift(4,0),U.write_shift(4,0),U.write_shift(4,0),U.write_shift(4,ae.start),U.write_shift(4,ae.size),U.write_shift(4,0)}for(B=1;B<R.FileIndex.length;++B)if(ae=R.FileIndex[B],ae.size>=4096)if(U.l=ae.start+1<<9,Et&&Buffer.isBuffer(ae.content))ae.content.copy(U,U.l,0,ae.size),U.l+=ae.size+511&-512;else{for(ne=0;ne<ae.size;++ne)U.write_shift(1,ae.content[ne]);for(;ne&511;++ne)U.write_shift(1,0)}for(B=1;B<R.FileIndex.length;++B)if(ae=R.FileIndex[B],ae.size>0&&ae.size<4096)if(Et&&Buffer.isBuffer(ae.content))ae.content.copy(U,U.l,0,ae.size),U.l+=ae.size+63&-64;else{for(ne=0;ne<ae.size;++ne)U.write_shift(1,ae.content[ne]);for(;ne&63;++ne)U.write_shift(1,0)}if(Et)U.l=U.length;else for(;U.l<U.length;)U.write_shift(1,0);return U}function V(R,b){var D=R.FullPaths.map(function(ne){return ne.toUpperCase()}),M=D.map(function(ne){var se=ne.split("/");return se[se.length-(ne.slice(-1)=="/"?2:1)]}),U=!1;b.charCodeAt(0)===47?(U=!0,b=D[0].slice(0,-1)+b):U=b.indexOf("/")!==-1;var B=b.toUpperCase(),re=U===!0?D.indexOf(B):M.indexOf(B);if(re!==-1)return R.FileIndex[re];var ce=!B.match(eh);for(B=B.replace(Gu,""),ce&&(B=B.replace(eh,"!")),re=0;re<D.length;++re)if((ce?D[re].replace(eh,"!"):D[re]).replace(Gu,"")==B||(ce?M[re].replace(eh,"!"):M[re]).replace(Gu,"")==B)return R.FileIndex[re];return null}var j=64,F=-2,qe="d0cf11e0a1b11ae1",We=[208,207,17,224,161,177,26,225],ut="00000000000000000000000000000000",Xe={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:F,FREESECT:-1,HEADER_SIGNATURE:qe,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ut,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Te(R,b,D){d();var M=L(R,D);h.writeFileSync(b,M)}function Le(R){for(var b=new Array(R.length),D=0;D<R.length;++D)b[D]=String.fromCharCode(R[D]);return b.join("")}function Fe(R,b){var D=L(R,b);switch(b&&b.type||"buffer"){case"file":return d(),h.writeFileSync(b.filename,D),D;case"binary":return typeof D=="string"?D:Le(D);case"base64":return uc(typeof D=="string"?D:Le(D));case"buffer":if(Et)return Buffer.isBuffer(D)?D:Os(D);case"array":return typeof D=="string"?mi(D):D}return D}var J;function O(R){try{var b=R.InflateRaw,D=new b;if(D._processChunk(new Uint8Array([3,0]),D._finishFlushFlag),D.bytesRead)J=R;else throw new Error("zlib does not expose bytesRead")}catch(M){console.error("cannot use native zlib: "+(M.message||M))}}function Y(R,b){if(!J)return Ii(R,b);var D=J.InflateRaw,M=new D,U=M._processChunk(R.slice(R.l),M._finishFlushFlag);return R.l+=M.bytesRead,U}function q(R){return J?J.deflateRawSync(R):Qn(R)}var K=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],le=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Ae=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Re(R){var b=(R<<1|R<<11)&139536|(R<<5|R<<15)&558144;return(b>>16|b>>8|b)&255}for(var Pe=typeof Uint8Array<"u",Se=Pe?new Uint8Array(256):[],lt=0;lt<256;++lt)Se[lt]=Re(lt);function it(R,b){var D=Se[R&255];return b<=8?D>>>8-b:(D=D<<8|Se[R>>8&255],b<=16?D>>>16-b:(D=D<<8|Se[R>>16&255],D>>>24-b))}function Bt(R,b){var D=b&7,M=b>>>3;return(R[M]|(D<=6?0:R[M+1]<<8))>>>D&3}function at(R,b){var D=b&7,M=b>>>3;return(R[M]|(D<=5?0:R[M+1]<<8))>>>D&7}function zr(R,b){var D=b&7,M=b>>>3;return(R[M]|(D<=4?0:R[M+1]<<8))>>>D&15}function Pt(R,b){var D=b&7,M=b>>>3;return(R[M]|(D<=3?0:R[M+1]<<8))>>>D&31}function Ue(R,b){var D=b&7,M=b>>>3;return(R[M]|(D<=1?0:R[M+1]<<8))>>>D&127}function Ar(R,b,D){var M=b&7,U=b>>>3,B=(1<<D)-1,re=R[U]>>>M;return D<8-M||(re|=R[U+1]<<8-M,D<16-M)||(re|=R[U+2]<<16-M,D<24-M)||(re|=R[U+3]<<24-M),re&B}function Hr(R,b,D){var M=b&7,U=b>>>3;return M<=5?R[U]|=(D&7)<<M:(R[U]|=D<<M&255,R[U+1]=(D&7)>>8-M),b+3}function Ir(R,b,D){var M=b&7,U=b>>>3;return D=(D&1)<<M,R[U]|=D,b+1}function Wr(R,b,D){var M=b&7,U=b>>>3;return D<<=M,R[U]|=D&255,D>>>=8,R[U+1]=D,b+8}function Ds(R,b,D){var M=b&7,U=b>>>3;return D<<=M,R[U]|=D&255,D>>>=8,R[U+1]=D&255,R[U+2]=D>>>8,b+16}function wi(R,b){var D=R.length,M=2*D>b?2*D:b+5,U=0;if(D>=b)return R;if(Et){var B=Ly(M);if(R.copy)R.copy(B);else for(;U<R.length;++U)B[U]=R[U];return B}else if(Pe){var re=new Uint8Array(M);if(re.set)re.set(R);else for(;U<D;++U)re[U]=R[U];return re}return R.length=M,R}function Cr(R){for(var b=new Array(R),D=0;D<R;++D)b[D]=0;return b}function Ti(R,b,D){var M=1,U=0,B=0,re=0,ce=0,ne=R.length,se=Pe?new Uint16Array(32):Cr(32);for(B=0;B<32;++B)se[B]=0;for(B=ne;B<D;++B)R[B]=0;ne=R.length;var ae=Pe?new Uint16Array(ne):Cr(ne);for(B=0;B<ne;++B)se[U=R[B]]++,M<U&&(M=U),ae[B]=0;for(se[0]=0,B=1;B<=M;++B)se[B+16]=ce=ce+se[B-1]<<1;for(B=0;B<ne;++B)ce=R[B],ce!=0&&(ae[B]=se[ce+16]++);var xe=0;for(B=0;B<ne;++B)if(xe=R[B],xe!=0)for(ce=it(ae[B],M)>>M-xe,re=(1<<M+4-xe)-1;re>=0;--re)b[ce|re<<xe]=xe&15|B<<4;return M}var Ht=Pe?new Uint16Array(512):Cr(512),Wt=Pe?new Uint16Array(32):Cr(32);if(!Pe){for(var Rr=0;Rr<512;++Rr)Ht[Rr]=0;for(Rr=0;Rr<32;++Rr)Wt[Rr]=0}(function(){for(var R=[],b=0;b<32;b++)R.push(5);Ti(R,Wt,32);var D=[];for(b=0;b<=143;b++)D.push(8);for(;b<=255;b++)D.push(9);for(;b<=279;b++)D.push(7);for(;b<=287;b++)D.push(8);Ti(D,Ht,288)})();var Oa=(function(){for(var b=Pe?new Uint8Array(32768):[],D=0,M=0;D<Ae.length-1;++D)for(;M<Ae[D+1];++M)b[M]=D;for(;M<32768;++M)b[M]=29;var U=Pe?new Uint8Array(259):[];for(D=0,M=0;D<le.length-1;++D)for(;M<le[D+1];++M)U[M]=D;function B(ce,ne){for(var se=0;se<ce.length;){var ae=Math.min(65535,ce.length-se),xe=se+ae==ce.length;for(ne.write_shift(1,+xe),ne.write_shift(2,ae),ne.write_shift(2,~ae&65535);ae-- >0;)ne[ne.l++]=ce[se++]}return ne.l}function re(ce,ne){for(var se=0,ae=0,xe=Pe?new Uint16Array(32768):[];ae<ce.length;){var Ne=Math.min(65535,ce.length-ae);if(Ne<10){for(se=Hr(ne,se,+(ae+Ne==ce.length)),se&7&&(se+=8-(se&7)),ne.l=se/8|0,ne.write_shift(2,Ne),ne.write_shift(2,~Ne&65535);Ne-- >0;)ne[ne.l++]=ce[ae++];se=ne.l*8;continue}se=Hr(ne,se,+(ae+Ne==ce.length)+2);for(var Me=0;Ne-- >0;){var Ie=ce[ae];Me=(Me<<5^Ie)&32767;var Ee=-1,Ze=0;if((Ee=xe[Me])&&(Ee|=ae&-32768,Ee>ae&&(Ee-=32768),Ee<ae))for(;ce[Ee+Ze]==ce[ae+Ze]&&Ze<250;)++Ze;if(Ze>2){Ie=U[Ze],Ie<=22?se=Wr(ne,se,Se[Ie+1]>>1)-1:(Wr(ne,se,3),se+=5,Wr(ne,se,Se[Ie-23]>>5),se+=3);var xt=Ie<8?0:Ie-4>>2;xt>0&&(Ds(ne,se,Ze-le[Ie]),se+=xt),Ie=b[ae-Ee],se=Wr(ne,se,Se[Ie]>>3),se-=3;var vt=Ie<4?0:Ie-2>>1;vt>0&&(Ds(ne,se,ae-Ee-Ae[Ie]),se+=vt);for(var Tt=0;Tt<Ze;++Tt)xe[Me]=ae&32767,Me=(Me<<5^ce[ae])&32767,++ae;Ne-=Ze-1}else Ie<=143?Ie=Ie+48:se=Ir(ne,se,1),se=Wr(ne,se,Se[Ie]),xe[Me]=ae&32767,++ae}se=Wr(ne,se,0)-1}return ne.l=(se+7)/8|0,ne.l}return function(ne,se){return ne.length<8?B(ne,se):re(ne,se)}})();function Qn(R){var b=he(50+Math.floor(R.length*1.1)),D=Oa(R,b);return b.slice(0,D)}var Si=Pe?new Uint16Array(32768):Cr(32768),Ai=Pe?new Uint16Array(32768):Cr(32768),Fs=Pe?new Uint16Array(128):Cr(128),Ls=1,Ms=1;function Da(R,b){var D=Pt(R,b)+257;b+=5;var M=Pt(R,b)+1;b+=5;var U=zr(R,b)+4;b+=4;for(var B=0,re=Pe?new Uint8Array(19):Cr(19),ce=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ne=1,se=Pe?new Uint8Array(8):Cr(8),ae=Pe?new Uint8Array(8):Cr(8),xe=re.length,Ne=0;Ne<U;++Ne)re[K[Ne]]=B=at(R,b),ne<B&&(ne=B),se[B]++,b+=3;var Me=0;for(se[0]=0,Ne=1;Ne<=ne;++Ne)ae[Ne]=Me=Me+se[Ne-1]<<1;for(Ne=0;Ne<xe;++Ne)(Me=re[Ne])!=0&&(ce[Ne]=ae[Me]++);var Ie=0;for(Ne=0;Ne<xe;++Ne)if(Ie=re[Ne],Ie!=0){Me=Se[ce[Ne]]>>8-Ie;for(var Ee=(1<<7-Ie)-1;Ee>=0;--Ee)Fs[Me|Ee<<Ie]=Ie&7|Ne<<3}var Ze=[];for(ne=1;Ze.length<D+M;)switch(Me=Fs[Ue(R,b)],b+=Me&7,Me>>>=3){case 16:for(B=3+Bt(R,b),b+=2,Me=Ze[Ze.length-1];B-- >0;)Ze.push(Me);break;case 17:for(B=3+at(R,b),b+=3;B-- >0;)Ze.push(0);break;case 18:for(B=11+Ue(R,b),b+=7;B-- >0;)Ze.push(0);break;default:Ze.push(Me),ne<Me&&(ne=Me);break}var xt=Ze.slice(0,D),vt=Ze.slice(D);for(Ne=D;Ne<286;++Ne)xt[Ne]=0;for(Ne=M;Ne<30;++Ne)vt[Ne]=0;return Ls=Ti(xt,Si,286),Ms=Ti(vt,Ai,30),b}function Fa(R,b){if(R[0]==3&&!(R[1]&3))return[go(b),2];for(var D=0,M=0,U=Ly(b||1<<18),B=0,re=U.length>>>0,ce=0,ne=0;(M&1)==0;){if(M=at(R,D),D+=3,M>>>1)M>>1==1?(ce=9,ne=5):(D=Da(R,D),ce=Ls,ne=Ms);else{D&7&&(D+=8-(D&7));var se=R[D>>>3]|R[(D>>>3)+1]<<8;if(D+=32,se>0)for(!b&&re<B+se&&(U=wi(U,B+se),re=U.length);se-- >0;)U[B++]=R[D>>>3],D+=8;continue}for(;;){!b&&re<B+32767&&(U=wi(U,B+32767),re=U.length);var ae=Ar(R,D,ce),xe=M>>>1==1?Ht[ae]:Si[ae];if(D+=xe&15,xe>>>=4,(xe>>>8&255)===0)U[B++]=xe;else{if(xe==256)break;xe-=257;var Ne=xe<8?0:xe-4>>2;Ne>5&&(Ne=0);var Me=B+le[xe];Ne>0&&(Me+=Ar(R,D,Ne),D+=Ne),ae=Ar(R,D,ne),xe=M>>>1==1?Wt[ae]:Ai[ae],D+=xe&15,xe>>>=4;var Ie=xe<4?0:xe-2>>1,Ee=Ae[xe];for(Ie>0&&(Ee+=Ar(R,D,Ie),D+=Ie),!b&&re<Me&&(U=wi(U,Me+100),re=U.length);B<Me;)U[B]=U[B-Ee],++B}}}return b?[U,D+7>>>3]:[U.slice(0,B),D+7>>>3]}function Ii(R,b){var D=R.slice(R.l||0),M=Fa(D,b);return R.l+=M[1],M[0]}function Yi(R,b){if(R)typeof console<"u"&&console.error(b);else throw new Error(b)}function Qi(R,b){var D=R;kn(D,0);var M=[],U=[],B={FileIndex:M,FullPaths:U};k(B,{root:b.root});for(var re=D.length-4;(D[re]!=80||D[re+1]!=75||D[re+2]!=5||D[re+3]!=6)&&re>=0;)--re;D.l=re+4,D.l+=4;var ce=D.read_shift(2);D.l+=6;var ne=D.read_shift(4);for(D.l=ne,re=0;re<ce;++re){D.l+=20;var se=D.read_shift(4),ae=D.read_shift(4),xe=D.read_shift(2),Ne=D.read_shift(2),Me=D.read_shift(2);D.l+=8;var Ie=D.read_shift(4),Ee=c(D.slice(D.l+xe,D.l+xe+Ne));D.l+=xe+Ne+Me;var Ze=D.l;D.l=Ie+4,un(D,se,ae,B,Ee),D.l=Ze}return B}function un(R,b,D,M,U){R.l+=2;var B=R.read_shift(2),re=R.read_shift(2),ce=l(R);if(B&8257)throw new Error("Unsupported ZIP encryption");for(var ne=R.read_shift(4),se=R.read_shift(4),ae=R.read_shift(4),xe=R.read_shift(2),Ne=R.read_shift(2),Me="",Ie=0;Ie<xe;++Ie)Me+=String.fromCharCode(R[R.l++]);if(Ne){var Ee=c(R.slice(R.l,R.l+Ne));(Ee[21589]||{}).mt&&(ce=Ee[21589].mt),((U||{})[21589]||{}).mt&&(ce=U[21589].mt)}R.l+=Ne;var Ze=R.slice(R.l,R.l+se);switch(re){case 8:Ze=Y(R,ae);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+re)}var xt=!1;B&8&&(ne=R.read_shift(4),ne==134695760&&(ne=R.read_shift(4),xt=!0),se=R.read_shift(4),ae=R.read_shift(4)),se!=b&&Yi(xt,"Bad compressed size: "+b+" != "+se),ae!=D&&Yi(xt,"Bad uncompressed size: "+D+" != "+ae),tn(M,Me,Ze,{unsafe:!0,mt:ce})}function Mn(R,b){var D=b||{},M=[],U=[],B=he(1),re=D.compression?8:0,ce=0,ne=0,se=0,ae=0,xe=0,Ne=R.FullPaths[0],Me=Ne,Ie=R.FileIndex[0],Ee=[],Ze=0;for(ne=1;ne<R.FullPaths.length;++ne)if(Me=R.FullPaths[ne].slice(Ne.length),Ie=R.FileIndex[ne],!(!Ie.size||!Ie.content||Me=="Sh33tJ5")){var xt=ae,vt=he(Me.length);for(se=0;se<Me.length;++se)vt.write_shift(1,Me.charCodeAt(se)&127);vt=vt.slice(0,vt.l),Ee[xe]=CO.buf(Ie.content,0);var Tt=Ie.content;re==8&&(Tt=q(Tt)),B=he(30),B.write_shift(4,67324752),B.write_shift(2,20),B.write_shift(2,ce),B.write_shift(2,re),Ie.mt?o(B,Ie.mt):B.write_shift(4,0),B.write_shift(-4,Ee[xe]),B.write_shift(4,Tt.length),B.write_shift(4,Ie.content.length),B.write_shift(2,vt.length),B.write_shift(2,0),ae+=B.length,M.push(B),ae+=vt.length,M.push(vt),ae+=Tt.length,M.push(Tt),B=he(46),B.write_shift(4,33639248),B.write_shift(2,0),B.write_shift(2,20),B.write_shift(2,ce),B.write_shift(2,re),B.write_shift(4,0),B.write_shift(-4,Ee[xe]),B.write_shift(4,Tt.length),B.write_shift(4,Ie.content.length),B.write_shift(2,vt.length),B.write_shift(2,0),B.write_shift(2,0),B.write_shift(2,0),B.write_shift(2,0),B.write_shift(4,0),B.write_shift(4,xt),Ze+=B.l,U.push(B),Ze+=vt.length,U.push(vt),++xe}return B=he(22),B.write_shift(4,101010256),B.write_shift(2,0),B.write_shift(2,0),B.write_shift(2,xe),B.write_shift(2,xe),B.write_shift(4,Ze),B.write_shift(4,ae),B.write_shift(2,0),Vr([Vr(M),Vr(U),B])}var Jn={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Vn(R,b){if(R.ctype)return R.ctype;var D=R.name||"",M=D.match(/\.([^\.]+)$/);return M&&Jn[M[1]]||b&&(M=(D=b).match(/[\.\\]([^\.\\])+$/),M&&Jn[M[1]])?Jn[M[1]]:"application/octet-stream"}function La(R){for(var b=uc(R),D=[],M=0;M<b.length;M+=76)D.push(b.slice(M,M+76));return D.join(`\r
`)+`\r
`}function Ji(R){var b=R.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(se){var ae=se.charCodeAt(0).toString(16).toUpperCase();return"="+(ae.length==1?"0"+ae:ae)});b=b.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),b.charAt(0)==`
`&&(b="=0D"+b.slice(1)),b=b.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var D=[],M=b.split(`\r
`),U=0;U<M.length;++U){var B=M[U];if(B.length==0){D.push("");continue}for(var re=0;re<B.length;){var ce=76,ne=B.slice(re,re+ce);ne.charAt(ce-1)=="="?ce--:ne.charAt(ce-2)=="="?ce-=2:ne.charAt(ce-3)=="="&&(ce-=3),ne=B.slice(re,re+ce),re+=ce,re<B.length&&(ne+="="),D.push(ne)}}return D.join(`\r
`)}function Ma(R){for(var b=[],D=0;D<R.length;++D){for(var M=R[D];D<=R.length&&M.charAt(M.length-1)=="=";)M=M.slice(0,M.length-1)+R[++D];b.push(M)}for(var U=0;U<b.length;++U)b[U]=b[U].replace(/[=][0-9A-Fa-f]{2}/g,function(B){return String.fromCharCode(parseInt(B.slice(1),16))});return mi(b.join(`\r
`))}function Zn(R,b,D){for(var M="",U="",B="",re,ce=0;ce<10;++ce){var ne=b[ce];if(!ne||ne.match(/^\s*$/))break;var se=ne.match(/^(.*?):\s*([^\s].*)$/);if(se)switch(se[1].toLowerCase()){case"content-location":M=se[2].trim();break;case"content-type":B=se[2].trim();break;case"content-transfer-encoding":U=se[2].trim();break}}switch(++ce,U.toLowerCase()){case"base64":re=mi(Rs(b.slice(ce).join("")));break;case"quoted-printable":re=Ma(b.slice(ce));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+U)}var ae=tn(R,M.slice(D.length),re,{unsafe:!0});B&&(ae.ctype=B)}function Va(R,b){if(Le(R.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var D=b&&b.root||"",M=(Et&&Buffer.isBuffer(R)?R.toString("binary"):Le(R)).split(`\r
`),U=0,B="";for(U=0;U<M.length;++U)if(B=M[U],!!/^Content-Location:/i.test(B)&&(B=B.slice(B.indexOf("file")),D||(D=B.slice(0,B.lastIndexOf("/")+1)),B.slice(0,D.length)!=D))for(;D.length>0&&(D=D.slice(0,D.length-1),D=D.slice(0,D.lastIndexOf("/")+1),B.slice(0,D.length)!=D););var re=(M[1]||"").match(/boundary="(.*?)"/);if(!re)throw new Error("MAD cannot find boundary");var ce="--"+(re[1]||""),ne=[],se=[],ae={FileIndex:ne,FullPaths:se};k(ae);var xe,Ne=0;for(U=0;U<M.length;++U){var Me=M[U];Me!==ce&&Me!==ce+"--"||(Ne++&&Zn(ae,M.slice(xe,U),D),xe=U)}return ae}function $t(R,b){var D=b||{},M=D.boundary||"SheetJS";M="------="+M;for(var U=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+M.slice(2)+'"',"","",""],B=R.FullPaths[0],re=B,ce=R.FileIndex[0],ne=1;ne<R.FullPaths.length;++ne)if(re=R.FullPaths[ne].slice(B.length),ce=R.FileIndex[ne],!(!ce.size||!ce.content||re=="Sh33tJ5")){re=re.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Ze){return"_x"+Ze.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Ze){return"_u"+Ze.charCodeAt(0).toString(16)+"_"});for(var se=ce.content,ae=Et&&Buffer.isBuffer(se)?se.toString("binary"):Le(se),xe=0,Ne=Math.min(1024,ae.length),Me=0,Ie=0;Ie<=Ne;++Ie)(Me=ae.charCodeAt(Ie))>=32&&Me<128&&++xe;var Ee=xe>=Ne*4/5;U.push(M),U.push("Content-Location: "+(D.root||"file:///C:/SheetJS/")+re),U.push("Content-Transfer-Encoding: "+(Ee?"quoted-printable":"base64")),U.push("Content-Type: "+Vn(ce,re)),U.push(""),U.push(Ee?Ji(ae):La(ae))}return U.push(M+`--\r
`),U.join(`\r
`)}function Vs(R){var b={};return k(b,R),b}function tn(R,b,D,M){var U=M&&M.unsafe;U||k(R);var B=!U&&kt.find(R,b);if(!B){var re=R.FullPaths[0];b.slice(0,re.length)==re?re=b:(re.slice(-1)!="/"&&(re+="/"),re=(re+b).replace("//","/")),B={name:i(b),type:2},R.FileIndex.push(B),R.FullPaths.push(re),U||kt.utils.cfb_gc(R)}return B.content=D,B.size=D?D.length:0,M&&(M.CLSID&&(B.clsid=M.CLSID),M.mt&&(B.mt=M.mt),M.ct&&(B.ct=M.ct)),B}function Zi(R,b){k(R);var D=kt.find(R,b);if(D){for(var M=0;M<R.FileIndex.length;++M)if(R.FileIndex[M]==D)return R.FileIndex.splice(M,1),R.FullPaths.splice(M,1),!0}return!1}function es(R,b,D){k(R);var M=kt.find(R,b);if(M){for(var U=0;U<R.FileIndex.length;++U)if(R.FileIndex[U]==M)return R.FileIndex[U].name=i(D),R.FullPaths[U]=D,!0}return!1}function bs(R){C(R,!0)}return e.find=V,e.read=ge,e.parse=m,e.write=Fe,e.writeFile=Te,e.utils={cfb_new:Vs,cfb_add:tn,cfb_del:Zi,cfb_mov:es,cfb_gc:bs,ReadShift:qu,CheckField:qT,prep_blob:kn,bconcat:Vr,use_zlib:O,_deflateRaw:Qn,_inflateRaw:Ii,consts:Xe},e})();function RO(r){return typeof r=="string"?F0(r):Array.isArray(r)?eO(r):r}function kc(r,e,t){if(typeof Deno<"u"){if(t&&typeof e=="string")switch(t){case"utf8":e=new TextEncoder(t).encode(e);break;case"binary":e=F0(e);break;default:throw new Error("Unsupported encoding "+t)}return Deno.writeFileSync(r,e)}var n=t=="utf8"?fc(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,r);if(typeof Blob<"u"){var i=new Blob([RO(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,r);if(typeof saveAs<"u")return saveAs(i,r);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var o=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(o)},6e4),chrome.downloads.download({url:o,filename:r,saveAs:!0});var l=document.createElement("a");if(l.download!=null)return l.download=r,l.href=o,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(o)},6e4),o}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var c=File(r);return c.open("w"),c.encoding="binary",Array.isArray(e)&&(e=Pc(e)),c.write(e),c.close(),e}catch(h){if(!h.message||!h.message.match(/onstruct/))throw h}throw new Error("cannot save file "+r)}function jr(r){for(var e=Object.keys(r),t=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(r,e[n])&&t.push(e[n]);return t}function Hy(r,e){for(var t=[],n=jr(r),i=0;i!==n.length;++i)t[r[n[i]][e]]==null&&(t[r[n[i]][e]]=n[i]);return t}function Eg(r){for(var e=[],t=jr(r),n=0;n!==t.length;++n)e[r[t[n]]]=t[n];return e}function V0(r){for(var e=[],t=jr(r),n=0;n!==t.length;++n)e[r[t[n]]]=parseInt(t[n],10);return e}function PO(r){for(var e=[],t=jr(r),n=0;n!==t.length;++n)e[r[t[n]]]==null&&(e[r[t[n]]]=[]),e[r[t[n]]].push(t[n]);return e}var Kh=new Date(1899,11,30,0,0,0);function xn(r,e){var t=r.getTime(),n=Kh.getTime()+(r.getTimezoneOffset()-Kh.getTimezoneOffset())*6e4;return(t-n)/(1440*60*1e3)}var NT=new Date,kO=Kh.getTime()+(NT.getTimezoneOffset()-Kh.getTimezoneOffset())*6e4,Wy=NT.getTimezoneOffset();function OT(r){var e=new Date;return e.setTime(r*24*60*60*1e3+kO),e.getTimezoneOffset()!==Wy&&e.setTime(e.getTime()+(e.getTimezoneOffset()-Wy)*6e4),e}var $y=new Date("2017-02-19T19:06:09.000Z"),DT=isNaN($y.getFullYear())?new Date("2/19/17"):$y,NO=DT.getFullYear()==2017;function ln(r,e){var t=new Date(r);if(NO)return e>0?t.setTime(t.getTime()+t.getTimezoneOffset()*60*1e3):e<0&&t.setTime(t.getTime()-t.getTimezoneOffset()*60*1e3),t;if(r instanceof Date)return r;if(DT.getFullYear()==1917&&!isNaN(t.getFullYear())){var n=t.getFullYear();return r.indexOf(""+n)>-1||t.setFullYear(t.getFullYear()+100),t}var i=r.match(/\d+/g)||["2017","2","19","0","0","0"],o=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return r.indexOf("Z")>-1&&(o=new Date(o.getTime()-o.getTimezoneOffset()*60*1e3)),o}function b0(r,e){if(Et&&Buffer.isBuffer(r))return r.toString("binary");if(typeof TextDecoder<"u")try{var t={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(r)&&(r=new Uint8Array(r)),new TextDecoder("latin1").decode(r).replace(/[]/g,function(o){return t[o]||o})}catch{}for(var n=[],i=0;i!=r.length;++i)n.push(String.fromCharCode(r[i]));return n.join("")}function En(r){if(typeof JSON<"u"&&!Array.isArray(r))return JSON.parse(JSON.stringify(r));if(typeof r!="object"||r==null)return r;if(r instanceof Date)return new Date(r.getTime());var e={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=En(r[t]));return e}function Qt(r,e){for(var t="";t.length<e;)t+=r;return t}function Es(r){var e=Number(r);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(r))return e;var t=1,n=r.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return t*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,o){return t=-t,o}),!isNaN(e=Number(n)))?e/t:e}var OO=["january","february","march","april","may","june","july","august","september","october","november","december"];function cc(r){var e=new Date(r),t=new Date(NaN),n=e.getYear(),i=e.getMonth(),o=e.getDate();if(isNaN(o))return t;var l=r.toLowerCase();if(l.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(l=l.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),l.length>3&&OO.indexOf(l)==-1)return t}else if(l.match(/[a-z]/))return t;return n<0||n>8099?t:(i>0||o>1)&&n!=101?e:r.match(/[^-0-9:,\/\\]/)?t:e}function st(r,e,t){if(r.FullPaths){if(typeof t=="string"){var n;return Et?n=Os(t):n=tO(t),kt.utils.cfb_add(r,e,n)}kt.utils.cfb_add(r,e,t)}else r.file(e,t)}function wg(){return kt.utils.cfb_new()}var ur=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,DO={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Tg=Eg(DO),Sg=/[&<>'"]/g,FO=/[\u0000-\u0008\u000b-\u001f]/g;function Ct(r){var e=r+"";return e.replace(Sg,function(t){return Tg[t]}).replace(FO,function(t){return"_x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+"_"})}function Gy(r){return Ct(r).replace(/ /g,"_x0020_")}var FT=/[\u0000-\u001f]/g;function LO(r){var e=r+"";return e.replace(Sg,function(t){return Tg[t]}).replace(/\n/g,"<br/>").replace(FT,function(t){return"&#x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+";"})}function MO(r){var e=r+"";return e.replace(Sg,function(t){return Tg[t]}).replace(FT,function(t){return"&#x"+t.charCodeAt(0).toString(16).toUpperCase()+";"})}function VO(r){return r.replace(/(\r\n|[\r\n])/g,"&#10;")}function bO(r){switch(r){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Op(r){for(var e="",t=0,n=0,i=0,o=0,l=0,c=0;t<r.length;){if(n=r.charCodeAt(t++),n<128){e+=String.fromCharCode(n);continue}if(i=r.charCodeAt(t++),n>191&&n<224){l=(n&31)<<6,l|=i&63,e+=String.fromCharCode(l);continue}if(o=r.charCodeAt(t++),n<240){e+=String.fromCharCode((n&15)<<12|(i&63)<<6|o&63);continue}l=r.charCodeAt(t++),c=((n&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536,e+=String.fromCharCode(55296+(c>>>10&1023)),e+=String.fromCharCode(56320+(c&1023))}return e}function Ky(r){var e=go(2*r.length),t,n,i=1,o=0,l=0,c;for(n=0;n<r.length;n+=i)i=1,(c=r.charCodeAt(n))<128?t=c:c<224?(t=(c&31)*64+(r.charCodeAt(n+1)&63),i=2):c<240?(t=(c&15)*4096+(r.charCodeAt(n+1)&63)*64+(r.charCodeAt(n+2)&63),i=3):(i=4,t=(c&7)*262144+(r.charCodeAt(n+1)&63)*4096+(r.charCodeAt(n+2)&63)*64+(r.charCodeAt(n+3)&63),t-=65536,l=55296+(t>>>10&1023),t=56320+(t&1023)),l!==0&&(e[o++]=l&255,e[o++]=l>>>8,l=0),e[o++]=t%256,e[o++]=t>>>8;return e.slice(0,o).toString("ucs2")}function qy(r){return Os(r,"binary").toString("utf8")}var rh="foo bar baz",Ku=Et&&(qy(rh)==Op(rh)&&qy||Ky(rh)==Op(rh)&&Ky)||Op,fc=Et?function(r){return Os(r,"utf8").toString("binary")}:function(r){for(var e=[],t=0,n=0,i=0;t<r.length;)switch(n=r.charCodeAt(t++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=r.charCodeAt(t++)-56320+(n<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},UO=(function(){var r=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(t){for(var n=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<r.length;++i)n=n.replace(r[i][0],r[i][1]);return n}})(),LT=/(^\s|\s$|\n)/;function br(r,e){return"<"+r+(e.match(LT)?' xml:space="preserve"':"")+">"+e+"</"+r+">"}function hc(r){return jr(r).map(function(e){return" "+e+'="'+r[e]+'"'}).join("")}function ke(r,e,t){return"<"+r+(t!=null?hc(t):"")+(e!=null?(e.match(LT)?' xml:space="preserve"':"")+">"+e+"</"+r:"/")+">"}function pm(r,e){try{return r.toISOString().replace(/\.\d*/,"")}catch(t){if(e)throw t}return""}function BO(r,e){switch(typeof r){case"string":var t=ke("vt:lpwstr",Ct(r));return t=t.replace(/&quot;/g,"_x0022_"),t;case"number":return ke((r|0)==r?"vt:i4":"vt:r8",Ct(String(r)));case"boolean":return ke("vt:bool",r?"true":"false")}if(r instanceof Date)return ke("vt:filetime",pm(r));throw new Error("Unable to serialize "+r)}var Er={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Xl=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Nn={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function jO(r,e){for(var t=1-2*(r[e+7]>>>7),n=((r[e+7]&127)<<4)+(r[e+6]>>>4&15),i=r[e+6]&15,o=5;o>=0;--o)i=i*256+r[e+o];return n==2047?i==0?t*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),t*Math.pow(2,n-52)*i)}function zO(r,e,t){var n=(e<0||1/e==-1/0?1:0)<<7,i=0,o=0,l=n?-e:e;isFinite(l)?l==0?i=o=0:(i=Math.floor(Math.log(l)/Math.LN2),o=l*Math.pow(2,52-i),i<=-1023&&(!isFinite(o)||o<Math.pow(2,52))?i=-1022:(o-=Math.pow(2,52),i+=1023)):(i=2047,o=isNaN(e)?26985:0);for(var c=0;c<=5;++c,o/=256)r[t+c]=o&255;r[t+6]=(i&15)<<4|o&15,r[t+7]=i>>4|n}var Xy=function(r){for(var e=[],t=10240,n=0;n<r[0].length;++n)if(r[0][n])for(var i=0,o=r[0][n].length;i<o;i+=t)e.push.apply(e,r[0][n].slice(i,i+t));return e},Yy=Et?function(r){return r[0].length>0&&Buffer.isBuffer(r[0][0])?Buffer.concat(r[0].map(function(e){return Buffer.isBuffer(e)?e:Os(e)})):Xy(r)}:Xy,Qy=function(r,e,t){for(var n=[],i=e;i<t;i+=2)n.push(String.fromCharCode(Vu(r,i)));return n.join("").replace(Gu,"")},Ag=Et?function(r,e,t){return Buffer.isBuffer(r)?r.toString("utf16le",e,t).replace(Gu,""):Qy(r,e,t)}:Qy,Jy=function(r,e,t){for(var n=[],i=e;i<e+t;++i)n.push(("0"+r[i].toString(16)).slice(-2));return n.join("")},MT=Et?function(r,e,t){return Buffer.isBuffer(r)?r.toString("hex",e,e+t):Jy(r,e,t)}:Jy,Zy=function(r,e,t){for(var n=[],i=e;i<t;i++)n.push(String.fromCharCode(gl(r,i)));return n.join("")},Nc=Et?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf8",t,n):Zy(e,t,n)}:Zy,VT=function(r,e){var t=On(r,e);return t>0?Nc(r,e+4,e+4+t-1):""},bT=VT,UT=function(r,e){var t=On(r,e);return t>0?Nc(r,e+4,e+4+t-1):""},BT=UT,jT=function(r,e){var t=2*On(r,e);return t>0?Nc(r,e+4,e+4+t-1):""},zT=jT,HT=function(e,t){var n=On(e,t);return n>0?Ag(e,t+4,t+4+n):""},WT=HT,$T=function(r,e){var t=On(r,e);return t>0?Nc(r,e+4,e+4+t):""},GT=$T,KT=function(r,e){return jO(r,e)},qh=KT,Ig=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Et&&(bT=function(e,t){if(!Buffer.isBuffer(e))return VT(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},BT=function(e,t){if(!Buffer.isBuffer(e))return UT(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},zT=function(e,t){if(!Buffer.isBuffer(e))return jT(e,t);var n=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n-1)},WT=function(e,t){if(!Buffer.isBuffer(e))return HT(e,t);var n=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n)},GT=function(e,t){if(!Buffer.isBuffer(e))return $T(e,t);var n=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+n)},qh=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):KT(e,t)},Ig=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var gl=function(r,e){return r[e]},Vu=function(r,e){return r[e+1]*256+r[e]},HO=function(r,e){var t=r[e+1]*256+r[e];return t<32768?t:(65535-t+1)*-1},On=function(r,e){return r[e+3]*(1<<24)+(r[e+2]<<16)+(r[e+1]<<8)+r[e]},no=function(r,e){return r[e+3]<<24|r[e+2]<<16|r[e+1]<<8|r[e]},WO=function(r,e){return r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3]};function qu(r,e){var t="",n,i,o=[],l,c,h,d;switch(e){case"dbcs":if(d=this.l,Et&&Buffer.isBuffer(this))t=this.slice(this.l,this.l+2*r).toString("utf16le");else for(h=0;h<r;++h)t+=String.fromCharCode(Vu(this,d)),d+=2;r*=2;break;case"utf8":t=Nc(this,this.l,this.l+r);break;case"utf16le":r*=2,t=Ag(this,this.l,this.l+r);break;case"wstr":return qu.call(this,r,"dbcs");case"lpstr-ansi":t=bT(this,this.l),r=4+On(this,this.l);break;case"lpstr-cp":t=BT(this,this.l),r=4+On(this,this.l);break;case"lpwstr":t=zT(this,this.l),r=4+2*On(this,this.l);break;case"lpp4":r=4+On(this,this.l),t=WT(this,this.l),r&2&&(r+=2);break;case"8lpp4":r=4+On(this,this.l),t=GT(this,this.l),r&3&&(r+=4-(r&3));break;case"cstr":for(r=0,t="";(l=gl(this,this.l+r++))!==0;)o.push(Zf(l));t=o.join("");break;case"_wstr":for(r=0,t="";(l=Vu(this,this.l+r))!==0;)o.push(Zf(l)),r+=2;r+=2,t=o.join("");break;case"dbcs-cont":for(t="",d=this.l,h=0;h<r;++h){if(this.lens&&this.lens.indexOf(d)!==-1)return l=gl(this,d),this.l=d+1,c=qu.call(this,r-h,l?"dbcs-cont":"sbcs-cont"),o.join("")+c;o.push(Zf(Vu(this,d))),d+=2}t=o.join(""),r*=2;break;case"cpstr":case"sbcs-cont":for(t="",d=this.l,h=0;h!=r;++h){if(this.lens&&this.lens.indexOf(d)!==-1)return l=gl(this,d),this.l=d+1,c=qu.call(this,r-h,l?"dbcs-cont":"sbcs-cont"),o.join("")+c;o.push(Zf(gl(this,d))),d+=1}t=o.join("");break;default:switch(r){case 1:return n=gl(this,this.l),this.l++,n;case 2:return n=(e==="i"?HO:Vu)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(n=(r>0?no:WO)(this,this.l),this.l+=4,n):(i=On(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return r==8?i=qh(this,this.l):i=qh([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;r=8;case 16:t=MT(this,this.l,r);break}}return this.l+=r,t}var $O=function(r,e,t){r[t]=e&255,r[t+1]=e>>>8&255,r[t+2]=e>>>16&255,r[t+3]=e>>>24&255},GO=function(r,e,t){r[t]=e&255,r[t+1]=e>>8&255,r[t+2]=e>>16&255,r[t+3]=e>>24&255},KO=function(r,e,t){r[t]=e&255,r[t+1]=e>>>8&255};function qO(r,e,t){var n=0,i=0;if(t==="dbcs"){for(i=0;i!=e.length;++i)KO(this,e.charCodeAt(i),this.l+2*i);n=2*e.length}else if(t==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;n=e.length}else if(t==="hex"){for(;i<r;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(t==="utf16le"){var o=Math.min(this.l+r,this.length);for(i=0;i<Math.min(e.length,r);++i){var l=e.charCodeAt(i);this[this.l++]=l&255,this[this.l++]=l>>8}for(;this.l<o;)this[this.l++]=0;return this}else switch(r){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,$O(this,e,this.l);break;case 8:if(n=8,t==="f"){zO(this,e,this.l);break}case 16:break;case-4:n=4,GO(this,e,this.l);break}return this.l+=n,this}function qT(r,e){var t=MT(this,this.l,r.length>>1);if(t!==r)throw new Error(e+"Expected "+r+" saw "+t);this.l+=r.length>>1}function kn(r,e){r.l=e,r.read_shift=qu,r.chk=qT,r.write_shift=qO}function qi(r,e){r.l+=e}function he(r){var e=go(r);return kn(e,0),e}function yn(){var r=[],e=Et?256:2048,t=function(d){var m=he(d);return kn(m,0),m},n=t(e),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&r.push(n),n=null)},o=function(d){return n&&d<n.length-n.l?n:(i(),n=t(Math.max(d+1,e)))},l=function(){return i(),Vr(r)},c=function(d){i(),n=d,n.l==null&&(n.l=n.length),o(e)};return{next:o,push:c,end:l,_bufs:r}}function ve(r,e,t,n){var i=+e,o;if(!isNaN(i)){n||(n=j8[i].p||(t||[]).length||0),o=1+(i>=128?1:0)+1,n>=128&&++o,n>=16384&&++o,n>=2097152&&++o;var l=r.next(o);i<=127?l.write_shift(1,i):(l.write_shift(1,(i&127)+128),l.write_shift(1,i>>7));for(var c=0;c!=4;++c)if(n>=128)l.write_shift(1,(n&127)+128),n>>=7;else{l.write_shift(1,n);break}n>0&&Ig(t)&&r.push(t)}}function Xu(r,e,t){var n=En(r);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!t||t.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function ex(r,e,t){var n=En(r);return n.s=Xu(n.s,e.s,t),n.e=Xu(n.e,e.s,t),n}function Yu(r,e){if(r.cRel&&r.c<0)for(r=En(r);r.c<0;)r.c+=e>8?16384:256;if(r.rRel&&r.r<0)for(r=En(r);r.r<0;)r.r+=e>8?1048576:e>5?65536:16384;var t=Rt(r);return!r.cRel&&r.cRel!=null&&(t=QO(t)),!r.rRel&&r.rRel!=null&&(t=XO(t)),t}function Dp(r,e){return r.s.r==0&&!r.s.rRel&&r.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!r.e.rRel?(r.s.cRel?"":"$")+Jr(r.s.c)+":"+(r.e.cRel?"":"$")+Jr(r.e.c):r.s.c==0&&!r.s.cRel&&r.e.c==(e.biff>=12?16383:255)&&!r.e.cRel?(r.s.rRel?"":"$")+Ur(r.s.r)+":"+(r.e.rRel?"":"$")+Ur(r.e.r):Yu(r.s,e.biff)+":"+Yu(r.e,e.biff)}function Cg(r){return parseInt(YO(r),10)-1}function Ur(r){return""+(r+1)}function XO(r){return r.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function YO(r){return r.replace(/\$(\d+)$/,"$1")}function Rg(r){for(var e=JO(r),t=0,n=0;n!==e.length;++n)t=26*t+e.charCodeAt(n)-64;return t-1}function Jr(r){if(r<0)throw new Error("invalid column "+r);var e="";for(++r;r;r=Math.floor((r-1)/26))e=String.fromCharCode((r-1)%26+65)+e;return e}function QO(r){return r.replace(/^([A-Z])/,"$$$1")}function JO(r){return r.replace(/^\$([A-Z])/,"$1")}function ZO(r){return r.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function wr(r){for(var e=0,t=0,n=0;n<r.length;++n){var i=r.charCodeAt(n);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(t=26*t+(i-64))}return{c:t-1,r:e-1}}function Rt(r){for(var e=r.c+1,t="";e;e=(e-1)/26|0)t=String.fromCharCode((e-1)%26+65)+t;return t+(r.r+1)}function Fn(r){var e=r.indexOf(":");return e==-1?{s:wr(r),e:wr(r)}:{s:wr(r.slice(0,e)),e:wr(r.slice(e+1))}}function lr(r,e){return typeof e>"u"||typeof e=="number"?lr(r.s,r.e):(typeof r!="string"&&(r=Rt(r)),typeof e!="string"&&(e=Rt(e)),r==e?r:r+":"+e)}function Ut(r){var e={s:{c:0,r:0},e:{c:0,r:0}},t=0,n=0,i=0,o=r.length;for(t=0;n<o&&!((i=r.charCodeAt(n)-64)<1||i>26);++n)t=26*t+i;for(e.s.c=--t,t=0;n<o&&!((i=r.charCodeAt(n)-48)<0||i>9);++n)t=10*t+i;if(e.s.r=--t,n===o||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,t=0;n!=o&&!((i=r.charCodeAt(n)-64)<1||i>26);++n)t=26*t+i;for(e.e.c=--t,t=0;n!=o&&!((i=r.charCodeAt(n)-48)<0||i>9);++n)t=10*t+i;return e.e.r=--t,e}function tx(r,e){var t=r.t=="d"&&e instanceof Date;if(r.z!=null)try{return r.w=Ra(r.z,t?xn(e):e)}catch{}try{return r.w=Ra((r.XF||{}).numFmtId||(t?14:0),t?xn(e):e)}catch{return""+e}}function Ps(r,e,t){return r==null||r.t==null||r.t=="z"?"":r.w!==void 0?r.w:(r.t=="d"&&!r.z&&t&&t.dateNF&&(r.z=t.dateNF),r.t=="e"?Oc[r.v]||r.v:e==null?tx(r,r.v):tx(r,e))}function So(r,e){var t=e&&e.sheet?e.sheet:"Sheet1",n={};return n[t]=r,{SheetNames:[t],Sheets:n}}function XT(r,e,t){var n=t||{},i=r?Array.isArray(r):n.dense,o=r||(i?[]:{}),l=0,c=0;if(o&&n.origin!=null){if(typeof n.origin=="number")l=n.origin;else{var h=typeof n.origin=="string"?wr(n.origin):n.origin;l=h.r,c=h.c}o["!ref"]||(o["!ref"]="A1:A1")}var d={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(o["!ref"]){var m=Ut(o["!ref"]);d.s.c=m.s.c,d.s.r=m.s.r,d.e.c=Math.max(d.e.c,m.e.c),d.e.r=Math.max(d.e.r,m.e.r),l==-1&&(d.e.r=l=m.e.r+1)}for(var _=0;_!=e.length;++_)if(e[_]){if(!Array.isArray(e[_]))throw new Error("aoa_to_sheet expects an array of arrays");for(var y=0;y!=e[_].length;++y)if(!(typeof e[_][y]>"u")){var E={v:e[_][y]},A=l+_,w=c+y;if(d.s.r>A&&(d.s.r=A),d.s.c>w&&(d.s.c=w),d.e.r<A&&(d.e.r=A),d.e.c<w&&(d.e.c=w),e[_][y]&&typeof e[_][y]=="object"&&!Array.isArray(e[_][y])&&!(e[_][y]instanceof Date))E=e[_][y];else if(Array.isArray(E.v)&&(E.f=e[_][y][1],E.v=E.v[0]),E.v===null)if(E.f)E.t="n";else if(n.nullError)E.t="e",E.v=0;else if(n.sheetStubs)E.t="z";else continue;else typeof E.v=="number"?E.t="n":typeof E.v=="boolean"?E.t="b":E.v instanceof Date?(E.z=n.dateNF||Jt[14],n.cellDates?(E.t="d",E.w=Ra(E.z,xn(E.v))):(E.t="n",E.v=xn(E.v),E.w=Ra(E.z,E.v))):E.t="s";if(i)o[A]||(o[A]=[]),o[A][w]&&o[A][w].z&&(E.z=o[A][w].z),o[A][w]=E;else{var S=Rt({c:w,r:A});o[S]&&o[S].z&&(E.z=o[S].z),o[S]=E}}}return d.s.c<1e7&&(o["!ref"]=lr(d)),o}function Yl(r,e){return XT(null,r,e)}function eD(r){return r.read_shift(4,"i")}function xi(r,e){return e||(e=he(4)),e.write_shift(4,r),e}function Zr(r){var e=r.read_shift(4);return e===0?"":r.read_shift(e,"dbcs")}function Tr(r,e){var t=!1;return e==null&&(t=!0,e=he(4+2*r.length)),e.write_shift(4,r.length),r.length>0&&e.write_shift(0,r,"dbcs"),t?e.slice(0,e.l):e}function tD(r){return{ich:r.read_shift(2),ifnt:r.read_shift(2)}}function rD(r,e){return e||(e=he(4)),e.write_shift(2,0),e.write_shift(2,0),e}function Pg(r,e){var t=r.l,n=r.read_shift(1),i=Zr(r),o=[],l={t:i,h:i};if((n&1)!==0){for(var c=r.read_shift(4),h=0;h!=c;++h)o.push(tD(r));l.r=o}else l.r=[{ich:0,ifnt:0}];return r.l=t+e,l}function nD(r,e){var t=!1;return e==null&&(t=!0,e=he(15+4*r.t.length)),e.write_shift(1,0),Tr(r.t,e),t?e.slice(0,e.l):e}var iD=Pg;function sD(r,e){var t=!1;return e==null&&(t=!0,e=he(23+4*r.t.length)),e.write_shift(1,1),Tr(r.t,e),e.write_shift(4,1),rD({},e),t?e.slice(0,e.l):e}function Yn(r){var e=r.read_shift(4),t=r.read_shift(2);return t+=r.read_shift(1)<<16,r.l++,{c:e,iStyleRef:t}}function Ao(r,e){return e==null&&(e=he(8)),e.write_shift(-4,r.c),e.write_shift(3,r.iStyleRef||r.s),e.write_shift(1,0),e}function Io(r){var e=r.read_shift(2);return e+=r.read_shift(1)<<16,r.l++,{c:-1,iStyleRef:e}}function Co(r,e){return e==null&&(e=he(4)),e.write_shift(3,r.iStyleRef||r.s),e.write_shift(1,0),e}var aD=Zr,YT=Tr;function kg(r){var e=r.read_shift(4);return e===0||e===4294967295?"":r.read_shift(e,"dbcs")}function Xh(r,e){var t=!1;return e==null&&(t=!0,e=he(127)),e.write_shift(4,r.length>0?r.length:4294967295),r.length>0&&e.write_shift(0,r,"dbcs"),t?e.slice(0,e.l):e}var oD=Zr,mm=kg,Ng=Xh;function QT(r){var e=r.slice(r.l,r.l+4),t=e[0]&1,n=e[0]&2;r.l+=4;var i=n===0?qh([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):no(e,0)>>2;return t?i/100:i}function JT(r,e){e==null&&(e=he(4));var t=0,n=0,i=r*100;if(r==(r|0)&&r>=-536870912&&r<1<<29?n=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(n=1,t=1),n)e.write_shift(-4,((t?i:r)<<2)+(t+2));else throw new Error("unsupported RkNumber "+r)}function ZT(r){var e={s:{},e:{}};return e.s.r=r.read_shift(4),e.e.r=r.read_shift(4),e.s.c=r.read_shift(4),e.e.c=r.read_shift(4),e}function lD(r,e){return e||(e=he(16)),e.write_shift(4,r.s.r),e.write_shift(4,r.e.r),e.write_shift(4,r.s.c),e.write_shift(4,r.e.c),e}var Ro=ZT,Ql=lD;function Jl(r){if(r.length-r.l<8)throw"XLS Xnum Buffer underflow";return r.read_shift(8,"f")}function vo(r,e){return(e||he(8)).write_shift(8,r,"f")}function uD(r){var e={},t=r.read_shift(1),n=t>>>1,i=r.read_shift(1),o=r.read_shift(2,"i"),l=r.read_shift(1),c=r.read_shift(1),h=r.read_shift(1);switch(r.l++,n){case 0:e.auto=1;break;case 1:e.index=i;var d=_D[i];d&&(e.rgb=hx(d));break;case 2:e.rgb=hx([l,c,h]);break;case 3:e.theme=i;break}return o!=0&&(e.tint=o>0?o/32767:o/32768),e}function Yh(r,e){if(e||(e=he(8)),!r||r.auto)return e.write_shift(4,0),e.write_shift(4,0),e;r.index!=null?(e.write_shift(1,2),e.write_shift(1,r.index)):r.theme!=null?(e.write_shift(1,6),e.write_shift(1,r.theme)):(e.write_shift(1,5),e.write_shift(1,0));var t=r.tint||0;if(t>0?t*=32767:t<0&&(t*=32768),e.write_shift(2,t),!r.rgb||r.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var n=r.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),e.write_shift(1,parseInt(n.slice(0,2),16)),e.write_shift(1,parseInt(n.slice(2,4),16)),e.write_shift(1,parseInt(n.slice(4,6),16)),e.write_shift(1,255)}return e}function cD(r){var e=r.read_shift(1);r.l++;var t={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return t}function fD(r,e){e||(e=he(2));var t=(r.italic?2:0)|(r.strike?8:0)|(r.outline?16:0)|(r.shadow?32:0)|(r.condense?64:0)|(r.extend?128:0);return e.write_shift(1,t),e.write_shift(1,0),e}var e2=2,Pn=3,nh=11,Qh=19,ih=64,hD=65,dD=71,pD=4108,mD=4126,Fr=80,rx={1:{n:"CodePage",t:e2},2:{n:"Category",t:Fr},3:{n:"PresentationFormat",t:Fr},4:{n:"ByteCount",t:Pn},5:{n:"LineCount",t:Pn},6:{n:"ParagraphCount",t:Pn},7:{n:"SlideCount",t:Pn},8:{n:"NoteCount",t:Pn},9:{n:"HiddenCount",t:Pn},10:{n:"MultimediaClipCount",t:Pn},11:{n:"ScaleCrop",t:nh},12:{n:"HeadingPairs",t:pD},13:{n:"TitlesOfParts",t:mD},14:{n:"Manager",t:Fr},15:{n:"Company",t:Fr},16:{n:"LinksUpToDate",t:nh},17:{n:"CharacterCount",t:Pn},19:{n:"SharedDoc",t:nh},22:{n:"HyperlinksChanged",t:nh},23:{n:"AppVersion",t:Pn,p:"version"},24:{n:"DigSig",t:hD},26:{n:"ContentType",t:Fr},27:{n:"ContentStatus",t:Fr},28:{n:"Language",t:Fr},29:{n:"Version",t:Fr},255:{},2147483648:{n:"Locale",t:Qh},2147483651:{n:"Behavior",t:Qh},1919054434:{}},nx={1:{n:"CodePage",t:e2},2:{n:"Title",t:Fr},3:{n:"Subject",t:Fr},4:{n:"Author",t:Fr},5:{n:"Keywords",t:Fr},6:{n:"Comments",t:Fr},7:{n:"Template",t:Fr},8:{n:"LastAuthor",t:Fr},9:{n:"RevNumber",t:Fr},10:{n:"EditTime",t:ih},11:{n:"LastPrinted",t:ih},12:{n:"CreatedDate",t:ih},13:{n:"ModifiedDate",t:ih},14:{n:"PageCount",t:Pn},15:{n:"WordCount",t:Pn},16:{n:"CharCount",t:Pn},17:{n:"Thumbnail",t:dD},18:{n:"Application",t:Fr},19:{n:"DocSecurity",t:Pn},255:{},2147483648:{n:"Locale",t:Qh},2147483651:{n:"Behavior",t:Qh},1919054434:{}};function gD(r){return r.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var vD=gD([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),_D=En(vD),Oc={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},yD={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},sh={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function t2(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function r2(r,e){var t=PO(yD),n=[],i;n[n.length]=ur,n[n.length]=ke("Types",null,{xmlns:Er.CT,"xmlns:xsd":Er.xsd,"xmlns:xsi":Er.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(h){return ke("Default",null,{Extension:h[0],ContentType:h[1]})}));var o=function(h){r[h]&&r[h].length>0&&(i=r[h][0],n[n.length]=ke("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:sh[h][e.bookType]||sh[h].xlsx}))},l=function(h){(r[h]||[]).forEach(function(d){n[n.length]=ke("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:sh[h][e.bookType]||sh[h].xlsx})})},c=function(h){(r[h]||[]).forEach(function(d){n[n.length]=ke("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:t[h][0]})})};return o("workbooks"),l("sheets"),l("charts"),c("themes"),["strs","styles"].forEach(o),["coreprops","extprops","custprops"].forEach(c),c("vba"),c("comments"),c("threadedcomments"),c("drawings"),l("metadata"),c("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var yt={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function n2(r){var e=r.lastIndexOf("/");return r.slice(0,e+1)+"_rels/"+r.slice(e+1)+".rels"}function Il(r){var e=[ur,ke("Relationships",null,{xmlns:Er.RELS})];return jr(r["!id"]).forEach(function(t){e[e.length]=ke("Relationship",null,r["!id"][t])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function It(r,e,t,n,i,o){if(i||(i={}),r["!id"]||(r["!id"]={}),r["!idx"]||(r["!idx"]=1),e<0)for(e=r["!idx"];r["!id"]["rId"+e];++e);if(r["!idx"]=e+1,i.Id="rId"+e,i.Type=n,i.Target=t,[yt.HLINK,yt.XPATH,yt.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),r["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return r["!id"][i.Id]=i,r[("/"+i.Target).replace("//","/")]=i,e}function xD(r){var e=[ur];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var t=0;t<r.length;++t)e.push('  <manifest:file-entry manifest:full-path="'+r[t][0]+'" manifest:media-type="'+r[t][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function ix(r,e,t){return['  <rdf:Description rdf:about="'+r+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(t||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function ED(r,e){return['  <rdf:Description rdf:about="'+r+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function wD(r){var e=[ur];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var t=0;t!=r.length;++t)e.push(ix(r[t][0],r[t][1])),e.push(ED("",r[t][0]));return e.push(ix("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function i2(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+zh.version+"</meta:generator></office:meta></office:document-meta>"}var uo=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function Fp(r,e,t,n,i){i[r]!=null||e==null||e===""||(i[r]=e,e=Ct(e),n[n.length]=t?ke(r,e,t):br(r,e))}function s2(r,e){var t=e||{},n=[ur,ke("cp:coreProperties",null,{"xmlns:cp":Er.CORE_PROPS,"xmlns:dc":Er.dc,"xmlns:dcterms":Er.dcterms,"xmlns:dcmitype":Er.dcmitype,"xmlns:xsi":Er.xsi})],i={};if(!r&&!t.Props)return n.join("");r&&(r.CreatedDate!=null&&Fp("dcterms:created",typeof r.CreatedDate=="string"?r.CreatedDate:pm(r.CreatedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i),r.ModifiedDate!=null&&Fp("dcterms:modified",typeof r.ModifiedDate=="string"?r.ModifiedDate:pm(r.ModifiedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i));for(var o=0;o!=uo.length;++o){var l=uo[o],c=t.Props&&t.Props[l[1]]!=null?t.Props[l[1]]:r?r[l[1]]:null;c===!0?c="1":c===!1?c="0":typeof c=="number"&&(c=String(c)),c!=null&&Fp(l[0],c,null,n,i)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var Cl=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],a2=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function o2(r){var e=[],t=ke;return r||(r={}),r.Application="SheetJS",e[e.length]=ur,e[e.length]=ke("Properties",null,{xmlns:Er.EXT_PROPS,"xmlns:vt":Er.vt}),Cl.forEach(function(n){if(r[n[1]]!==void 0){var i;switch(n[2]){case"string":i=Ct(String(r[n[1]]));break;case"bool":i=r[n[1]]?"true":"false";break}i!==void 0&&(e[e.length]=t(n[0],i))}}),e[e.length]=t("HeadingPairs",t("vt:vector",t("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+t("vt:variant",t("vt:i4",String(r.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=t("TitlesOfParts",t("vt:vector",r.SheetNames.map(function(n){return"<vt:lpstr>"+Ct(n)+"</vt:lpstr>"}).join(""),{size:r.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function l2(r){var e=[ur,ke("Properties",null,{xmlns:Er.CUST_PROPS,"xmlns:vt":Er.vt})];if(!r)return e.join("");var t=1;return jr(r).forEach(function(i){++t,e[e.length]=ke("property",BO(r[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:t,name:Ct(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var sx={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function TD(r,e){var t=[];return jr(sx).map(function(n){for(var i=0;i<uo.length;++i)if(uo[i][1]==n)return uo[i];for(i=0;i<Cl.length;++i)if(Cl[i][1]==n)return Cl[i];throw n}).forEach(function(n){if(r[n[1]]!=null){var i=e&&e.Props&&e.Props[n[1]]!=null?e.Props[n[1]]:r[n[1]];switch(n[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),t.push(br(sx[n[1]]||n[1],i))}}),ke("DocumentProperties",t.join(""),{xmlns:Nn.o})}function SD(r,e){var t=["Worksheets","SheetNames"],n="CustomDocumentProperties",i=[];return r&&jr(r).forEach(function(o){if(Object.prototype.hasOwnProperty.call(r,o)){for(var l=0;l<uo.length;++l)if(o==uo[l][1])return;for(l=0;l<Cl.length;++l)if(o==Cl[l][1])return;for(l=0;l<t.length;++l)if(o==t[l])return;var c=r[o],h="string";typeof c=="number"?(h="float",c=String(c)):c===!0||c===!1?(h="boolean",c=c?"1":"0"):c=String(c),i.push(ke(Gy(o),c,{"dt:dt":h}))}}),e&&jr(e).forEach(function(o){if(Object.prototype.hasOwnProperty.call(e,o)&&!(r&&Object.prototype.hasOwnProperty.call(r,o))){var l=e[o],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l instanceof Date?(c="dateTime.tz",l=l.toISOString()):l=String(l),i.push(ke(Gy(o),l,{"dt:dt":c}))}}),"<"+n+' xmlns="'+Nn.o+'">'+i.join("")+"</"+n+">"}function AD(r){var e=typeof r=="string"?new Date(Date.parse(r)):r,t=e.getTime()/1e3+11644473600,n=t%Math.pow(2,32),i=(t-n)/Math.pow(2,32);n*=1e7,i*=1e7;var o=n/Math.pow(2,32)|0;o>0&&(n=n%Math.pow(2,32),i+=o);var l=he(8);return l.write_shift(4,n),l.write_shift(4,i),l}function ax(r,e){var t=he(4),n=he(4);switch(t.write_shift(4,r==80?31:r),r){case 3:n.write_shift(-4,e);break;case 5:n=he(8),n.write_shift(8,e,"f");break;case 11:n.write_shift(4,e?1:0);break;case 64:n=AD(e);break;case 31:case 80:for(n=he(4+2*(e.length+1)+(e.length%2?0:2)),n.write_shift(4,e.length+1),n.write_shift(0,e,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+r+" "+e)}return Vr([t,n])}var u2=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function ID(r){switch(typeof r){case"boolean":return 11;case"number":return(r|0)==r?3:5;case"string":return 31;case"object":if(r instanceof Date)return 64;break}return-1}function ox(r,e,t){var n=he(8),i=[],o=[],l=8,c=0,h=he(8),d=he(8);if(h.write_shift(4,2),h.write_shift(4,1200),d.write_shift(4,1),o.push(h),i.push(d),l+=8+h.length,!e){d=he(8),d.write_shift(4,0),i.unshift(d);var m=[he(4)];for(m[0].write_shift(4,r.length),c=0;c<r.length;++c){var _=r[c][0];for(h=he(8+2*(_.length+1)+(_.length%2?0:2)),h.write_shift(4,c+2),h.write_shift(4,_.length+1),h.write_shift(0,_,"dbcs");h.l!=h.length;)h.write_shift(1,0);m.push(h)}h=Vr(m),o.unshift(h),l+=8+h.length}for(c=0;c<r.length;++c)if(!(e&&!e[r[c][0]])&&!(u2.indexOf(r[c][0])>-1||a2.indexOf(r[c][0])>-1)&&r[c][1]!=null){var y=r[c][1],E=0;if(e){E=+e[r[c][0]];var A=t[E];if(A.p=="version"&&typeof y=="string"){var w=y.split(".");y=(+w[0]<<16)+(+w[1]||0)}h=ax(A.t,y)}else{var S=ID(y);S==-1&&(S=31,y=String(y)),h=ax(S,y)}o.push(h),d=he(8),d.write_shift(4,e?E:2+c),i.push(d),l+=8+h.length}var H=8*(o.length+1);for(c=0;c<o.length;++c)i[c].write_shift(4,H),H+=o[c].length;return n.write_shift(4,l),n.write_shift(4,o.length),Vr([n].concat(i).concat(o))}function lx(r,e,t,n,i,o){var l=he(i?68:48),c=[l];l.write_shift(2,65534),l.write_shift(2,0),l.write_shift(4,842412599),l.write_shift(16,kt.utils.consts.HEADER_CLSID,"hex"),l.write_shift(4,i?2:1),l.write_shift(16,e,"hex"),l.write_shift(4,i?68:48);var h=ox(r,t,n);if(c.push(h),i){var d=ox(i,null,null);l.write_shift(16,o,"hex"),l.write_shift(4,68+h.length),c.push(d)}return Vr(c)}function CD(r,e){e||(e=he(r));for(var t=0;t<r;++t)e.write_shift(1,0);return e}function RD(r,e){return r.read_shift(e)===1}function on(r,e){return e||(e=he(2)),e.write_shift(2,+!!r),e}function c2(r){return r.read_shift(2,"u")}function Kn(r,e){return e||(e=he(2)),e.write_shift(2,r),e}function f2(r,e,t){return t||(t=he(2)),t.write_shift(1,e=="e"?+r:+!!r),t.write_shift(1,e=="e"?1:0),t}function h2(r,e,t){var n=r.read_shift(t&&t.biff>=12?2:1),i="sbcs-cont";if(t&&t.biff>=8,!t||t.biff==8){var o=r.read_shift(1);o&&(i="dbcs-cont")}else t.biff==12&&(i="wstr");t.biff>=2&&t.biff<=5&&(i="cpstr");var l=n?r.read_shift(n,i):"";return l}function PD(r){var e=r.t||"",t=he(3);t.write_shift(2,e.length),t.write_shift(1,1);var n=he(2*e.length);n.write_shift(2*e.length,e,"utf16le");var i=[t,n];return Vr(i)}function kD(r,e,t){var n;if(t){if(t.biff>=2&&t.biff<=5)return r.read_shift(e,"cpstr");if(t.biff>=12)return r.read_shift(e,"dbcs-cont")}var i=r.read_shift(1);return i===0?n=r.read_shift(e,"sbcs-cont"):n=r.read_shift(e,"dbcs-cont"),n}function ND(r,e,t){var n=r.read_shift(t&&t.biff==2?1:2);return n===0?(r.l++,""):kD(r,n,t)}function OD(r,e,t){if(t.biff>5)return ND(r,e,t);var n=r.read_shift(1);return n===0?(r.l++,""):r.read_shift(n,t.biff<=4||!r.lens?"cpstr":"sbcs-cont")}function d2(r,e,t){return t||(t=he(3+2*r.length)),t.write_shift(2,r.length),t.write_shift(1,1),t.write_shift(31,r,"utf16le"),t}function ux(r,e){e||(e=he(6+r.length*2)),e.write_shift(4,1+r.length);for(var t=0;t<r.length;++t)e.write_shift(2,r.charCodeAt(t));return e.write_shift(2,0),e}function DD(r){var e=he(512),t=0,n=r.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var i=n.indexOf("#"),o=i>-1?31:23;switch(n.charAt(0)){case"#":o=28;break;case".":o&=-3;break}e.write_shift(4,2),e.write_shift(4,o);var l=[8,6815827,6619237,4849780,83];for(t=0;t<l.length;++t)e.write_shift(4,l[t]);if(o==28)n=n.slice(1),ux(n,e);else if(o&2){for(l="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),t=0;t<l.length;++t)e.write_shift(1,parseInt(l[t],16));var c=i>-1?n.slice(0,i):n;for(e.write_shift(4,2*(c.length+1)),t=0;t<c.length;++t)e.write_shift(2,c.charCodeAt(t));e.write_shift(2,0),o&8&&ux(i>-1?n.slice(i+1):"",e)}else{for(l="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),t=0;t<l.length;++t)e.write_shift(1,parseInt(l[t],16));for(var h=0;n.slice(h*3,h*3+3)=="../"||n.slice(h*3,h*3+3)=="..\\";)++h;for(e.write_shift(2,h),e.write_shift(4,n.length-3*h+1),t=0;t<n.length-3*h;++t)e.write_shift(1,n.charCodeAt(t+3*h)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),t=0;t<6;++t)e.write_shift(4,0)}return e.slice(0,e.l)}function _o(r,e,t,n){return n||(n=he(6)),n.write_shift(2,r),n.write_shift(2,e),n.write_shift(2,t||0),n}function FD(r,e,t){var n=t.biff>8?4:2,i=r.read_shift(n),o=r.read_shift(n,"i"),l=r.read_shift(n,"i");return[i,o,l]}function LD(r){var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(2),i=r.read_shift(2);return{s:{c:n,r:e},e:{c:i,r:t}}}function p2(r,e){return e||(e=he(8)),e.write_shift(2,r.s.r),e.write_shift(2,r.e.r),e.write_shift(2,r.s.c),e.write_shift(2,r.e.c),e}function Og(r,e,t){var n=1536,i=16;switch(t.bookType){case"biff8":break;case"biff5":n=1280,i=8;break;case"biff4":n=4,i=6;break;case"biff3":n=3,i=6;break;case"biff2":n=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var o=he(i);return o.write_shift(2,n),o.write_shift(2,e),i>4&&o.write_shift(2,29282),i>6&&o.write_shift(2,1997),i>8&&(o.write_shift(2,49161),o.write_shift(2,1),o.write_shift(2,1798),o.write_shift(2,0)),o}function MD(r,e){var t=!e||e.biff==8,n=he(t?112:54);for(n.write_shift(e.biff==8?2:1,7),t&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(t?0:536870912));n.l<n.length;)n.write_shift(1,t?0:32);return n}function VD(r,e){var t=!e||e.biff>=8?2:1,n=he(8+t*r.name.length);n.write_shift(4,r.pos),n.write_shift(1,r.hs||0),n.write_shift(1,r.dt),n.write_shift(1,r.name.length),e.biff>=8&&n.write_shift(1,1),n.write_shift(t*r.name.length,r.name,e.biff<8?"sbcs":"utf16le");var i=n.slice(0,n.l);return i.l=n.l,i}function bD(r,e){var t=he(8);t.write_shift(4,r.Count),t.write_shift(4,r.Unique);for(var n=[],i=0;i<r.length;++i)n[i]=PD(r[i]);var o=Vr([t].concat(n));return o.parts=[t.length].concat(n.map(function(l){return l.length})),o}function UD(){var r=he(18);return r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,29280),r.write_shift(2,17600),r.write_shift(2,56),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,1),r.write_shift(2,500),r}function BD(r){var e=he(18),t=1718;return r&&r.RTL&&(t|=64),e.write_shift(2,t),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function jD(r,e){var t=r.name||"Arial",n=e&&e.biff==5,i=n?15+t.length:16+2*t.length,o=he(i);return o.write_shift(2,r.sz*20),o.write_shift(4,0),o.write_shift(2,400),o.write_shift(4,0),o.write_shift(2,0),o.write_shift(1,t.length),n||o.write_shift(1,1),o.write_shift((n?1:2)*t.length,t,n?"sbcs":"utf16le"),o}function zD(r,e,t,n){var i=he(10);return _o(r,e,n,i),i.write_shift(4,t),i}function HD(r,e,t,n,i){var o=!i||i.biff==8,l=he(8+ +o+(1+o)*t.length);return _o(r,e,n,l),l.write_shift(2,t.length),o&&l.write_shift(1,1),l.write_shift((1+o)*t.length,t,o?"utf16le":"sbcs"),l}function WD(r,e,t,n){var i=t&&t.biff==5;n||(n=he(i?3+e.length:5+2*e.length)),n.write_shift(2,r),n.write_shift(i?1:2,e.length),i||n.write_shift(1,1),n.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var o=n.length>n.l?n.slice(0,n.l):n;return o.l==null&&(o.l=o.length),o}function $D(r,e){var t=e.biff==8||!e.biff?4:2,n=he(2*t+6);return n.write_shift(t,r.s.r),n.write_shift(t,r.e.r+1),n.write_shift(2,r.s.c),n.write_shift(2,r.e.c+1),n.write_shift(2,0),n}function cx(r,e,t,n){var i=t&&t.biff==5;n||(n=he(i?16:20)),n.write_shift(2,0),r.style?(n.write_shift(2,r.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,r.numFmtId||0),n.write_shift(2,e<<4));var o=0;return r.numFmtId>0&&i&&(o|=1024),n.write_shift(4,o),n.write_shift(4,0),i||n.write_shift(4,0),n.write_shift(2,0),n}function GD(r){var e=he(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function KD(r,e,t,n,i,o){var l=he(8);return _o(r,e,n,l),f2(t,o,l),l}function qD(r,e,t,n){var i=he(14);return _o(r,e,n,i),vo(t,i),i}function XD(r,e,t){if(t.biff<8)return YD(r,e,t);for(var n=[],i=r.l+e,o=r.read_shift(t.biff>8?4:2);o--!==0;)n.push(FD(r,t.biff>8?12:6,t));if(r.l!=i)throw new Error("Bad ExternSheet: "+r.l+" != "+i);return n}function YD(r,e,t){r[r.l+1]==3&&r[r.l]++;var n=h2(r,e,t);return n.charCodeAt(0)==3?n.slice(1):n}function QD(r){var e=he(2+r.length*8);e.write_shift(2,r.length);for(var t=0;t<r.length;++t)p2(r[t],e);return e}function JD(r){var e=he(24),t=wr(r[0]);e.write_shift(2,t.r),e.write_shift(2,t.r),e.write_shift(2,t.c),e.write_shift(2,t.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(n[i],16));return Vr([e,DD(r[1])])}function ZD(r){var e=r[1].Tooltip,t=he(10+2*(e.length+1));t.write_shift(2,2048);var n=wr(r[0]);t.write_shift(2,n.r),t.write_shift(2,n.r),t.write_shift(2,n.c),t.write_shift(2,n.c);for(var i=0;i<e.length;++i)t.write_shift(2,e.charCodeAt(i));return t.write_shift(2,0),t}function eF(r){return r||(r=he(4)),r.write_shift(2,1),r.write_shift(2,1),r}function tF(r,e,t){if(!t.cellStyles)return qi(r,e);var n=t&&t.biff>=12?4:2,i=r.read_shift(n),o=r.read_shift(n),l=r.read_shift(n),c=r.read_shift(n),h=r.read_shift(2);n==2&&(r.l+=2);var d={s:i,e:o,w:l,ixfe:c,flags:h};return(t.biff>=5||!t.biff)&&(d.level=h>>8&7),d}function rF(r,e){var t=he(12);t.write_shift(2,e),t.write_shift(2,e),t.write_shift(2,r.width*256),t.write_shift(2,0);var n=0;return r.hidden&&(n|=1),t.write_shift(1,n),n=r.level||0,t.write_shift(1,n),t.write_shift(2,0),t}function nF(r){for(var e=he(2*r),t=0;t<r;++t)e.write_shift(2,t+1);return e}function iF(r,e,t){var n=he(15);return Fc(n,r,e),n.write_shift(8,t,"f"),n}function sF(r,e,t){var n=he(9);return Fc(n,r,e),n.write_shift(2,t),n}var aF=(function(){var r={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=Eg({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function t(c,h){var d=[],m=go(1);switch(h.type){case"base64":m=mi(Rs(c));break;case"binary":m=mi(c);break;case"buffer":case"array":m=c;break}kn(m,0);var _=m.read_shift(1),y=!!(_&136),E=!1,A=!1;switch(_){case 2:break;case 3:break;case 48:E=!0,y=!0;break;case 49:E=!0,y=!0;break;case 131:break;case 139:break;case 140:A=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+_.toString(16))}var w=0,S=521;_==2&&(w=m.read_shift(2)),m.l+=3,_!=2&&(w=m.read_shift(4)),w>1048576&&(w=1e6),_!=2&&(S=m.read_shift(2));var H=m.read_shift(2),z=h.codepage||1252;_!=2&&(m.l+=16,m.read_shift(1),m[m.l]!==0&&(z=r[m[m.l]]),m.l+=1,m.l+=2),A&&(m.l+=36);for(var W=[],Z={},fe=Math.min(m.length,_==2?521:S-10-(E?264:0)),ge=A?32:11;m.l<fe&&m[m.l]!=13;)switch(Z={},Z.name=Hh.utils.decode(z,m.slice(m.l,m.l+ge)).replace(/[\u0000\r\n].*$/g,""),m.l+=ge,Z.type=String.fromCharCode(m.read_shift(1)),_!=2&&!A&&(Z.offset=m.read_shift(4)),Z.len=m.read_shift(1),_==2&&(Z.offset=m.read_shift(2)),Z.dec=m.read_shift(1),Z.name.length&&W.push(Z),_!=2&&(m.l+=A?13:14),Z.type){case"B":(!E||Z.len!=8)&&h.WTF&&console.log("Skipping "+Z.name+":"+Z.type);break;case"G":case"P":h.WTF&&console.log("Skipping "+Z.name+":"+Z.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+Z.type)}if(m[m.l]!==13&&(m.l=S-1),m.read_shift(1)!==13)throw new Error("DBF Terminator not found "+m.l+" "+m[m.l]);m.l=S;var k=0,P=0;for(d[0]=[],P=0;P!=W.length;++P)d[0][P]=W[P].name;for(;w-- >0;){if(m[m.l]===42){m.l+=H;continue}for(++m.l,d[++k]=[],P=0,P=0;P!=W.length;++P){var C=m.slice(m.l,m.l+W[P].len);m.l+=W[P].len,kn(C,0);var L=Hh.utils.decode(z,C);switch(W[P].type){case"C":L.trim().length&&(d[k][P]=L.replace(/\s+$/,""));break;case"D":L.length===8?d[k][P]=new Date(+L.slice(0,4),+L.slice(4,6)-1,+L.slice(6,8)):d[k][P]=L;break;case"F":d[k][P]=parseFloat(L.trim());break;case"+":case"I":d[k][P]=A?C.read_shift(-4,"i")^2147483648:C.read_shift(4,"i");break;case"L":switch(L.trim().toUpperCase()){case"Y":case"T":d[k][P]=!0;break;case"N":case"F":d[k][P]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+L+"|")}break;case"M":if(!y)throw new Error("DBF Unexpected MEMO for type "+_.toString(16));d[k][P]="##MEMO##"+(A?parseInt(L.trim(),10):C.read_shift(4));break;case"N":L=L.replace(/\u0000/g,"").trim(),L&&L!="."&&(d[k][P]=+L||0);break;case"@":d[k][P]=new Date(C.read_shift(-8,"f")-621356832e5);break;case"T":d[k][P]=new Date((C.read_shift(4)-2440588)*864e5+C.read_shift(4));break;case"Y":d[k][P]=C.read_shift(4,"i")/1e4+C.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":d[k][P]=-C.read_shift(-8,"f");break;case"B":if(E&&W[P].len==8){d[k][P]=C.read_shift(8,"f");break}case"G":case"P":C.l+=W[P].len;break;case"0":if(W[P].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+W[P].type)}}}if(_!=2&&m.l<m.length&&m[m.l++]!=26)throw new Error("DBF EOF Marker missing "+(m.l-1)+" of "+m.length+" "+m[m.l-1].toString(16));return h&&h.sheetRows&&(d=d.slice(0,h.sheetRows)),h.DBF=W,d}function n(c,h){var d=h||{};d.dateNF||(d.dateNF="yyyymmdd");var m=Yl(t(c,d),d);return m["!cols"]=d.DBF.map(function(_){return{wch:_.len,DBF:_}}),delete d.DBF,m}function i(c,h){try{return So(n(c,h),h)}catch(d){if(h&&h.WTF)throw d}return{SheetNames:[],Sheets:{}}}var o={B:8,C:250,L:1,D:8,"?":0,"":0};function l(c,h){var d=h||{};if(+d.codepage>=0&&lc(+d.codepage),d.type=="string")throw new Error("Cannot write DBF to JS string");var m=yn(),_=r0(c,{header:1,raw:!0,cellDates:!0}),y=_[0],E=_.slice(1),A=c["!cols"]||[],w=0,S=0,H=0,z=1;for(w=0;w<y.length;++w){if(((A[w]||{}).DBF||{}).name){y[w]=A[w].DBF.name,++H;continue}if(y[w]!=null){if(++H,typeof y[w]=="number"&&(y[w]=y[w].toString(10)),typeof y[w]!="string")throw new Error("DBF Invalid column name "+y[w]+" |"+typeof y[w]+"|");if(y.indexOf(y[w])!==w){for(S=0;S<1024;++S)if(y.indexOf(y[w]+"_"+S)==-1){y[w]+="_"+S;break}}}}var W=Ut(c["!ref"]),Z=[],fe=[],ge=[];for(w=0;w<=W.e.c-W.s.c;++w){var k="",P="",C=0,L=[];for(S=0;S<E.length;++S)E[S][w]!=null&&L.push(E[S][w]);if(L.length==0||y[w]==null){Z[w]="?";continue}for(S=0;S<L.length;++S){switch(typeof L[S]){case"number":P="B";break;case"string":P="C";break;case"boolean":P="L";break;case"object":P=L[S]instanceof Date?"D":"C";break;default:P="C"}C=Math.max(C,String(L[S]).length),k=k&&k!=P?"C":P}C>250&&(C=250),P=((A[w]||{}).DBF||{}).type,P=="C"&&A[w].DBF.len>C&&(C=A[w].DBF.len),k=="B"&&P=="N"&&(k="N",ge[w]=A[w].DBF.dec,C=A[w].DBF.len),fe[w]=k=="C"||P=="N"?C:o[k]||0,z+=fe[w],Z[w]=k}var V=m.next(32);for(V.write_shift(4,318902576),V.write_shift(4,E.length),V.write_shift(2,296+32*H),V.write_shift(2,z),w=0;w<4;++w)V.write_shift(4,0);for(V.write_shift(4,0|(+e[gT]||3)<<8),w=0,S=0;w<y.length;++w)if(y[w]!=null){var j=m.next(32),F=(y[w].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);j.write_shift(1,F,"sbcs"),j.write_shift(1,Z[w]=="?"?"C":Z[w],"sbcs"),j.write_shift(4,S),j.write_shift(1,fe[w]||o[Z[w]]||0),j.write_shift(1,ge[w]||0),j.write_shift(1,2),j.write_shift(4,0),j.write_shift(1,0),j.write_shift(4,0),j.write_shift(4,0),S+=fe[w]||o[Z[w]]||0}var qe=m.next(264);for(qe.write_shift(4,13),w=0;w<65;++w)qe.write_shift(4,0);for(w=0;w<E.length;++w){var We=m.next(z);for(We.write_shift(1,0),S=0;S<y.length;++S)if(y[S]!=null)switch(Z[S]){case"L":We.write_shift(1,E[w][S]==null?63:E[w][S]?84:70);break;case"B":We.write_shift(8,E[w][S]||0,"f");break;case"N":var ut="0";for(typeof E[w][S]=="number"&&(ut=E[w][S].toFixed(ge[S]||0)),H=0;H<fe[S]-ut.length;++H)We.write_shift(1,32);We.write_shift(1,ut,"sbcs");break;case"D":E[w][S]?(We.write_shift(4,("0000"+E[w][S].getFullYear()).slice(-4),"sbcs"),We.write_shift(2,("00"+(E[w][S].getMonth()+1)).slice(-2),"sbcs"),We.write_shift(2,("00"+E[w][S].getDate()).slice(-2),"sbcs")):We.write_shift(8,"00000000","sbcs");break;case"C":var Xe=String(E[w][S]!=null?E[w][S]:"").slice(0,fe[S]);for(We.write_shift(1,Xe,"sbcs"),H=0;H<fe[S]-Xe.length;++H)We.write_shift(1,32);break}}return m.next(1).write_shift(1,26),m.end()}return{to_workbook:i,to_sheet:n,from_sheet:l}})(),oF=(function(){var r={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+jr(r).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),t=function(y,E){var A=r[E];return typeof A=="number"?Fy(A):A},n=function(y,E,A){var w=E.charCodeAt(0)-32<<4|A.charCodeAt(0)-48;return w==59?y:Fy(w)};r["|"]=254;function i(y,E){switch(E.type){case"base64":return o(Rs(y),E);case"binary":return o(y,E);case"buffer":return o(Et&&Buffer.isBuffer(y)?y.toString("binary"):Pc(y),E);case"array":return o(b0(y),E)}throw new Error("Unrecognized type "+E.type)}function o(y,E){var A=y.split(/[\n\r]+/),w=-1,S=-1,H=0,z=0,W=[],Z=[],fe=null,ge={},k=[],P=[],C=[],L=0,V;for(+E.codepage>=0&&lc(+E.codepage);H!==A.length;++H){L=0;var j=A[H].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,t),F=j.replace(/;;/g,"\0").split(";").map(function(K){return K.replace(/\u0000/g,";")}),qe=F[0],We;if(j.length>0)switch(qe){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":F[1].charAt(0)=="P"&&Z.push(j.slice(3).replace(/;;/g,";"));break;case"C":var ut=!1,Xe=!1,Te=!1,Le=!1,Fe=-1,J=-1;for(z=1;z<F.length;++z)switch(F[z].charAt(0)){case"A":break;case"X":S=parseInt(F[z].slice(1))-1,Xe=!0;break;case"Y":for(w=parseInt(F[z].slice(1))-1,Xe||(S=0),V=W.length;V<=w;++V)W[V]=[];break;case"K":We=F[z].slice(1),We.charAt(0)==='"'?We=We.slice(1,We.length-1):We==="TRUE"?We=!0:We==="FALSE"?We=!1:isNaN(Es(We))?isNaN(cc(We).getDate())||(We=ln(We)):(We=Es(We),fe!==null&&RT(fe)&&(We=OT(We))),ut=!0;break;case"E":Le=!0;var O=s6(F[z].slice(1),{r:w,c:S});W[w][S]=[W[w][S],O];break;case"S":Te=!0,W[w][S]=[W[w][S],"S5S"];break;case"G":break;case"R":Fe=parseInt(F[z].slice(1))-1;break;case"C":J=parseInt(F[z].slice(1))-1;break;default:if(E&&E.WTF)throw new Error("SYLK bad record "+j)}if(ut&&(W[w][S]&&W[w][S].length==2?W[w][S][0]=We:W[w][S]=We,fe=null),Te){if(Le)throw new Error("SYLK shared formula cannot have own formula");var Y=Fe>-1&&W[Fe][J];if(!Y||!Y[1])throw new Error("SYLK shared formula cannot find base");W[w][S][1]=a6(Y[1],{r:w-Fe,c:S-J})}break;case"F":var q=0;for(z=1;z<F.length;++z)switch(F[z].charAt(0)){case"X":S=parseInt(F[z].slice(1))-1,++q;break;case"Y":for(w=parseInt(F[z].slice(1))-1,V=W.length;V<=w;++V)W[V]=[];break;case"M":L=parseInt(F[z].slice(1))/20;break;case"F":break;case"G":break;case"P":fe=Z[parseInt(F[z].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(C=F[z].slice(1).split(" "),V=parseInt(C[0],10);V<=parseInt(C[1],10);++V)L=parseInt(C[2],10),P[V-1]=L===0?{hidden:!0}:{wch:L},Dg(P[V-1]);break;case"C":S=parseInt(F[z].slice(1))-1,P[S]||(P[S]={});break;case"R":w=parseInt(F[z].slice(1))-1,k[w]||(k[w]={}),L>0?(k[w].hpt=L,k[w].hpx=y2(L)):L===0&&(k[w].hidden=!0);break;default:if(E&&E.WTF)throw new Error("SYLK bad record "+j)}q<1&&(fe=null);break;default:if(E&&E.WTF)throw new Error("SYLK bad record "+j)}}return k.length>0&&(ge["!rows"]=k),P.length>0&&(ge["!cols"]=P),E&&E.sheetRows&&(W=W.slice(0,E.sheetRows)),[W,ge]}function l(y,E){var A=i(y,E),w=A[0],S=A[1],H=Yl(w,E);return jr(S).forEach(function(z){H[z]=S[z]}),H}function c(y,E){return So(l(y,E),E)}function h(y,E,A,w){var S="C;Y"+(A+1)+";X"+(w+1)+";K";switch(y.t){case"n":S+=y.v||0,y.f&&!y.F&&(S+=";E"+Lg(y.f,{r:A,c:w}));break;case"b":S+=y.v?"TRUE":"FALSE";break;case"e":S+=y.w||y.v;break;case"d":S+='"'+(y.w||y.v)+'"';break;case"s":S+='"'+y.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return S}function d(y,E){E.forEach(function(A,w){var S="F;W"+(w+1)+" "+(w+1)+" ";A.hidden?S+="0":(typeof A.width=="number"&&!A.wpx&&(A.wpx=Jh(A.width)),typeof A.wpx=="number"&&!A.wch&&(A.wch=Zh(A.wpx)),typeof A.wch=="number"&&(S+=Math.round(A.wch))),S.charAt(S.length-1)!=" "&&y.push(S)})}function m(y,E){E.forEach(function(A,w){var S="F;";A.hidden?S+="M0;":A.hpt?S+="M"+20*A.hpt+";":A.hpx&&(S+="M"+20*e0(A.hpx)+";"),S.length>2&&y.push(S+"R"+(w+1))})}function _(y,E){var A=["ID;PWXL;N;E"],w=[],S=Ut(y["!ref"]),H,z=Array.isArray(y),W=`\r
`;A.push("P;PGeneral"),A.push("F;P0;DG0G8;M255"),y["!cols"]&&d(A,y["!cols"]),y["!rows"]&&m(A,y["!rows"]),A.push("B;Y"+(S.e.r-S.s.r+1)+";X"+(S.e.c-S.s.c+1)+";D"+[S.s.c,S.s.r,S.e.c,S.e.r].join(" "));for(var Z=S.s.r;Z<=S.e.r;++Z)for(var fe=S.s.c;fe<=S.e.c;++fe){var ge=Rt({r:Z,c:fe});H=z?(y[Z]||[])[fe]:y[ge],!(!H||H.v==null&&(!H.f||H.F))&&w.push(h(H,y,Z,fe))}return A.join(W)+W+w.join(W)+W+"E"+W}return{to_workbook:c,to_sheet:l,from_sheet:_}})(),lF=(function(){function r(o,l){switch(l.type){case"base64":return e(Rs(o),l);case"binary":return e(o,l);case"buffer":return e(Et&&Buffer.isBuffer(o)?o.toString("binary"):Pc(o),l);case"array":return e(b0(o),l)}throw new Error("Unrecognized type "+l.type)}function e(o,l){for(var c=o.split(`
`),h=-1,d=-1,m=0,_=[];m!==c.length;++m){if(c[m].trim()==="BOT"){_[++h]=[],d=0;continue}if(!(h<0)){var y=c[m].trim().split(","),E=y[0],A=y[1];++m;for(var w=c[m]||"";(w.match(/["]/g)||[]).length&1&&m<c.length-1;)w+=`
`+c[++m];switch(w=w.trim(),+E){case-1:if(w==="BOT"){_[++h]=[],d=0;continue}else if(w!=="EOD")throw new Error("Unrecognized DIF special command "+w);break;case 0:w==="TRUE"?_[h][d]=!0:w==="FALSE"?_[h][d]=!1:isNaN(Es(A))?isNaN(cc(A).getDate())?_[h][d]=A:_[h][d]=ln(A):_[h][d]=Es(A),++d;break;case 1:w=w.slice(1,w.length-1),w=w.replace(/""/g,'"'),w&&w.match(/^=".*"$/)&&(w=w.slice(2,-1)),_[h][d++]=w!==""?w:null;break}if(w==="EOD")break}}return l&&l.sheetRows&&(_=_.slice(0,l.sheetRows)),_}function t(o,l){return Yl(r(o,l),l)}function n(o,l){return So(t(o,l),l)}var i=(function(){var o=function(h,d,m,_,y){h.push(d),h.push(m+","+_),h.push('"'+y.replace(/"/g,'""')+'"')},l=function(h,d,m,_){h.push(d+","+m),h.push(d==1?'"'+_.replace(/"/g,'""')+'"':_)};return function(h){var d=[],m=Ut(h["!ref"]),_,y=Array.isArray(h);o(d,"TABLE",0,1,"sheetjs"),o(d,"VECTORS",0,m.e.r-m.s.r+1,""),o(d,"TUPLES",0,m.e.c-m.s.c+1,""),o(d,"DATA",0,0,"");for(var E=m.s.r;E<=m.e.r;++E){l(d,-1,0,"BOT");for(var A=m.s.c;A<=m.e.c;++A){var w=Rt({r:E,c:A});if(_=y?(h[E]||[])[A]:h[w],!_){l(d,1,0,"");continue}switch(_.t){case"n":var S=_.w;!S&&_.v!=null&&(S=_.v),S==null?_.f&&!_.F?l(d,1,0,"="+_.f):l(d,1,0,""):l(d,0,S,"V");break;case"b":l(d,0,_.v?1:0,_.v?"TRUE":"FALSE");break;case"s":l(d,1,0,isNaN(_.v)?_.v:'="'+_.v+'"');break;case"d":_.w||(_.w=Ra(_.z||Jt[14],xn(ln(_.v)))),l(d,0,_.w,"V");break;default:l(d,1,0,"")}}}l(d,-1,0,"EOD");var H=`\r
`,z=d.join(H);return z}})();return{to_workbook:n,to_sheet:t,from_sheet:i}})(),m2=(function(){function r(_){return _.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(_){return _.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function t(_,y){for(var E=_.split(`
`),A=-1,w=-1,S=0,H=[];S!==E.length;++S){var z=E[S].trim().split(":");if(z[0]==="cell"){var W=wr(z[1]);if(H.length<=W.r)for(A=H.length;A<=W.r;++A)H[A]||(H[A]=[]);switch(A=W.r,w=W.c,z[2]){case"t":H[A][w]=r(z[3]);break;case"v":H[A][w]=+z[3];break;case"vtf":var Z=z[z.length-1];case"vtc":switch(z[3]){case"nl":H[A][w]=!!+z[4];break;default:H[A][w]=+z[4];break}z[2]=="vtf"&&(H[A][w]=[H[A][w],Z])}}}return y&&y.sheetRows&&(H=H.slice(0,y.sheetRows)),H}function n(_,y){return Yl(t(_,y),y)}function i(_,y){return So(n(_,y),y)}var o=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),l=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,c=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),h="--SocialCalcSpreadsheetControlSave--";function d(_){if(!_||!_["!ref"])return"";for(var y=[],E=[],A,w="",S=Fn(_["!ref"]),H=Array.isArray(_),z=S.s.r;z<=S.e.r;++z)for(var W=S.s.c;W<=S.e.c;++W)if(w=Rt({r:z,c:W}),A=H?(_[z]||[])[W]:_[w],!(!A||A.v==null||A.t==="z")){switch(E=["cell",w,"t"],A.t){case"s":case"str":E.push(e(A.v));break;case"n":A.f?(E[2]="vtf",E[3]="n",E[4]=A.v,E[5]=e(A.f)):(E[2]="v",E[3]=A.v);break;case"b":E[2]="vt"+(A.f?"f":"c"),E[3]="nl",E[4]=A.v?"1":"0",E[5]=e(A.f||(A.v?"TRUE":"FALSE"));break;case"d":var Z=xn(ln(A.v));E[2]="vtc",E[3]="nd",E[4]=""+Z,E[5]=A.w||Ra(A.z||Jt[14],Z);break;case"e":continue}y.push(E.join(":"))}return y.push("sheet:c:"+(S.e.c-S.s.c+1)+":r:"+(S.e.r-S.s.r+1)+":tvf:1"),y.push("valueformat:1:text-wiki"),y.join(`
`)}function m(_){return[o,l,c,l,d(_),h].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:m}})(),uF=(function(){function r(m,_,y,E,A){A.raw?_[y][E]=m:m===""||(m==="TRUE"?_[y][E]=!0:m==="FALSE"?_[y][E]=!1:isNaN(Es(m))?isNaN(cc(m).getDate())?_[y][E]=m:_[y][E]=ln(m):_[y][E]=Es(m))}function e(m,_){var y=_||{},E=[];if(!m||m.length===0)return E;for(var A=m.split(/[\r\n]/),w=A.length-1;w>=0&&A[w].length===0;)--w;for(var S=10,H=0,z=0;z<=w;++z)H=A[z].indexOf(" "),H==-1?H=A[z].length:H++,S=Math.max(S,H);for(z=0;z<=w;++z){E[z]=[];var W=0;for(r(A[z].slice(0,S).trim(),E,z,W,y),W=1;W<=(A[z].length-S)/10+1;++W)r(A[z].slice(S+(W-1)*10,S+W*10).trim(),E,z,W,y)}return y.sheetRows&&(E=E.slice(0,y.sheetRows)),E}var t={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(m){for(var _={},y=!1,E=0,A=0;E<m.length;++E)(A=m.charCodeAt(E))==34?y=!y:!y&&A in t&&(_[A]=(_[A]||0)+1);A=[];for(E in _)Object.prototype.hasOwnProperty.call(_,E)&&A.push([_[E],E]);if(!A.length){_=n;for(E in _)Object.prototype.hasOwnProperty.call(_,E)&&A.push([_[E],E])}return A.sort(function(w,S){return w[0]-S[0]||n[w[1]]-n[S[1]]}),t[A.pop()[1]]||44}function o(m,_){var y=_||{},E="",A=y.dense?[]:{},w={s:{c:0,r:0},e:{c:0,r:0}};m.slice(0,4)=="sep="?m.charCodeAt(5)==13&&m.charCodeAt(6)==10?(E=m.charAt(4),m=m.slice(7)):m.charCodeAt(5)==13||m.charCodeAt(5)==10?(E=m.charAt(4),m=m.slice(6)):E=i(m.slice(0,1024)):y&&y.FS?E=y.FS:E=i(m.slice(0,1024));var S=0,H=0,z=0,W=0,Z=0,fe=E.charCodeAt(0),ge=!1,k=0,P=m.charCodeAt(0);m=m.replace(/\r\n/mg,`
`);var C=y.dateNF!=null?AO(y.dateNF):null;function L(){var V=m.slice(W,Z),j={};if(V.charAt(0)=='"'&&V.charAt(V.length-1)=='"'&&(V=V.slice(1,-1).replace(/""/g,'"')),V.length===0)j.t="z";else if(y.raw)j.t="s",j.v=V;else if(V.trim().length===0)j.t="s",j.v=V;else if(V.charCodeAt(0)==61)V.charCodeAt(1)==34&&V.charCodeAt(V.length-1)==34?(j.t="s",j.v=V.slice(2,-1).replace(/""/g,'"')):o6(V)?(j.t="n",j.f=V.slice(1)):(j.t="s",j.v=V);else if(V=="TRUE")j.t="b",j.v=!0;else if(V=="FALSE")j.t="b",j.v=!1;else if(!isNaN(z=Es(V)))j.t="n",y.cellText!==!1&&(j.w=V),j.v=z;else if(!isNaN(cc(V).getDate())||C&&V.match(C)){j.z=y.dateNF||Jt[14];var F=0;C&&V.match(C)&&(V=IO(V,y.dateNF,V.match(C)||[]),F=1),y.cellDates?(j.t="d",j.v=ln(V,F)):(j.t="n",j.v=xn(ln(V,F))),y.cellText!==!1&&(j.w=Ra(j.z,j.v instanceof Date?xn(j.v):j.v)),y.cellNF||delete j.z}else j.t="s",j.v=V;if(j.t=="z"||(y.dense?(A[S]||(A[S]=[]),A[S][H]=j):A[Rt({c:H,r:S})]=j),W=Z+1,P=m.charCodeAt(W),w.e.c<H&&(w.e.c=H),w.e.r<S&&(w.e.r=S),k==fe)++H;else if(H=0,++S,y.sheetRows&&y.sheetRows<=S)return!0}e:for(;Z<m.length;++Z)switch(k=m.charCodeAt(Z)){case 34:P===34&&(ge=!ge);break;case fe:case 10:case 13:if(!ge&&L())break e;break}return Z-W>0&&L(),A["!ref"]=lr(w),A}function l(m,_){return!(_&&_.PRN)||_.FS||m.slice(0,4)=="sep="||m.indexOf("	")>=0||m.indexOf(",")>=0||m.indexOf(";")>=0?o(m,_):Yl(e(m,_),_)}function c(m,_){var y="",E=_.type=="string"?[0,0,0,0]:E5(m,_);switch(_.type){case"base64":y=Rs(m);break;case"binary":y=m;break;case"buffer":_.codepage==65001?y=m.toString("utf8"):_.codepage&&typeof Hh<"u"||(y=Et&&Buffer.isBuffer(m)?m.toString("binary"):Pc(m));break;case"array":y=b0(m);break;case"string":y=m;break;default:throw new Error("Unrecognized type "+_.type)}return E[0]==239&&E[1]==187&&E[2]==191?y=Ku(y.slice(3)):_.type!="string"&&_.type!="buffer"&&_.codepage==65001?y=Ku(y):_.type=="binary"&&typeof Hh<"u",y.slice(0,19)=="socialcalc:version:"?m2.to_sheet(_.type=="string"?y:Ku(y),_):l(y,_)}function h(m,_){return So(c(m,_),_)}function d(m){for(var _=[],y=Ut(m["!ref"]),E,A=Array.isArray(m),w=y.s.r;w<=y.e.r;++w){for(var S=[],H=y.s.c;H<=y.e.c;++H){var z=Rt({r:w,c:H});if(E=A?(m[w]||[])[H]:m[z],!E||E.v==null){S.push("          ");continue}for(var W=(E.w||(Ps(E),E.w)||"").slice(0,10);W.length<10;)W+=" ";S.push(W+(H===0?" ":""))}_.push(S.join(""))}return _.join(`
`)}return{to_workbook:h,to_sheet:c,from_sheet:d}})(),fx=(function(){function r(O,Y,q){if(O){kn(O,O.l||0);for(var K=q.Enum||Fe;O.l<O.length;){var le=O.read_shift(2),Ae=K[le]||K[65535],Re=O.read_shift(2),Pe=O.l+Re,Se=Ae.f&&Ae.f(O,Re,q);if(O.l=Pe,Y(Se,Ae,le))return}}}function e(O,Y){switch(Y.type){case"base64":return t(mi(Rs(O)),Y);case"binary":return t(mi(O),Y);case"buffer":case"array":return t(O,Y)}throw"Unsupported type "+Y.type}function t(O,Y){if(!O)return O;var q=Y||{},K=q.dense?[]:{},le="Sheet1",Ae="",Re=0,Pe={},Se=[],lt=[],it={s:{r:0,c:0},e:{r:0,c:0}},Bt=q.sheetRows||0;if(O[2]==0&&(O[3]==8||O[3]==9)&&O.length>=16&&O[14]==5&&O[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(O[2]==2)q.Enum=Fe,r(O,function(Ue,Ar,Hr){switch(Hr){case 0:q.vers=Ue,Ue>=4096&&(q.qpro=!0);break;case 6:it=Ue;break;case 204:Ue&&(Ae=Ue);break;case 222:Ae=Ue;break;case 15:case 51:q.qpro||(Ue[1].v=Ue[1].v.slice(1));case 13:case 14:case 16:Hr==14&&(Ue[2]&112)==112&&(Ue[2]&15)>1&&(Ue[2]&15)<15&&(Ue[1].z=q.dateNF||Jt[14],q.cellDates&&(Ue[1].t="d",Ue[1].v=OT(Ue[1].v))),q.qpro&&Ue[3]>Re&&(K["!ref"]=lr(it),Pe[le]=K,Se.push(le),K=q.dense?[]:{},it={s:{r:0,c:0},e:{r:0,c:0}},Re=Ue[3],le=Ae||"Sheet"+(Re+1),Ae="");var Ir=q.dense?(K[Ue[0].r]||[])[Ue[0].c]:K[Rt(Ue[0])];if(Ir){Ir.t=Ue[1].t,Ir.v=Ue[1].v,Ue[1].z!=null&&(Ir.z=Ue[1].z),Ue[1].f!=null&&(Ir.f=Ue[1].f);break}q.dense?(K[Ue[0].r]||(K[Ue[0].r]=[]),K[Ue[0].r][Ue[0].c]=Ue[1]):K[Rt(Ue[0])]=Ue[1];break}},q);else if(O[2]==26||O[2]==14)q.Enum=J,O[2]==14&&(q.qpro=!0,O.l=0),r(O,function(Ue,Ar,Hr){switch(Hr){case 204:le=Ue;break;case 22:Ue[1].v=Ue[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ue[3]>Re&&(K["!ref"]=lr(it),Pe[le]=K,Se.push(le),K=q.dense?[]:{},it={s:{r:0,c:0},e:{r:0,c:0}},Re=Ue[3],le="Sheet"+(Re+1)),Bt>0&&Ue[0].r>=Bt)break;q.dense?(K[Ue[0].r]||(K[Ue[0].r]=[]),K[Ue[0].r][Ue[0].c]=Ue[1]):K[Rt(Ue[0])]=Ue[1],it.e.c<Ue[0].c&&(it.e.c=Ue[0].c),it.e.r<Ue[0].r&&(it.e.r=Ue[0].r);break;case 27:Ue[14e3]&&(lt[Ue[14e3][0]]=Ue[14e3][1]);break;case 1537:lt[Ue[0]]=Ue[1],Ue[0]==Re&&(le=Ue[1]);break}},q);else throw new Error("Unrecognized LOTUS BOF "+O[2]);if(K["!ref"]=lr(it),Pe[Ae||le]=K,Se.push(Ae||le),!lt.length)return{SheetNames:Se,Sheets:Pe};for(var at={},zr=[],Pt=0;Pt<lt.length;++Pt)Pe[Se[Pt]]?(zr.push(lt[Pt]||Se[Pt]),at[lt[Pt]]=Pe[lt[Pt]]||Pe[Se[Pt]]):(zr.push(lt[Pt]),at[lt[Pt]]={"!ref":"A1"});return{SheetNames:zr,Sheets:at}}function n(O,Y){var q=Y||{};if(+q.codepage>=0&&lc(+q.codepage),q.type=="string")throw new Error("Cannot write WK1 to JS string");var K=yn(),le=Ut(O["!ref"]),Ae=Array.isArray(O),Re=[];Oe(K,0,o(1030)),Oe(K,6,h(le));for(var Pe=Math.min(le.e.r,8191),Se=le.s.r;Se<=Pe;++Se)for(var lt=Ur(Se),it=le.s.c;it<=le.e.c;++it){Se===le.s.r&&(Re[it]=Jr(it));var Bt=Re[it]+lt,at=Ae?(O[Se]||[])[it]:O[Bt];if(!(!at||at.t=="z"))if(at.t=="n")(at.v|0)==at.v&&at.v>=-32768&&at.v<=32767?Oe(K,13,E(Se,it,at.v)):Oe(K,14,w(Se,it,at.v));else{var zr=Ps(at);Oe(K,15,_(Se,it,zr.slice(0,239)))}}return Oe(K,1),K.end()}function i(O,Y){var q=Y||{};if(+q.codepage>=0&&lc(+q.codepage),q.type=="string")throw new Error("Cannot write WK3 to JS string");var K=yn();Oe(K,0,l(O));for(var le=0,Ae=0;le<O.SheetNames.length;++le)(O.Sheets[O.SheetNames[le]]||{})["!ref"]&&Oe(K,27,Le(O.SheetNames[le],Ae++));var Re=0;for(le=0;le<O.SheetNames.length;++le){var Pe=O.Sheets[O.SheetNames[le]];if(!(!Pe||!Pe["!ref"])){for(var Se=Ut(Pe["!ref"]),lt=Array.isArray(Pe),it=[],Bt=Math.min(Se.e.r,8191),at=Se.s.r;at<=Bt;++at)for(var zr=Ur(at),Pt=Se.s.c;Pt<=Se.e.c;++Pt){at===Se.s.r&&(it[Pt]=Jr(Pt));var Ue=it[Pt]+zr,Ar=lt?(Pe[at]||[])[Pt]:Pe[Ue];if(!(!Ar||Ar.t=="z"))if(Ar.t=="n")Oe(K,23,L(at,Pt,Re,Ar.v));else{var Hr=Ps(Ar);Oe(K,22,k(at,Pt,Re,Hr.slice(0,239)))}}++Re}}return Oe(K,1),K.end()}function o(O){var Y=he(2);return Y.write_shift(2,O),Y}function l(O){var Y=he(26);Y.write_shift(2,4096),Y.write_shift(2,4),Y.write_shift(4,0);for(var q=0,K=0,le=0,Ae=0;Ae<O.SheetNames.length;++Ae){var Re=O.SheetNames[Ae],Pe=O.Sheets[Re];if(!(!Pe||!Pe["!ref"])){++le;var Se=Fn(Pe["!ref"]);q<Se.e.r&&(q=Se.e.r),K<Se.e.c&&(K=Se.e.c)}}return q>8191&&(q=8191),Y.write_shift(2,q),Y.write_shift(1,le),Y.write_shift(1,K),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(1,1),Y.write_shift(1,2),Y.write_shift(4,0),Y.write_shift(4,0),Y}function c(O,Y,q){var K={s:{c:0,r:0},e:{c:0,r:0}};return Y==8&&q.qpro?(K.s.c=O.read_shift(1),O.l++,K.s.r=O.read_shift(2),K.e.c=O.read_shift(1),O.l++,K.e.r=O.read_shift(2),K):(K.s.c=O.read_shift(2),K.s.r=O.read_shift(2),Y==12&&q.qpro&&(O.l+=2),K.e.c=O.read_shift(2),K.e.r=O.read_shift(2),Y==12&&q.qpro&&(O.l+=2),K.s.c==65535&&(K.s.c=K.e.c=K.s.r=K.e.r=0),K)}function h(O){var Y=he(8);return Y.write_shift(2,O.s.c),Y.write_shift(2,O.s.r),Y.write_shift(2,O.e.c),Y.write_shift(2,O.e.r),Y}function d(O,Y,q){var K=[{c:0,r:0},{t:"n",v:0},0,0];return q.qpro&&q.vers!=20768?(K[0].c=O.read_shift(1),K[3]=O.read_shift(1),K[0].r=O.read_shift(2),O.l+=2):(K[2]=O.read_shift(1),K[0].c=O.read_shift(2),K[0].r=O.read_shift(2)),K}function m(O,Y,q){var K=O.l+Y,le=d(O,Y,q);if(le[1].t="s",q.vers==20768){O.l++;var Ae=O.read_shift(1);return le[1].v=O.read_shift(Ae,"utf8"),le}return q.qpro&&O.l++,le[1].v=O.read_shift(K-O.l,"cstr"),le}function _(O,Y,q){var K=he(7+q.length);K.write_shift(1,255),K.write_shift(2,Y),K.write_shift(2,O),K.write_shift(1,39);for(var le=0;le<K.length;++le){var Ae=q.charCodeAt(le);K.write_shift(1,Ae>=128?95:Ae)}return K.write_shift(1,0),K}function y(O,Y,q){var K=d(O,Y,q);return K[1].v=O.read_shift(2,"i"),K}function E(O,Y,q){var K=he(7);return K.write_shift(1,255),K.write_shift(2,Y),K.write_shift(2,O),K.write_shift(2,q,"i"),K}function A(O,Y,q){var K=d(O,Y,q);return K[1].v=O.read_shift(8,"f"),K}function w(O,Y,q){var K=he(13);return K.write_shift(1,255),K.write_shift(2,Y),K.write_shift(2,O),K.write_shift(8,q,"f"),K}function S(O,Y,q){var K=O.l+Y,le=d(O,Y,q);if(le[1].v=O.read_shift(8,"f"),q.qpro)O.l=K;else{var Ae=O.read_shift(2);Z(O.slice(O.l,O.l+Ae),le),O.l+=Ae}return le}function H(O,Y,q){var K=Y&32768;return Y&=-32769,Y=(K?O:0)+(Y>=8192?Y-16384:Y),(K?"":"$")+(q?Jr(Y):Ur(Y))}var z={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},W=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function Z(O,Y){kn(O,0);for(var q=[],K=0,le="",Ae="",Re="",Pe="";O.l<O.length;){var Se=O[O.l++];switch(Se){case 0:q.push(O.read_shift(8,"f"));break;case 1:Ae=H(Y[0].c,O.read_shift(2),!0),le=H(Y[0].r,O.read_shift(2),!1),q.push(Ae+le);break;case 2:{var lt=H(Y[0].c,O.read_shift(2),!0),it=H(Y[0].r,O.read_shift(2),!1);Ae=H(Y[0].c,O.read_shift(2),!0),le=H(Y[0].r,O.read_shift(2),!1),q.push(lt+it+":"+Ae+le)}break;case 3:if(O.l<O.length){console.error("WK1 premature formula end");return}break;case 4:q.push("("+q.pop()+")");break;case 5:q.push(O.read_shift(2));break;case 6:{for(var Bt="";Se=O[O.l++];)Bt+=String.fromCharCode(Se);q.push('"'+Bt.replace(/"/g,'""')+'"')}break;case 8:q.push("-"+q.pop());break;case 23:q.push("+"+q.pop());break;case 22:q.push("NOT("+q.pop()+")");break;case 20:case 21:Pe=q.pop(),Re=q.pop(),q.push(["AND","OR"][Se-20]+"("+Re+","+Pe+")");break;default:if(Se<32&&W[Se])Pe=q.pop(),Re=q.pop(),q.push(Re+W[Se]+Pe);else if(z[Se]){if(K=z[Se][1],K==69&&(K=O[O.l++]),K>q.length){console.error("WK1 bad formula parse 0x"+Se.toString(16)+":|"+q.join("|")+"|");return}var at=q.slice(-K);q.length-=K,q.push(z[Se][0]+"("+at.join(",")+")")}else return Se<=7?console.error("WK1 invalid opcode "+Se.toString(16)):Se<=24?console.error("WK1 unsupported op "+Se.toString(16)):Se<=30?console.error("WK1 invalid opcode "+Se.toString(16)):Se<=115?console.error("WK1 unsupported function opcode "+Se.toString(16)):console.error("WK1 unrecognized opcode "+Se.toString(16))}}q.length==1?Y[1].f=""+q[0]:console.error("WK1 bad formula parse |"+q.join("|")+"|")}function fe(O){var Y=[{c:0,r:0},{t:"n",v:0},0];return Y[0].r=O.read_shift(2),Y[3]=O[O.l++],Y[0].c=O[O.l++],Y}function ge(O,Y){var q=fe(O);return q[1].t="s",q[1].v=O.read_shift(Y-4,"cstr"),q}function k(O,Y,q,K){var le=he(6+K.length);le.write_shift(2,O),le.write_shift(1,q),le.write_shift(1,Y),le.write_shift(1,39);for(var Ae=0;Ae<K.length;++Ae){var Re=K.charCodeAt(Ae);le.write_shift(1,Re>=128?95:Re)}return le.write_shift(1,0),le}function P(O,Y){var q=fe(O);q[1].v=O.read_shift(2);var K=q[1].v>>1;if(q[1].v&1)switch(K&7){case 0:K=(K>>3)*5e3;break;case 1:K=(K>>3)*500;break;case 2:K=(K>>3)/20;break;case 3:K=(K>>3)/200;break;case 4:K=(K>>3)/2e3;break;case 5:K=(K>>3)/2e4;break;case 6:K=(K>>3)/16;break;case 7:K=(K>>3)/64;break}return q[1].v=K,q}function C(O,Y){var q=fe(O),K=O.read_shift(4),le=O.read_shift(4),Ae=O.read_shift(2);if(Ae==65535)return K===0&&le===3221225472?(q[1].t="e",q[1].v=15):K===0&&le===3489660928?(q[1].t="e",q[1].v=42):q[1].v=0,q;var Re=Ae&32768;return Ae=(Ae&32767)-16446,q[1].v=(1-Re*2)*(le*Math.pow(2,Ae+32)+K*Math.pow(2,Ae)),q}function L(O,Y,q,K){var le=he(14);if(le.write_shift(2,O),le.write_shift(1,q),le.write_shift(1,Y),K==0)return le.write_shift(4,0),le.write_shift(4,0),le.write_shift(2,65535),le;var Ae=0,Re=0,Pe=0,Se=0;return K<0&&(Ae=1,K=-K),Re=Math.log2(K)|0,K/=Math.pow(2,Re-31),Se=K>>>0,(Se&2147483648)==0&&(K/=2,++Re,Se=K>>>0),K-=Se,Se|=2147483648,Se>>>=0,K*=Math.pow(2,32),Pe=K>>>0,le.write_shift(4,Pe),le.write_shift(4,Se),Re+=16383+(Ae?32768:0),le.write_shift(2,Re),le}function V(O,Y){var q=C(O);return O.l+=Y-14,q}function j(O,Y){var q=fe(O),K=O.read_shift(4);return q[1].v=K>>6,q}function F(O,Y){var q=fe(O),K=O.read_shift(8,"f");return q[1].v=K,q}function qe(O,Y){var q=F(O);return O.l+=Y-10,q}function We(O,Y){return O[O.l+Y-1]==0?O.read_shift(Y,"cstr"):""}function ut(O,Y){var q=O[O.l++];q>Y-1&&(q=Y-1);for(var K="";K.length<q;)K+=String.fromCharCode(O[O.l++]);return K}function Xe(O,Y,q){if(!(!q.qpro||Y<21)){var K=O.read_shift(1);O.l+=17,O.l+=1,O.l+=2;var le=O.read_shift(Y-21,"cstr");return[K,le]}}function Te(O,Y){for(var q={},K=O.l+Y;O.l<K;){var le=O.read_shift(2);if(le==14e3){for(q[le]=[0,""],q[le][0]=O.read_shift(2);O[O.l];)q[le][1]+=String.fromCharCode(O[O.l]),O.l++;O.l++}}return q}function Le(O,Y){var q=he(5+O.length);q.write_shift(2,14e3),q.write_shift(2,Y);for(var K=0;K<O.length;++K){var le=O.charCodeAt(K);q[q.l++]=le>127?95:le}return q[q.l++]=0,q}var Fe={0:{n:"BOF",f:c2},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:c},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:y},14:{n:"NUMBER",f:A},15:{n:"LABEL",f:m},16:{n:"FORMULA",f:S},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:m},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:We},222:{n:"SHEETNAMELP",f:ut},65535:{n:""}},J={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:ge},23:{n:"NUMBER17",f:C},24:{n:"NUMBER18",f:P},25:{n:"FORMULA19",f:V},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Te},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:j},38:{n:"??"},39:{n:"NUMBER27",f:F},40:{n:"FORMULA28",f:qe},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:We},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Xe},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:e}})(),cF=/^\s|\s$|[\t\n\r]/;function g2(r,e){if(!e.bookSST)return"";var t=[ur];t[t.length]=ke("sst",null,{xmlns:Xl[0],count:r.Count,uniqueCount:r.Unique});for(var n=0;n!=r.length;++n)if(r[n]!=null){var i=r[n],o="<si>";i.r?o+=i.r:(o+="<t",i.t||(i.t=""),i.t.match(cF)&&(o+=' xml:space="preserve"'),o+=">"+Ct(i.t)+"</t>"),o+="</si>",t[t.length]=o}return t.length>2&&(t[t.length]="</sst>",t[1]=t[1].replace("/>",">")),t.join("")}function fF(r){return[r.read_shift(4),r.read_shift(4)]}function hF(r,e){return e||(e=he(8)),e.write_shift(4,r.Count),e.write_shift(4,r.Unique),e}var dF=nD;function pF(r){var e=yn();ve(e,159,hF(r));for(var t=0;t<r.length;++t)ve(e,19,dF(r[t]));return ve(e,160),e.end()}function mF(r){for(var e=[],t=r.split(""),n=0;n<t.length;++n)e[n]=t[n].charCodeAt(0);return e}function v2(r){var e=0,t,n=mF(r),i=n.length+1,o,l,c,h,d;for(t=go(i),t[0]=n.length,o=1;o!=i;++o)t[o]=n[o-1];for(o=i-1;o>=0;--o)l=t[o],c=(e&16384)===0?0:1,h=e<<1&32767,d=c|h,e=d^l;return e^52811}var gF=(function(){function r(i,o){switch(o.type){case"base64":return e(Rs(i),o);case"binary":return e(i,o);case"buffer":return e(Et&&Buffer.isBuffer(i)?i.toString("binary"):Pc(i),o);case"array":return e(b0(i),o)}throw new Error("Unrecognized type "+o.type)}function e(i,o){var l=o||{},c=l.dense?[]:{},h=i.match(/\\trowd.*?\\row\b/g);if(!h.length)throw new Error("RTF missing table");var d={s:{c:0,r:0},e:{c:0,r:h.length-1}};return h.forEach(function(m,_){Array.isArray(c)&&(c[_]=[]);for(var y=/\\\w+\b/g,E=0,A,w=-1;A=y.exec(m);){switch(A[0]){case"\\cell":var S=m.slice(E,y.lastIndex-A[0].length);if(S[0]==" "&&(S=S.slice(1)),++w,S.length){var H={v:S,t:"s"};Array.isArray(c)?c[_][w]=H:c[Rt({r:_,c:w})]=H}break}E=y.lastIndex}w>d.e.c&&(d.e.c=w)}),c["!ref"]=lr(d),c}function t(i,o){return So(r(i,o),o)}function n(i){for(var o=["{\\rtf1\\ansi"],l=Ut(i["!ref"]),c,h=Array.isArray(i),d=l.s.r;d<=l.e.r;++d){o.push("\\trowd\\trautofit1");for(var m=l.s.c;m<=l.e.c;++m)o.push("\\cellx"+(m+1));for(o.push("\\pard\\intbl"),m=l.s.c;m<=l.e.c;++m){var _=Rt({r:d,c:m});c=h?(i[d]||[])[m]:i[_],!(!c||c.v==null&&(!c.f||c.F))&&(o.push(" "+(c.w||(Ps(c),c.w))),o.push("\\cell"))}o.push("\\pard\\intbl\\row")}return o.join("")+"}"}return{to_workbook:t,to_sheet:r,from_sheet:n}})();function hx(r){for(var e=0,t=1;e!=3;++e)t=t*256+(r[e]>255?255:r[e]<0?0:r[e]);return t.toString(16).toUpperCase().slice(1)}var vF=6,ws=vF;function Jh(r){return Math.floor((r+Math.round(128/ws)/256)*ws)}function Zh(r){return Math.floor((r-5)/ws*100+.5)/100}function gm(r){return Math.round((r*ws+5)/ws*256)/256}function Dg(r){r.width?(r.wpx=Jh(r.width),r.wch=Zh(r.wpx),r.MDW=ws):r.wpx?(r.wch=Zh(r.wpx),r.width=gm(r.wch),r.MDW=ws):typeof r.wch=="number"&&(r.width=gm(r.wch),r.wpx=Jh(r.width),r.MDW=ws),r.customWidth&&delete r.customWidth}var _F=96,_2=_F;function e0(r){return r*96/_2}function y2(r){return r*_2/96}function yF(r){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(t){for(var n=t[0];n<=t[1];++n)r[n]!=null&&(e[e.length]=ke("numFmt",null,{numFmtId:n,formatCode:Ct(r[n])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=ke("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function xF(r){var e=[];return e[e.length]=ke("cellXfs",null),r.forEach(function(t){e[e.length]=ke("xf",null,t)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=ke("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function x2(r,e){var t=[ur,ke("styleSheet",null,{xmlns:Xl[0],"xmlns:vt":Er.vt})],n;return r.SSF&&(n=yF(r.SSF))!=null&&(t[t.length]=n),t[t.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',t[t.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',t[t.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',t[t.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=xF(e.cellXfs))&&(t[t.length]=n),t[t.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',t[t.length]='<dxfs count="0"/>',t[t.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',t.length>2&&(t[t.length]="</styleSheet>",t[1]=t[1].replace("/>",">")),t.join("")}function EF(r,e){var t=r.read_shift(2),n=Zr(r);return[t,n]}function wF(r,e,t){t||(t=he(6+4*e.length)),t.write_shift(2,r),Tr(e,t);var n=t.length>t.l?t.slice(0,t.l):t;return t.l==null&&(t.l=t.length),n}function TF(r,e,t){var n={};n.sz=r.read_shift(2)/20;var i=cD(r);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var o=r.read_shift(2);switch(o===700&&(n.bold=1),r.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var l=r.read_shift(1);l!=0&&(n.underline=l);var c=r.read_shift(1);c>0&&(n.family=c);var h=r.read_shift(1);switch(h>0&&(n.charset=h),r.l++,n.color=uD(r),r.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Zr(r),n}function SF(r,e){e||(e=he(153)),e.write_shift(2,r.sz*20),fD(r,e),e.write_shift(2,r.bold?700:400);var t=0;r.vertAlign=="superscript"?t=1:r.vertAlign=="subscript"&&(t=2),e.write_shift(2,t),e.write_shift(1,r.underline||0),e.write_shift(1,r.family||0),e.write_shift(1,r.charset||0),e.write_shift(1,0),Yh(r.color,e);var n=0;return n=2,e.write_shift(1,n),Tr(r.name,e),e.length>e.l?e.slice(0,e.l):e}var AF=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Lp,IF=qi;function dx(r,e){e||(e=he(84)),Lp||(Lp=Eg(AF));var t=Lp[r.patternType];t==null&&(t=40),e.write_shift(4,t);var n=0;if(t!=40)for(Yh({auto:1},e),Yh({auto:1},e);n<12;++n)e.write_shift(4,0);else{for(;n<4;++n)e.write_shift(4,0);for(;n<12;++n)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function CF(r,e){var t=r.l+e,n=r.read_shift(2),i=r.read_shift(2);return r.l=t,{ixfe:n,numFmtId:i}}function E2(r,e,t){t||(t=he(16)),t.write_shift(2,e||0),t.write_shift(2,r.numFmtId||0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);var n=0;return t.write_shift(1,n),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(1,0),t}function Ou(r,e){return e||(e=he(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var RF=qi;function PF(r,e){return e||(e=he(51)),e.write_shift(1,0),Ou(null,e),Ou(null,e),Ou(null,e),Ou(null,e),Ou(null,e),e.length>e.l?e.slice(0,e.l):e}function kF(r,e){return e||(e=he(52)),e.write_shift(4,r.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),Xh(r.name||"",e),e.length>e.l?e.slice(0,e.l):e}function NF(r,e,t){var n=he(2052);return n.write_shift(4,r),Xh(e,n),Xh(t,n),n.length>n.l?n.slice(0,n.l):n}function OF(r,e){if(e){var t=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&++t}),t!=0&&(ve(r,615,xi(t)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&ve(r,44,wF(i,e[i]))}),ve(r,616))}}function DF(r){var e=1;ve(r,611,xi(e)),ve(r,43,SF({sz:12,color:{theme:1},name:"Calibri",family:2})),ve(r,612)}function FF(r){var e=2;ve(r,603,xi(e)),ve(r,45,dx({patternType:"none"})),ve(r,45,dx({patternType:"gray125"})),ve(r,604)}function LF(r){var e=1;ve(r,613,xi(e)),ve(r,46,PF()),ve(r,614)}function MF(r){var e=1;ve(r,626,xi(e)),ve(r,47,E2({numFmtId:0},65535)),ve(r,627)}function VF(r,e){ve(r,617,xi(e.length)),e.forEach(function(t){ve(r,47,E2(t,0))}),ve(r,618)}function bF(r){var e=1;ve(r,619,xi(e)),ve(r,48,kF({xfId:0,name:"Normal"})),ve(r,620)}function UF(r){var e=0;ve(r,505,xi(e)),ve(r,506)}function BF(r){var e=0;ve(r,508,NF(e,"TableStyleMedium9","PivotStyleMedium4")),ve(r,509)}function jF(r,e){var t=yn();return ve(t,278),OF(t,r.SSF),DF(t),FF(t),LF(t),MF(t),VF(t,e.cellXfs),bF(t),UF(t),BF(t),ve(t,279),t.end()}function w2(r,e){if(e&&e.themeXLSX)return e.themeXLSX;if(r&&typeof r.raw=="string")return r.raw;var t=[ur];return t[t.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',t[t.length]="<a:themeElements>",t[t.length]='<a:clrScheme name="Office">',t[t.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',t[t.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',t[t.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',t[t.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',t[t.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',t[t.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',t[t.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',t[t.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',t[t.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',t[t.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',t[t.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',t[t.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',t[t.length]="</a:clrScheme>",t[t.length]='<a:fontScheme name="Office">',t[t.length]="<a:majorFont>",t[t.length]='<a:latin typeface="Cambria"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Times New Roman"/>',t[t.length]='<a:font script="Hebr" typeface="Times New Roman"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="MoolBoran"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Times New Roman"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:majorFont>",t[t.length]="<a:minorFont>",t[t.length]='<a:latin typeface="Calibri"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Arial"/>',t[t.length]='<a:font script="Hebr" typeface="Arial"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="DaunPenh"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Arial"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:minorFont>",t[t.length]="</a:fontScheme>",t[t.length]='<a:fmtScheme name="Office">',t[t.length]="<a:fillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="1"/>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="0"/>',t[t.length]="</a:gradFill>",t[t.length]="</a:fillStyleLst>",t[t.length]="<a:lnStyleLst>",t[t.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]="</a:lnStyleLst>",t[t.length]="<a:effectStyleLst>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',t[t.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',t[t.length]="</a:effectStyle>",t[t.length]="</a:effectStyleLst>",t[t.length]="<a:bgFillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]="</a:bgFillStyleLst>",t[t.length]="</a:fmtScheme>",t[t.length]="</a:themeElements>",t[t.length]="<a:objectDefaults>",t[t.length]="<a:spDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',t[t.length]="</a:spDef>",t[t.length]="<a:lnDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',t[t.length]="</a:lnDef>",t[t.length]="</a:objectDefaults>",t[t.length]="<a:extraClrSchemeLst/>",t[t.length]="</a:theme>",t.join("")}function zF(r,e){return{flags:r.read_shift(4),version:r.read_shift(4),name:Zr(r)}}function HF(r){var e=he(12+2*r.name.length);return e.write_shift(4,r.flags),e.write_shift(4,r.version),Tr(r.name,e),e.slice(0,e.l)}function WF(r){for(var e=[],t=r.read_shift(4);t-- >0;)e.push([r.read_shift(4),r.read_shift(4)]);return e}function $F(r){var e=he(4+8*r.length);e.write_shift(4,r.length);for(var t=0;t<r.length;++t)e.write_shift(4,r[t][0]),e.write_shift(4,r[t][1]);return e}function GF(r,e){var t=he(8+2*e.length);return t.write_shift(4,r),Tr(e,t),t.slice(0,t.l)}function KF(r){return r.l+=4,r.read_shift(4)!=0}function qF(r,e){var t=he(8);return t.write_shift(4,r),t.write_shift(4,1),t}function XF(){var r=yn();return ve(r,332),ve(r,334,xi(1)),ve(r,335,HF({name:"XLDAPR",version:12e4,flags:3496657072})),ve(r,336),ve(r,339,GF(1,"XLDAPR")),ve(r,52),ve(r,35,xi(514)),ve(r,4096,xi(0)),ve(r,4097,Kn(1)),ve(r,36),ve(r,53),ve(r,340),ve(r,337,qF(1)),ve(r,51,$F([[1,0]])),ve(r,338),ve(r,333),r.end()}function T2(){var r=[ur];return r.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),r.join("")}function YF(r){var e={};e.i=r.read_shift(4);var t={};t.r=r.read_shift(4),t.c=r.read_shift(4),e.r=Rt(t);var n=r.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}var vl=1024;function S2(r,e){for(var t=[21600,21600],n=["m0,0l0",t[1],t[0],t[1],t[0],"0xe"].join(","),i=[ke("xml",null,{"xmlns:v":Nn.v,"xmlns:o":Nn.o,"xmlns:x":Nn.x,"xmlns:mv":Nn.mv}).replace(/\/>/,">"),ke("o:shapelayout",ke("o:idmap",null,{"v:ext":"edit",data:r}),{"v:ext":"edit"}),ke("v:shapetype",[ke("v:stroke",null,{joinstyle:"miter"}),ke("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:t.join(","),path:n})];vl<r*1e3;)vl+=1e3;return e.forEach(function(o){var l=wr(o[0]),c={color2:"#BEFF82",type:"gradient"};c.type=="gradient"&&(c.angle="-180");var h=c.type=="gradient"?ke("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,d=ke("v:fill",h,c),m={on:"t",obscured:"t"};++vl,i=i.concat(["<v:shape"+hc({id:"_x0000_s"+vl,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(o[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",d,ke("v:shadow",null,m),ke("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",br("x:Anchor",[l.c+1,0,l.r+1,0,l.c+3,20,l.r+5,20].join(",")),br("x:AutoFill","False"),br("x:Row",String(l.r)),br("x:Column",String(l.c)),o[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function A2(r){var e=[ur,ke("comments",null,{xmlns:Xl[0]})],t=[];return e.push("<authors>"),r.forEach(function(n){n[1].forEach(function(i){var o=Ct(i.a);t.indexOf(o)==-1&&(t.push(o),e.push("<author>"+o+"</author>")),i.T&&i.ID&&t.indexOf("tc="+i.ID)==-1&&(t.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),t.length==0&&(t.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),r.forEach(function(n){var i=0,o=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?i=t.indexOf("tc="+n[1][0].ID):n[1].forEach(function(h){h.a&&(i=t.indexOf(Ct(h.a))),o.push(h.t||"")}),e.push('<comment ref="'+n[0]+'" authorId="'+i+'"><text>'),o.length<=1)e.push(br("t",Ct(o[0]||"")));else{for(var l=`Comment:
    `+o[0]+`
`,c=1;c<o.length;++c)l+=`Reply:
    `+o[c]+`
`;e.push(br("t",Ct(l)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function QF(r,e,t){var n=[ur,ke("ThreadedComments",null,{xmlns:Er.TCMNT}).replace(/[\/]>/,">")];return r.forEach(function(i){var o="";(i[1]||[]).forEach(function(l,c){if(!l.T){delete l.ID;return}l.a&&e.indexOf(l.a)==-1&&e.push(l.a);var h={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+t.tcid++).slice(-12)+"}"};c==0?o=h.id:h.parentId=o,l.ID=h.id,l.a&&(h.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(l.a)).slice(-12)+"}"),n.push(ke("threadedComment",br("text",l.t||""),h))})}),n.push("</ThreadedComments>"),n.join("")}function JF(r){var e=[ur,ke("personList",null,{xmlns:Er.TCMNT,"xmlns:x":Xl[0]}).replace(/[\/]>/,">")];return r.forEach(function(t,n){e.push(ke("person",null,{displayName:t,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:t,providerId:"None"}))}),e.push("</personList>"),e.join("")}function ZF(r){var e={};e.iauthor=r.read_shift(4);var t=Ro(r);return e.rfx=t.s,e.ref=Rt(t.s),r.l+=16,e}function e6(r,e){return e==null&&(e=he(36)),e.write_shift(4,r[1].iauthor),Ql(r[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var t6=Zr;function r6(r){return Tr(r.slice(0,54))}function n6(r){var e=yn(),t=[];return ve(e,628),ve(e,630),r.forEach(function(n){n[1].forEach(function(i){t.indexOf(i.a)>-1||(t.push(i.a.slice(0,54)),ve(e,632,r6(i.a)))})}),ve(e,631),ve(e,633),r.forEach(function(n){n[1].forEach(function(i){i.iauthor=t.indexOf(i.a);var o={s:wr(n[0]),e:wr(n[0])};ve(e,635,e6([o,i])),i.t&&i.t.length>0&&ve(e,637,sD(i)),ve(e,636),delete i.iauthor})}),ve(e,634),ve(e,629),e.end()}function i6(r,e){e.FullPaths.forEach(function(t,n){if(n!=0){var i=t.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&kt.utils.cfb_add(r,i,e.FileIndex[n].content)}})}var I2=["xlsb","xlsm","xlam","biff8","xla"],s6=(function(){var r=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function t(n,i,o,l){var c=!1,h=!1;o.length==0?h=!0:o.charAt(0)=="["&&(h=!0,o=o.slice(1,-1)),l.length==0?c=!0:l.charAt(0)=="["&&(c=!0,l=l.slice(1,-1));var d=o.length>0?parseInt(o,10)|0:0,m=l.length>0?parseInt(l,10)|0:0;return c?m+=e.c:--m,h?d+=e.r:--d,i+(c?"":"$")+Jr(m)+(h?"":"$")+Ur(d)}return function(i,o){return e=o,i.replace(r,t)}})(),Fg=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Lg=(function(){return function(e,t){return e.replace(Fg,function(n,i,o,l,c,h){var d=Rg(l)-(o?0:t.c),m=Cg(h)-(c?0:t.r),_=m==0?"":c?m+1:"["+m+"]",y=d==0?"":o?d+1:"["+d+"]";return i+"R"+_+"C"+y})}})();function a6(r,e){return r.replace(Fg,function(t,n,i,o,l,c){return n+(i=="$"?i+o:Jr(Rg(o)+e.c))+(l=="$"?l+c:Ur(Cg(c)+e.r))})}function o6(r){return r.length!=1}function ir(r){r.l+=1}function Pa(r,e){var t=r.read_shift(2);return[t&16383,t>>14&1,t>>15&1]}function C2(r,e,t){var n=2;if(t){if(t.biff>=2&&t.biff<=5)return R2(r);t.biff==12&&(n=4)}var i=r.read_shift(n),o=r.read_shift(n),l=Pa(r),c=Pa(r);return{s:{r:i,c:l[0],cRel:l[1],rRel:l[2]},e:{r:o,c:c[0],cRel:c[1],rRel:c[2]}}}function R2(r){var e=Pa(r),t=Pa(r),n=r.read_shift(1),i=r.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:t[0],c:i,cRel:t[1],rRel:t[2]}}}function l6(r,e,t){if(t.biff<8)return R2(r);var n=r.read_shift(t.biff==12?4:2),i=r.read_shift(t.biff==12?4:2),o=Pa(r),l=Pa(r);return{s:{r:n,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function P2(r,e,t){if(t&&t.biff>=2&&t.biff<=5)return u6(r);var n=r.read_shift(t&&t.biff==12?4:2),i=Pa(r);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function u6(r){var e=Pa(r),t=r.read_shift(1);return{r:e[0],c:t,cRel:e[1],rRel:e[2]}}function c6(r){var e=r.read_shift(2),t=r.read_shift(2);return{r:e,c:t&255,fQuoted:!!(t&16384),cRel:t>>15,rRel:t>>15}}function f6(r,e,t){var n=t&&t.biff?t.biff:8;if(n>=2&&n<=5)return h6(r);var i=r.read_shift(n>=12?4:2),o=r.read_shift(2),l=(o&16384)>>14,c=(o&32768)>>15;if(o&=16383,c==1)for(;i>524287;)i-=1048576;if(l==1)for(;o>8191;)o=o-16384;return{r:i,c:o,cRel:l,rRel:c}}function h6(r){var e=r.read_shift(2),t=r.read_shift(1),n=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),i==1&&t>=128&&(t=t-256),{r:e,c:t,cRel:i,rRel:n}}function d6(r,e,t){var n=(r[r.l++]&96)>>5,i=C2(r,t.biff>=2&&t.biff<=5?6:8,t);return[n,i]}function p6(r,e,t){var n=(r[r.l++]&96)>>5,i=r.read_shift(2,"i"),o=8;if(t)switch(t.biff){case 5:r.l+=12,o=6;break;case 12:o=12;break}var l=C2(r,o,t);return[n,i,l]}function m6(r,e,t){var n=(r[r.l++]&96)>>5;return r.l+=t&&t.biff>8?12:t.biff<8?6:8,[n]}function g6(r,e,t){var n=(r[r.l++]&96)>>5,i=r.read_shift(2),o=8;if(t)switch(t.biff){case 5:r.l+=12,o=6;break;case 12:o=12;break}return r.l+=o,[n,i]}function v6(r,e,t){var n=(r[r.l++]&96)>>5,i=l6(r,e-1,t);return[n,i]}function _6(r,e,t){var n=(r[r.l++]&96)>>5;return r.l+=t.biff==2?6:t.biff==12?14:7,[n]}function px(r){var e=r[r.l+1]&1,t=1;return r.l+=4,[e,t]}function y6(r,e,t){r.l+=2;for(var n=r.read_shift(t&&t.biff==2?1:2),i=[],o=0;o<=n;++o)i.push(r.read_shift(t&&t.biff==2?1:2));return i}function x6(r,e,t){var n=r[r.l+1]&255?1:0;return r.l+=2,[n,r.read_shift(t&&t.biff==2?1:2)]}function E6(r,e,t){var n=r[r.l+1]&255?1:0;return r.l+=2,[n,r.read_shift(t&&t.biff==2?1:2)]}function w6(r){var e=r[r.l+1]&255?1:0;return r.l+=2,[e,r.read_shift(2)]}function T6(r,e,t){var n=r[r.l+1]&255?1:0;return r.l+=t&&t.biff==2?3:4,[n]}function k2(r){var e=r.read_shift(1),t=r.read_shift(1);return[e,t]}function S6(r){return r.read_shift(2),k2(r)}function A6(r){return r.read_shift(2),k2(r)}function I6(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var i=P2(r,0,t);return[n,i]}function C6(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var i=f6(r,0,t);return[n,i]}function R6(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var i=r.read_shift(2);t&&t.biff==5&&(r.l+=12);var o=P2(r,0,t);return[n,i,o]}function P6(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var i=r.read_shift(t&&t.biff<=3?1:2);return[PL[i],D2[i],n]}function k6(r,e,t){var n=r[r.l++],i=r.read_shift(1),o=t&&t.biff<=3?[n==88?-1:0,r.read_shift(1)]:N6(r);return[i,(o[0]===0?D2:RL)[o[1]]]}function N6(r){return[r[r.l+1]>>7,r.read_shift(2)&32767]}function O6(r,e,t){r.l+=t&&t.biff==2?3:4}function D6(r,e,t){if(r.l++,t&&t.biff==12)return[r.read_shift(4,"i"),0];var n=r.read_shift(2),i=r.read_shift(t&&t.biff==2?1:2);return[n,i]}function F6(r){return r.l++,Oc[r.read_shift(1)]}function L6(r){return r.l++,r.read_shift(2)}function M6(r){return r.l++,r.read_shift(1)!==0}function V6(r){return r.l++,Jl(r)}function b6(r,e,t){return r.l++,h2(r,e-1,t)}function U6(r,e){var t=[r.read_shift(1)];if(e==12)switch(t[0]){case 2:t[0]=4;break;case 4:t[0]=16;break;case 0:t[0]=1;break;case 1:t[0]=2;break}switch(t[0]){case 4:t[1]=RD(r,1)?"TRUE":"FALSE",e!=12&&(r.l+=7);break;case 37:case 16:t[1]=Oc[r[r.l]],r.l+=e==12?4:8;break;case 0:r.l+=8;break;case 1:t[1]=Jl(r);break;case 2:t[1]=OD(r,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+t[0])}return t}function B6(r,e,t){for(var n=r.read_shift(t.biff==12?4:2),i=[],o=0;o!=n;++o)i.push((t.biff==12?Ro:LD)(r));return i}function j6(r,e,t){var n=0,i=0;t.biff==12?(n=r.read_shift(4),i=r.read_shift(4)):(i=1+r.read_shift(1),n=1+r.read_shift(2)),t.biff>=2&&t.biff<8&&(--n,--i==0&&(i=256));for(var o=0,l=[];o!=n&&(l[o]=[]);++o)for(var c=0;c!=i;++c)l[o][c]=U6(r,t.biff);return l}function z6(r,e,t){var n=r.read_shift(1)>>>5&3,i=!t||t.biff>=8?4:2,o=r.read_shift(i);switch(t.biff){case 2:r.l+=5;break;case 3:case 4:r.l+=8;break;case 5:r.l+=12;break}return[n,0,o]}function H6(r,e,t){if(t.biff==5)return W6(r);var n=r.read_shift(1)>>>5&3,i=r.read_shift(2),o=r.read_shift(4);return[n,i,o]}function W6(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2,"i");r.l+=8;var n=r.read_shift(2);return r.l+=12,[e,t,n]}function $6(r,e,t){var n=r.read_shift(1)>>>5&3;r.l+=t&&t.biff==2?3:4;var i=r.read_shift(t&&t.biff==2?1:2);return[n,i]}function G6(r,e,t){var n=r.read_shift(1)>>>5&3,i=r.read_shift(t&&t.biff==2?1:2);return[n,i]}function K6(r,e,t){var n=r.read_shift(1)>>>5&3;return r.l+=4,t.biff<8&&r.l--,t.biff==12&&(r.l+=2),[n]}function q6(r,e,t){var n=(r[r.l++]&96)>>5,i=r.read_shift(2),o=4;if(t)switch(t.biff){case 5:o=15;break;case 12:o=6;break}return r.l+=o,[n,i]}var X6=qi,Y6=qi,Q6=qi;function Dc(r,e,t){return r.l+=2,[c6(r)]}function Mg(r){return r.l+=6,[]}var J6=Dc,Z6=Mg,eL=Mg,tL=Dc;function N2(r){return r.l+=2,[c2(r),r.read_shift(2)&1]}var rL=Dc,nL=N2,iL=Mg,sL=Dc,aL=Dc,oL=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function lL(r){r.l+=2;var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(4),i=r.read_shift(2),o=r.read_shift(2),l=oL[t>>2&31];return{ixti:e,coltype:t&3,rt:l,idx:n,c:i,C:o}}function uL(r){return r.l+=2,[r.read_shift(4)]}function cL(r,e,t){return r.l+=5,r.l+=2,r.l+=t.biff==2?1:4,["PTGSHEET"]}function fL(r,e,t){return r.l+=t.biff==2?4:5,["PTGENDSHEET"]}function hL(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2);return[e,t]}function dL(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2);return[e,t]}function pL(r){return r.l+=4,[0,0]}var mx={1:{n:"PtgExp",f:D6},2:{n:"PtgTbl",f:Q6},3:{n:"PtgAdd",f:ir},4:{n:"PtgSub",f:ir},5:{n:"PtgMul",f:ir},6:{n:"PtgDiv",f:ir},7:{n:"PtgPower",f:ir},8:{n:"PtgConcat",f:ir},9:{n:"PtgLt",f:ir},10:{n:"PtgLe",f:ir},11:{n:"PtgEq",f:ir},12:{n:"PtgGe",f:ir},13:{n:"PtgGt",f:ir},14:{n:"PtgNe",f:ir},15:{n:"PtgIsect",f:ir},16:{n:"PtgUnion",f:ir},17:{n:"PtgRange",f:ir},18:{n:"PtgUplus",f:ir},19:{n:"PtgUminus",f:ir},20:{n:"PtgPercent",f:ir},21:{n:"PtgParen",f:ir},22:{n:"PtgMissArg",f:ir},23:{n:"PtgStr",f:b6},26:{n:"PtgSheet",f:cL},27:{n:"PtgEndSheet",f:fL},28:{n:"PtgErr",f:F6},29:{n:"PtgBool",f:M6},30:{n:"PtgInt",f:L6},31:{n:"PtgNum",f:V6},32:{n:"PtgArray",f:_6},33:{n:"PtgFunc",f:P6},34:{n:"PtgFuncVar",f:k6},35:{n:"PtgName",f:z6},36:{n:"PtgRef",f:I6},37:{n:"PtgArea",f:d6},38:{n:"PtgMemArea",f:$6},39:{n:"PtgMemErr",f:X6},40:{n:"PtgMemNoMem",f:Y6},41:{n:"PtgMemFunc",f:G6},42:{n:"PtgRefErr",f:K6},43:{n:"PtgAreaErr",f:m6},44:{n:"PtgRefN",f:C6},45:{n:"PtgAreaN",f:v6},46:{n:"PtgMemAreaN",f:hL},47:{n:"PtgMemNoMemN",f:dL},57:{n:"PtgNameX",f:H6},58:{n:"PtgRef3d",f:R6},59:{n:"PtgArea3d",f:p6},60:{n:"PtgRefErr3d",f:q6},61:{n:"PtgAreaErr3d",f:g6},255:{}},mL={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},gL={1:{n:"PtgElfLel",f:N2},2:{n:"PtgElfRw",f:sL},3:{n:"PtgElfCol",f:J6},6:{n:"PtgElfRwV",f:aL},7:{n:"PtgElfColV",f:tL},10:{n:"PtgElfRadical",f:rL},11:{n:"PtgElfRadicalS",f:iL},13:{n:"PtgElfColS",f:Z6},15:{n:"PtgElfColSV",f:eL},16:{n:"PtgElfRadicalLel",f:nL},25:{n:"PtgList",f:lL},29:{n:"PtgSxName",f:uL},255:{}},vL={0:{n:"PtgAttrNoop",f:pL},1:{n:"PtgAttrSemi",f:T6},2:{n:"PtgAttrIf",f:E6},4:{n:"PtgAttrChoose",f:y6},8:{n:"PtgAttrGoto",f:x6},16:{n:"PtgAttrSum",f:O6},32:{n:"PtgAttrBaxcel",f:px},33:{n:"PtgAttrBaxcel",f:px},64:{n:"PtgAttrSpace",f:S6},65:{n:"PtgAttrSpaceSemi",f:A6},128:{n:"PtgAttrIfError",f:w6},255:{}};function _L(r,e,t,n){if(n.biff<8)return qi(r,e);for(var i=r.l+e,o=[],l=0;l!==t.length;++l)switch(t[l][0]){case"PtgArray":t[l][1]=j6(r,0,n),o.push(t[l][1]);break;case"PtgMemArea":t[l][2]=B6(r,t[l][1],n),o.push(t[l][2]);break;case"PtgExp":n&&n.biff==12&&(t[l][1][1]=r.read_shift(4),o.push(t[l][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+t[l][0]}return e=i-r.l,e!==0&&o.push(qi(r,e)),o}function yL(r,e,t){for(var n=r.l+e,i,o,l=[];n!=r.l;)e=n-r.l,o=r[r.l],i=mx[o]||mx[mL[o]],(o===24||o===25)&&(i=(o===24?gL:vL)[r[r.l+1]]),!i||!i.f?qi(r,e):l.push([i.n,i.f(r,e,t)]);return l}function xL(r){for(var e=[],t=0;t<r.length;++t){for(var n=r[t],i=[],o=0;o<n.length;++o){var l=n[o];if(l)switch(l[0]){case 2:i.push('"'+l[1].replace(/"/g,'""')+'"');break;default:i.push(l[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var EL={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function wL(r,e){if(!r&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(r)?"'"+r+"'":r}function O2(r,e,t){if(!r)return"SH33TJSERR0";if(t.biff>8&&(!r.XTI||!r.XTI[e]))return r.SheetNames[e];if(!r.XTI)return"SH33TJSERR6";var n=r.XTI[e];if(t.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":r.XTI[e-1];if(!n)return"SH33TJSERR1";var i="";if(t.biff>8)switch(r[n[0]][0]){case 357:return i=n[1]==-1?"#REF":r.SheetNames[n[1]],n[1]==n[2]?i:i+":"+r.SheetNames[n[2]];case 358:return t.SID!=null?r.SheetNames[t.SID]:"SH33TJSSAME"+r[n[0]][0];case 355:default:return"SH33TJSSRC"+r[n[0]][0]}switch(r[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":r.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+r.SheetNames[n[2]];case 14849:return r[n[0]].slice(1).map(function(o){return o.Name}).join(";;");default:return r[n[0]][0][3]?(i=n[1]==-1?"#REF":r[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+r[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function gx(r,e,t){var n=O2(r,e,t);return n=="#REF"?n:wL(n,t)}function bl(r,e,t,n,i){var o=i&&i.biff||8,l={s:{c:0,r:0}},c=[],h,d,m,_=0,y=0,E,A="";if(!r[0]||!r[0][0])return"";for(var w=-1,S="",H=0,z=r[0].length;H<z;++H){var W=r[0][H];switch(W[0]){case"PtgUminus":c.push("-"+c.pop());break;case"PtgUplus":c.push("+"+c.pop());break;case"PtgPercent":c.push(c.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(h=c.pop(),d=c.pop(),w>=0){switch(r[0][w][1][0]){case 0:S=Qt(" ",r[0][w][1][1]);break;case 1:S=Qt("\r",r[0][w][1][1]);break;default:if(S="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+r[0][w][1][0])}d=d+S,w=-1}c.push(d+EL[W[0]]+h);break;case"PtgIsect":h=c.pop(),d=c.pop(),c.push(d+" "+h);break;case"PtgUnion":h=c.pop(),d=c.pop(),c.push(d+","+h);break;case"PtgRange":h=c.pop(),d=c.pop(),c.push(d+":"+h);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":m=Xu(W[1][1],l,i),c.push(Yu(m,o));break;case"PtgRefN":m=t?Xu(W[1][1],t,i):W[1][1],c.push(Yu(m,o));break;case"PtgRef3d":_=W[1][1],m=Xu(W[1][2],l,i),A=gx(n,_,i),c.push(A+"!"+Yu(m,o));break;case"PtgFunc":case"PtgFuncVar":var Z=W[1][0],fe=W[1][1];Z||(Z=0),Z&=127;var ge=Z==0?[]:c.slice(-Z);c.length-=Z,fe==="User"&&(fe=ge.shift()),c.push(fe+"("+ge.join(",")+")");break;case"PtgBool":c.push(W[1]?"TRUE":"FALSE");break;case"PtgInt":c.push(W[1]);break;case"PtgNum":c.push(String(W[1]));break;case"PtgStr":c.push('"'+W[1].replace(/"/g,'""')+'"');break;case"PtgErr":c.push(W[1]);break;case"PtgAreaN":E=ex(W[1][1],t?{s:t}:l,i),c.push(Dp(E,i));break;case"PtgArea":E=ex(W[1][1],l,i),c.push(Dp(E,i));break;case"PtgArea3d":_=W[1][1],E=W[1][2],A=gx(n,_,i),c.push(A+"!"+Dp(E,i));break;case"PtgAttrSum":c.push("SUM("+c.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":y=W[1][2];var k=(n.names||[])[y-1]||(n[0]||[])[y],P=k?k.Name:"SH33TJSNAME"+String(y);P&&P.slice(0,6)=="_xlfn."&&!i.xlfn&&(P=P.slice(6)),c.push(P);break;case"PtgNameX":var C=W[1][1];y=W[1][2];var L;if(i.biff<=5)C<0&&(C=-C),n[C]&&(L=n[C][y]);else{var V="";if(((n[C]||[])[0]||[])[0]==14849||(((n[C]||[])[0]||[])[0]==1025?n[C][y]&&n[C][y].itab>0&&(V=n.SheetNames[n[C][y].itab-1]+"!"):V=n.SheetNames[y-1]+"!"),n[C]&&n[C][y])V+=n[C][y].Name;else if(n[0]&&n[0][y])V+=n[0][y].Name;else{var j=(O2(n,C,i)||"").split(";;");j[y-1]?V=j[y-1]:V+="SH33TJSERRX"}c.push(V);break}L||(L={Name:"SH33TJSERRY"}),c.push(L.Name);break;case"PtgParen":var F="(",qe=")";if(w>=0){switch(S="",r[0][w][1][0]){case 2:F=Qt(" ",r[0][w][1][1])+F;break;case 3:F=Qt("\r",r[0][w][1][1])+F;break;case 4:qe=Qt(" ",r[0][w][1][1])+qe;break;case 5:qe=Qt("\r",r[0][w][1][1])+qe;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+r[0][w][1][0])}w=-1}c.push(F+c.pop()+qe);break;case"PtgRefErr":c.push("#REF!");break;case"PtgRefErr3d":c.push("#REF!");break;case"PtgExp":m={c:W[1][1],r:W[1][0]};var We={c:t.c,r:t.r};if(n.sharedf[Rt(m)]){var ut=n.sharedf[Rt(m)];c.push(bl(ut,l,We,n,i))}else{var Xe=!1;for(h=0;h!=n.arrayf.length;++h)if(d=n.arrayf[h],!(m.c<d[0].s.c||m.c>d[0].e.c)&&!(m.r<d[0].s.r||m.r>d[0].e.r)){c.push(bl(d[1],l,We,n,i)),Xe=!0;break}Xe||c.push(W[1])}break;case"PtgArray":c.push("{"+xL(W[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":w=H;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":c.push("");break;case"PtgAreaErr":c.push("#REF!");break;case"PtgAreaErr3d":c.push("#REF!");break;case"PtgList":c.push("Table"+W[1].idx+"[#"+W[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(W));default:throw new Error("Unrecognized Formula Token: "+String(W))}var Te=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&w>=0&&Te.indexOf(r[0][H][0])==-1){W=r[0][w];var Le=!0;switch(W[1][0]){case 4:Le=!1;case 0:S=Qt(" ",W[1][1]);break;case 5:Le=!1;case 1:S=Qt("\r",W[1][1]);break;default:if(S="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+W[1][0])}c.push((Le?S:"")+c.pop()+(Le?"":S)),w=-1}}if(c.length>1&&i.WTF)throw new Error("bad formula stack");return c[0]}function TL(r){if(r==null){var e=he(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof r=="number")return vo(r);return vo(0)}function SL(r,e,t,n,i){var o=_o(e,t,i),l=TL(r.v),c=he(6),h=33;c.write_shift(2,h),c.write_shift(4,0);for(var d=he(r.bf.length),m=0;m<r.bf.length;++m)d[m]=r.bf[m];var _=Vr([o,l,c,d]);return _}function U0(r,e,t){var n=r.read_shift(4),i=yL(r,n,t),o=r.read_shift(4),l=o>0?_L(r,o,i,t):null;return[i,l]}var AL=U0,B0=U0,IL=U0,CL=U0,RL={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},D2={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},PL={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function kL(r){var e="of:="+r.replace(Fg,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function NL(r){return r.replace(/\./,"!")}var Qu=typeof Map<"u";function Vg(r,e,t){var n=0,i=r.length;if(t){if(Qu?t.has(e):Object.prototype.hasOwnProperty.call(t,e)){for(var o=Qu?t.get(e):t[e];n<o.length;++n)if(r[o[n]].t===e)return r.Count++,o[n]}}else for(;n<i;++n)if(r[n].t===e)return r.Count++,n;return r[i]={t:e},r.Count++,r.Unique++,t&&(Qu?(t.has(e)||t.set(e,[]),t.get(e).push(i)):(Object.prototype.hasOwnProperty.call(t,e)||(t[e]=[]),t[e].push(i))),i}function j0(r,e){var t={min:r+1,max:r+1},n=-1;return e.MDW&&(ws=e.MDW),e.width!=null?t.customWidth=1:e.wpx!=null?n=Zh(e.wpx):e.wch!=null&&(n=e.wch),n>-1?(t.width=gm(n),t.customWidth=1):e.width!=null&&(t.width=e.width),e.hidden&&(t.hidden=!0),e.level!=null&&(t.outlineLevel=t.level=e.level),t}function F2(r,e){if(r){var t=[.7,.7,.75,.75,.3,.3];r.left==null&&(r.left=t[0]),r.right==null&&(r.right=t[1]),r.top==null&&(r.top=t[2]),r.bottom==null&&(r.bottom=t[3]),r.header==null&&(r.header=t[4]),r.footer==null&&(r.footer=t[5])}}function Na(r,e,t){var n=t.revssf[e.z!=null?e.z:"General"],i=60,o=r.length;if(n==null&&t.ssf){for(;i<392;++i)if(t.ssf[i]==null){PT(e.z,i),t.ssf[i]=e.z,t.revssf[e.z]=n=i;break}}for(i=0;i!=o;++i)if(r[i].numFmtId===n)return i;return r[o]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},o}function OL(r,e,t){if(r&&r["!ref"]){var n=Ut(r["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+t+"): "+r["!ref"])}}function DL(r){if(r.length===0)return"";for(var e='<mergeCells count="'+r.length+'">',t=0;t!=r.length;++t)e+='<mergeCell ref="'+lr(r[t])+'"/>';return e+"</mergeCells>"}function FL(r,e,t,n,i){var o=!1,l={},c=null;if(n.bookType!=="xlsx"&&e.vbaraw){var h=e.SheetNames[t];try{e.Workbook&&(h=e.Workbook.Sheets[t].CodeName||h)}catch{}o=!0,l.codeName=fc(Ct(h))}if(r&&r["!outline"]){var d={summaryBelow:1,summaryRight:1};r["!outline"].above&&(d.summaryBelow=0),r["!outline"].left&&(d.summaryRight=0),c=(c||"")+ke("outlinePr",null,d)}!o&&!c||(i[i.length]=ke("sheetPr",c,l))}var LL=["objects","scenarios","selectLockedCells","selectUnlockedCells"],ML=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function VL(r){var e={sheet:1};return LL.forEach(function(t){r[t]!=null&&r[t]&&(e[t]="1")}),ML.forEach(function(t){r[t]!=null&&!r[t]&&(e[t]="0")}),r.password&&(e.password=v2(r.password).toString(16).toUpperCase()),ke("sheetProtection",null,e)}function bL(r){return F2(r),ke("pageMargins",null,r)}function UL(r,e){for(var t=["<cols>"],n,i=0;i!=e.length;++i)(n=e[i])&&(t[t.length]=ke("col",null,j0(i,n)));return t[t.length]="</cols>",t.join("")}function BL(r,e,t,n){var i=typeof r.ref=="string"?r.ref:lr(r.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var o=t.Workbook.Names,l=Fn(i);l.s.r==l.e.r&&(l.e.r=Fn(e["!ref"]).e.r,i=lr(l));for(var c=0;c<o.length;++c){var h=o[c];if(h.Name=="_xlnm._FilterDatabase"&&h.Sheet==n){h.Ref="'"+t.SheetNames[n]+"'!"+i;break}}return c==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+t.SheetNames[n]+"'!"+i}),ke("autoFilter",null,{ref:i})}function jL(r,e,t,n){var i={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),ke("sheetViews",ke("sheetView",null,i),{})}function zL(r,e,t,n){if(r.c&&t["!comments"].push([e,r.c]),r.v===void 0&&typeof r.f!="string"||r.t==="z"&&!r.f)return"";var i="",o=r.t,l=r.v;if(r.t!=="z")switch(r.t){case"b":i=r.v?"1":"0";break;case"n":i=""+r.v;break;case"e":i=Oc[r.v];break;case"d":n&&n.cellDates?i=ln(r.v,-1).toISOString():(r=En(r),r.t="n",i=""+(r.v=xn(ln(r.v)))),typeof r.z>"u"&&(r.z=Jt[14]);break;default:i=r.v;break}var c=br("v",Ct(i)),h={r:e},d=Na(n.cellXfs,r,n);switch(d!==0&&(h.s=d),r.t){case"n":break;case"d":h.t="d";break;case"b":h.t="b";break;case"e":h.t="e";break;case"z":break;default:if(r.v==null){delete r.t;break}if(r.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){c=br("v",""+Vg(n.Strings,r.v,n.revStrings)),h.t="s";break}h.t="str";break}if(r.t!=o&&(r.t=o,r.v=l),typeof r.f=="string"&&r.f){var m=r.F&&r.F.slice(0,e.length)==e?{t:"array",ref:r.F}:null;c=ke("f",Ct(r.f),m)+(r.v!=null?c:"")}return r.l&&t["!links"].push([e,r.l]),r.D&&(h.cm=1),ke("c",c,h)}function HL(r,e,t,n){var i=[],o=[],l=Ut(r["!ref"]),c="",h,d="",m=[],_=0,y=0,E=r["!rows"],A=Array.isArray(r),w={r:d},S,H=-1;for(y=l.s.c;y<=l.e.c;++y)m[y]=Jr(y);for(_=l.s.r;_<=l.e.r;++_){for(o=[],d=Ur(_),y=l.s.c;y<=l.e.c;++y){h=m[y]+d;var z=A?(r[_]||[])[y]:r[h];z!==void 0&&(c=zL(z,h,r,e))!=null&&o.push(c)}(o.length>0||E&&E[_])&&(w={r:d},E&&E[_]&&(S=E[_],S.hidden&&(w.hidden=1),H=-1,S.hpx?H=e0(S.hpx):S.hpt&&(H=S.hpt),H>-1&&(w.ht=H,w.customHeight=1),S.level&&(w.outlineLevel=S.level)),i[i.length]=ke("row",o.join(""),w))}if(E)for(;_<E.length;++_)E&&E[_]&&(w={r:_+1},S=E[_],S.hidden&&(w.hidden=1),H=-1,S.hpx?H=e0(S.hpx):S.hpt&&(H=S.hpt),H>-1&&(w.ht=H,w.customHeight=1),S.level&&(w.outlineLevel=S.level),i[i.length]=ke("row","",w));return i.join("")}function L2(r,e,t,n){var i=[ur,ke("worksheet",null,{xmlns:Xl[0],"xmlns:r":Er.r})],o=t.SheetNames[r],l=0,c="",h=t.Sheets[o];h==null&&(h={});var d=h["!ref"]||"A1",m=Ut(d);if(m.e.c>16383||m.e.r>1048575){if(e.WTF)throw new Error("Range "+d+" exceeds format limit A1:XFD1048576");m.e.c=Math.min(m.e.c,16383),m.e.r=Math.min(m.e.c,1048575),d=lr(m)}n||(n={}),h["!comments"]=[];var _=[];FL(h,t,r,e,i),i[i.length]=ke("dimension",null,{ref:d}),i[i.length]=jL(h,e,r,t),e.sheetFormat&&(i[i.length]=ke("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),h["!cols"]!=null&&h["!cols"].length>0&&(i[i.length]=UL(h,h["!cols"])),i[l=i.length]="<sheetData/>",h["!links"]=[],h["!ref"]!=null&&(c=HL(h,e),c.length>0&&(i[i.length]=c)),i.length>l+1&&(i[i.length]="</sheetData>",i[l]=i[l].replace("/>",">")),h["!protect"]&&(i[i.length]=VL(h["!protect"])),h["!autofilter"]!=null&&(i[i.length]=BL(h["!autofilter"],h,t,r)),h["!merges"]!=null&&h["!merges"].length>0&&(i[i.length]=DL(h["!merges"]));var y=-1,E,A=-1;return h["!links"].length>0&&(i[i.length]="<hyperlinks>",h["!links"].forEach(function(w){w[1].Target&&(E={ref:w[0]},w[1].Target.charAt(0)!="#"&&(A=It(n,-1,Ct(w[1].Target).replace(/#.*$/,""),yt.HLINK),E["r:id"]="rId"+A),(y=w[1].Target.indexOf("#"))>-1&&(E.location=Ct(w[1].Target.slice(y+1))),w[1].Tooltip&&(E.tooltip=Ct(w[1].Tooltip)),i[i.length]=ke("hyperlink",null,E))}),i[i.length]="</hyperlinks>"),delete h["!links"],h["!margins"]!=null&&(i[i.length]=bL(h["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=br("ignoredErrors",ke("ignoredError",null,{numberStoredAsText:1,sqref:d}))),_.length>0&&(A=It(n,-1,"../drawings/drawing"+(r+1)+".xml",yt.DRAW),i[i.length]=ke("drawing",null,{"r:id":"rId"+A}),h["!drawing"]=_),h["!comments"].length>0&&(A=It(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",yt.VML),i[i.length]=ke("legacyDrawing",null,{"r:id":"rId"+A}),h["!legacy"]=A),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function WL(r,e){var t={},n=r.l+e;t.r=r.read_shift(4),r.l+=4;var i=r.read_shift(2);r.l+=1;var o=r.read_shift(1);return r.l=n,o&7&&(t.level=o&7),o&16&&(t.hidden=!0),o&32&&(t.hpt=i/20),t}function $L(r,e,t){var n=he(145),i=(t["!rows"]||[])[r]||{};n.write_shift(4,r),n.write_shift(4,0);var o=320;i.hpx?o=e0(i.hpx)*20:i.hpt&&(o=i.hpt*20),n.write_shift(2,o),n.write_shift(1,0);var l=0;i.level&&(l|=i.level),i.hidden&&(l|=16),(i.hpx||i.hpt)&&(l|=32),n.write_shift(1,l),n.write_shift(1,0);var c=0,h=n.l;n.l+=4;for(var d={r,c:0},m=0;m<16;++m)if(!(e.s.c>m+1<<10||e.e.c<m<<10)){for(var _=-1,y=-1,E=m<<10;E<m+1<<10;++E){d.c=E;var A=Array.isArray(t)?(t[d.r]||[])[d.c]:t[Rt(d)];A&&(_<0&&(_=E),y=E)}_<0||(++c,n.write_shift(4,_),n.write_shift(4,y))}var w=n.l;return n.l=h,n.write_shift(4,c),n.l=w,n.length>n.l?n.slice(0,n.l):n}function GL(r,e,t,n){var i=$L(n,t,e);(i.length>17||(e["!rows"]||[])[n])&&ve(r,0,i)}var KL=Ro,qL=Ql;function XL(){}function YL(r,e){var t={},n=r[r.l];return++r.l,t.above=!(n&64),t.left=!(n&128),r.l+=18,t.name=aD(r),t}function QL(r,e,t){t==null&&(t=he(84+4*r.length));var n=192;e&&(e.above&&(n&=-65),e.left&&(n&=-129)),t.write_shift(1,n);for(var i=1;i<3;++i)t.write_shift(1,0);return Yh({auto:1},t),t.write_shift(-4,-1),t.write_shift(-4,-1),YT(r,t),t.slice(0,t.l)}function JL(r){var e=Yn(r);return[e]}function ZL(r,e,t){return t==null&&(t=he(8)),Ao(e,t)}function eM(r){var e=Io(r);return[e]}function tM(r,e,t){return t==null&&(t=he(4)),Co(e,t)}function rM(r){var e=Yn(r),t=r.read_shift(1);return[e,t,"b"]}function nM(r,e,t){return t==null&&(t=he(9)),Ao(e,t),t.write_shift(1,r.v?1:0),t}function iM(r){var e=Io(r),t=r.read_shift(1);return[e,t,"b"]}function sM(r,e,t){return t==null&&(t=he(5)),Co(e,t),t.write_shift(1,r.v?1:0),t}function aM(r){var e=Yn(r),t=r.read_shift(1);return[e,t,"e"]}function oM(r,e,t){return t==null&&(t=he(9)),Ao(e,t),t.write_shift(1,r.v),t}function lM(r){var e=Io(r),t=r.read_shift(1);return[e,t,"e"]}function uM(r,e,t){return t==null&&(t=he(8)),Co(e,t),t.write_shift(1,r.v),t.write_shift(2,0),t.write_shift(1,0),t}function cM(r){var e=Yn(r),t=r.read_shift(4);return[e,t,"s"]}function fM(r,e,t){return t==null&&(t=he(12)),Ao(e,t),t.write_shift(4,e.v),t}function hM(r){var e=Io(r),t=r.read_shift(4);return[e,t,"s"]}function dM(r,e,t){return t==null&&(t=he(8)),Co(e,t),t.write_shift(4,e.v),t}function pM(r){var e=Yn(r),t=Jl(r);return[e,t,"n"]}function mM(r,e,t){return t==null&&(t=he(16)),Ao(e,t),vo(r.v,t),t}function gM(r){var e=Io(r),t=Jl(r);return[e,t,"n"]}function vM(r,e,t){return t==null&&(t=he(12)),Co(e,t),vo(r.v,t),t}function _M(r){var e=Yn(r),t=QT(r);return[e,t,"n"]}function yM(r,e,t){return t==null&&(t=he(12)),Ao(e,t),JT(r.v,t),t}function xM(r){var e=Io(r),t=QT(r);return[e,t,"n"]}function EM(r,e,t){return t==null&&(t=he(8)),Co(e,t),JT(r.v,t),t}function wM(r){var e=Yn(r),t=Pg(r);return[e,t,"is"]}function TM(r){var e=Yn(r),t=Zr(r);return[e,t,"str"]}function SM(r,e,t){return t==null&&(t=he(12+4*r.v.length)),Ao(e,t),Tr(r.v,t),t.length>t.l?t.slice(0,t.l):t}function AM(r){var e=Io(r),t=Zr(r);return[e,t,"str"]}function IM(r,e,t){return t==null&&(t=he(8+4*r.v.length)),Co(e,t),Tr(r.v,t),t.length>t.l?t.slice(0,t.l):t}function CM(r,e,t){var n=r.l+e,i=Yn(r);i.r=t["!row"];var o=r.read_shift(1),l=[i,o,"b"];if(t.cellFormula){r.l+=2;var c=B0(r,n-r.l,t);l[3]=bl(c,null,i,t.supbooks,t)}else r.l=n;return l}function RM(r,e,t){var n=r.l+e,i=Yn(r);i.r=t["!row"];var o=r.read_shift(1),l=[i,o,"e"];if(t.cellFormula){r.l+=2;var c=B0(r,n-r.l,t);l[3]=bl(c,null,i,t.supbooks,t)}else r.l=n;return l}function PM(r,e,t){var n=r.l+e,i=Yn(r);i.r=t["!row"];var o=Jl(r),l=[i,o,"n"];if(t.cellFormula){r.l+=2;var c=B0(r,n-r.l,t);l[3]=bl(c,null,i,t.supbooks,t)}else r.l=n;return l}function kM(r,e,t){var n=r.l+e,i=Yn(r);i.r=t["!row"];var o=Zr(r),l=[i,o,"str"];if(t.cellFormula){r.l+=2;var c=B0(r,n-r.l,t);l[3]=bl(c,null,i,t.supbooks,t)}else r.l=n;return l}var NM=Ro,OM=Ql;function DM(r,e){return e==null&&(e=he(4)),e.write_shift(4,r),e}function FM(r,e){var t=r.l+e,n=Ro(r),i=kg(r),o=Zr(r),l=Zr(r),c=Zr(r);r.l=t;var h={rfx:n,relId:i,loc:o,display:c};return l&&(h.Tooltip=l),h}function LM(r,e){var t=he(50+4*(r[1].Target.length+(r[1].Tooltip||"").length));Ql({s:wr(r[0]),e:wr(r[0])},t),Ng("rId"+e,t);var n=r[1].Target.indexOf("#"),i=n==-1?"":r[1].Target.slice(n+1);return Tr(i||"",t),Tr(r[1].Tooltip||"",t),Tr("",t),t.slice(0,t.l)}function MM(){}function VM(r,e,t){var n=r.l+e,i=ZT(r),o=r.read_shift(1),l=[i];if(l[2]=o,t.cellFormula){var c=AL(r,n-r.l,t);l[1]=c}else r.l=n;return l}function bM(r,e,t){var n=r.l+e,i=Ro(r),o=[i];if(t.cellFormula){var l=CL(r,n-r.l,t);o[1]=l,r.l=n}else r.l=n;return o}function UM(r,e,t){t==null&&(t=he(18));var n=j0(r,e);t.write_shift(-4,r),t.write_shift(-4,r),t.write_shift(4,(n.width||10)*256),t.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof n.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),t.write_shift(2,i),t}var M2=["left","right","top","bottom","header","footer"];function BM(r){var e={};return M2.forEach(function(t){e[t]=Jl(r)}),e}function jM(r,e){return e==null&&(e=he(48)),F2(r),M2.forEach(function(t){vo(r[t],e)}),e}function zM(r){var e=r.read_shift(2);return r.l+=28,{RTL:e&32}}function HM(r,e,t){t==null&&(t=he(30));var n=924;return(((e||{}).Views||[])[0]||{}).RTL&&(n|=32),t.write_shift(2,n),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,100),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(4,0),t}function WM(r){var e=he(24);return e.write_shift(4,4),e.write_shift(4,1),Ql(r,e),e}function $M(r,e){return e==null&&(e=he(66)),e.write_shift(2,r.password?v2(r.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(t){t[1]?e.write_shift(4,r[t[0]]!=null&&!r[t[0]]?1:0):e.write_shift(4,r[t[0]]!=null&&r[t[0]]?0:1)}),e}function GM(){}function KM(){}function qM(r,e,t,n,i,o,l){if(e.v===void 0)return!1;var c="";switch(e.t){case"b":c=e.v?"1":"0";break;case"d":e=En(e),e.z=e.z||Jt[14],e.v=xn(ln(e.v)),e.t="n";break;case"n":case"e":c=""+e.v;break;default:c=e.v;break}var h={r:t,c:n};switch(h.s=Na(i.cellXfs,e,i),e.l&&o["!links"].push([Rt(h),e.l]),e.c&&o["!comments"].push([Rt(h),e.c]),e.t){case"s":case"str":return i.bookSST?(c=Vg(i.Strings,e.v,i.revStrings),h.t="s",h.v=c,l?ve(r,18,dM(e,h)):ve(r,7,fM(e,h))):(h.t="str",l?ve(r,17,IM(e,h)):ve(r,6,SM(e,h))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?l?ve(r,13,EM(e,h)):ve(r,2,yM(e,h)):l?ve(r,16,vM(e,h)):ve(r,5,mM(e,h)),!0;case"b":return h.t="b",l?ve(r,15,sM(e,h)):ve(r,4,nM(e,h)),!0;case"e":return h.t="e",l?ve(r,14,uM(e,h)):ve(r,3,oM(e,h)),!0}return l?ve(r,12,tM(e,h)):ve(r,1,ZL(e,h)),!0}function XM(r,e,t,n){var i=Ut(e["!ref"]||"A1"),o,l="",c=[];ve(r,145);var h=Array.isArray(e),d=i.e.r;e["!rows"]&&(d=Math.max(i.e.r,e["!rows"].length-1));for(var m=i.s.r;m<=d;++m){l=Ur(m),GL(r,e,i,m);var _=!1;if(m<=i.e.r)for(var y=i.s.c;y<=i.e.c;++y){m===i.s.r&&(c[y]=Jr(y)),o=c[y]+l;var E=h?(e[m]||[])[y]:e[o];if(!E){_=!1;continue}_=qM(r,E,m,y,n,e,_)}}ve(r,146)}function YM(r,e){!e||!e["!merges"]||(ve(r,177,DM(e["!merges"].length)),e["!merges"].forEach(function(t){ve(r,176,OM(t))}),ve(r,178))}function QM(r,e){!e||!e["!cols"]||(ve(r,390),e["!cols"].forEach(function(t,n){t&&ve(r,60,UM(n,t))}),ve(r,391))}function JM(r,e){!e||!e["!ref"]||(ve(r,648),ve(r,649,WM(Ut(e["!ref"]))),ve(r,650))}function ZM(r,e,t){e["!links"].forEach(function(n){if(n[1].Target){var i=It(t,-1,n[1].Target.replace(/#.*$/,""),yt.HLINK);ve(r,494,LM(n,i))}}),delete e["!links"]}function e8(r,e,t,n){if(e["!comments"].length>0){var i=It(n,-1,"../drawings/vmlDrawing"+(t+1)+".vml",yt.VML);ve(r,551,Ng("rId"+i)),e["!legacy"]=i}}function t8(r,e,t,n){if(e["!autofilter"]){var i=e["!autofilter"],o=typeof i.ref=="string"?i.ref:lr(i.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var l=t.Workbook.Names,c=Fn(o);c.s.r==c.e.r&&(c.e.r=Fn(e["!ref"]).e.r,o=lr(c));for(var h=0;h<l.length;++h){var d=l[h];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==n){d.Ref="'"+t.SheetNames[n]+"'!"+o;break}}h==l.length&&l.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+t.SheetNames[n]+"'!"+o}),ve(r,161,Ql(Ut(o))),ve(r,162)}}function r8(r,e,t){ve(r,133),ve(r,137,HM(e,t)),ve(r,138),ve(r,134)}function n8(r,e){e["!protect"]&&ve(r,535,$M(e["!protect"]))}function i8(r,e,t,n){var i=yn(),o=t.SheetNames[r],l=t.Sheets[o]||{},c=o;try{t&&t.Workbook&&(c=t.Workbook.Sheets[r].CodeName||c)}catch{}var h=Ut(l["!ref"]||"A1");if(h.e.c>16383||h.e.r>1048575){if(e.WTF)throw new Error("Range "+(l["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");h.e.c=Math.min(h.e.c,16383),h.e.r=Math.min(h.e.c,1048575)}return l["!links"]=[],l["!comments"]=[],ve(i,129),(t.vbaraw||l["!outline"])&&ve(i,147,QL(c,l["!outline"])),ve(i,148,qL(h)),r8(i,l,t.Workbook),QM(i,l),XM(i,l,r,e),n8(i,l),t8(i,l,t,r),YM(i,l),ZM(i,l,n),l["!margins"]&&ve(i,476,jM(l["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&JM(i,l),e8(i,l,r,n),ve(i,130),i.end()}function s8(r,e){r.l+=10;var t=Zr(r);return{name:t}}var a8=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function o8(r){return!r.Workbook||!r.Workbook.WBProps?"false":bO(r.Workbook.WBProps.date1904)?"true":"false"}var l8="][*?/\\".split("");function V2(r,e){if(r.length>31)throw new Error("Sheet names cannot exceed 31 chars");var t=!0;return l8.forEach(function(n){if(r.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),t}function u8(r,e,t){r.forEach(function(n,i){V2(n);for(var o=0;o<i;++o)if(n==r[o])throw new Error("Duplicate Sheet Name: "+n);if(t){var l=e&&e[i]&&e[i].CodeName||n;if(l.charCodeAt(0)==95&&l.length>22)throw new Error("Bad Code Name: Worksheet"+l)}})}function c8(r){if(!r||!r.SheetNames||!r.Sheets)throw new Error("Invalid Workbook");if(!r.SheetNames.length)throw new Error("Workbook is empty");var e=r.Workbook&&r.Workbook.Sheets||[];u8(r.SheetNames,e,!!r.vbaraw);for(var t=0;t<r.SheetNames.length;++t)OL(r.Sheets[r.SheetNames[t]],r.SheetNames[t],t)}function b2(r){var e=[ur];e[e.length]=ke("workbook",null,{xmlns:Xl[0],"xmlns:r":Er.r});var t=r.Workbook&&(r.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};r.Workbook&&r.Workbook.WBProps&&(a8.forEach(function(c){r.Workbook.WBProps[c[0]]!=null&&r.Workbook.WBProps[c[0]]!=c[1]&&(n[c[0]]=r.Workbook.WBProps[c[0]])}),r.Workbook.WBProps.CodeName&&(n.codeName=r.Workbook.WBProps.CodeName,delete n.CodeName)),e[e.length]=ke("workbookPr",null,n);var i=r.Workbook&&r.Workbook.Sheets||[],o=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",o=0;o!=r.SheetNames.length&&!(!i[o]||!i[o].Hidden);++o);o==r.SheetNames.length&&(o=0),e[e.length]='<workbookView firstSheet="'+o+'" activeTab="'+o+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",o=0;o!=r.SheetNames.length;++o){var l={name:Ct(r.SheetNames[o].slice(0,31))};if(l.sheetId=""+(o+1),l["r:id"]="rId"+(o+1),i[o])switch(i[o].Hidden){case 1:l.state="hidden";break;case 2:l.state="veryHidden";break}e[e.length]=ke("sheet",null,l)}return e[e.length]="</sheets>",t&&(e[e.length]="<definedNames>",r.Workbook&&r.Workbook.Names&&r.Workbook.Names.forEach(function(c){var h={name:c.Name};c.Comment&&(h.comment=c.Comment),c.Sheet!=null&&(h.localSheetId=""+c.Sheet),c.Hidden&&(h.hidden="1"),c.Ref&&(e[e.length]=ke("definedName",Ct(c.Ref),h))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function f8(r,e){var t={};return t.Hidden=r.read_shift(4),t.iTabID=r.read_shift(4),t.strRelID=mm(r),t.name=Zr(r),t}function h8(r,e){return e||(e=he(127)),e.write_shift(4,r.Hidden),e.write_shift(4,r.iTabID),Ng(r.strRelID,e),Tr(r.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function d8(r,e){var t={},n=r.read_shift(4);t.defaultThemeVersion=r.read_shift(4);var i=e>8?Zr(r):"";return i.length>0&&(t.CodeName=i),t.autoCompressPictures=!!(n&65536),t.backupFile=!!(n&64),t.checkCompatibility=!!(n&4096),t.date1904=!!(n&1),t.filterPrivacy=!!(n&8),t.hidePivotFieldList=!!(n&1024),t.promptedSolutions=!!(n&16),t.publishItems=!!(n&2048),t.refreshAllConnections=!!(n&262144),t.saveExternalLinkValues=!!(n&128),t.showBorderUnselectedTables=!!(n&4),t.showInkAnnotation=!!(n&32),t.showObjects=["all","placeholders","none"][n>>13&3],t.showPivotChartFilter=!!(n&32768),t.updateLinks=["userSet","never","always"][n>>8&3],t}function p8(r,e){e||(e=he(72));var t=0;return r&&r.filterPrivacy&&(t|=8),e.write_shift(4,t),e.write_shift(4,0),YT(r&&r.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function m8(r,e,t){var n=r.l+e;r.l+=4,r.l+=1;var i=r.read_shift(4),o=oD(r),l=IL(r,0,t),c=kg(r);r.l=n;var h={Name:o,Ptg:l};return i<268435455&&(h.Sheet=i),c&&(h.Comment=c),h}function g8(r,e){ve(r,143);for(var t=0;t!=e.SheetNames.length;++t){var n=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[t]&&e.Workbook.Sheets[t].Hidden||0,i={Hidden:n,iTabID:t+1,strRelID:"rId"+(t+1),name:e.SheetNames[t]};ve(r,156,h8(i))}ve(r,144)}function v8(r,e){e||(e=he(127));for(var t=0;t!=4;++t)e.write_shift(4,0);return Tr("SheetJS",e),Tr(zh.version,e),Tr(zh.version,e),Tr("7262",e),e.length>e.l?e.slice(0,e.l):e}function _8(r,e){e||(e=he(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,r),e.write_shift(4,r);var t=120;return e.write_shift(1,t),e.length>e.l?e.slice(0,e.l):e}function y8(r,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var t=e.Workbook.Sheets,n=0,i=-1,o=-1;n<t.length;++n)!t[n]||!t[n].Hidden&&i==-1?i=n:t[n].Hidden==1&&o==-1&&(o=n);o>i||(ve(r,135),ve(r,158,_8(i)),ve(r,136))}}function x8(r,e){var t=yn();return ve(t,131),ve(t,128,v8()),ve(t,153,p8(r.Workbook&&r.Workbook.WBProps||null)),y8(t,r),g8(t,r),ve(t,132),t.end()}function E8(r,e,t){return(e.slice(-4)===".bin"?x8:b2)(r)}function w8(r,e,t,n,i){return(e.slice(-4)===".bin"?i8:L2)(r,t,n,i)}function T8(r,e,t){return(e.slice(-4)===".bin"?jF:x2)(r,t)}function S8(r,e,t){return(e.slice(-4)===".bin"?pF:g2)(r,t)}function A8(r,e,t){return(e.slice(-4)===".bin"?n6:A2)(r)}function I8(r){return(r.slice(-4)===".bin"?XF:T2)()}function C8(r,e){var t=[];return r.Props&&t.push(TD(r.Props,e)),r.Custprops&&t.push(SD(r.Props,r.Custprops)),t.join("")}function R8(){return""}function P8(r,e){var t=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(n,i){var o=[];o.push(ke("NumberFormat",null,{"ss:Format":Ct(Jt[n.numFmtId])}));var l={"ss:ID":"s"+(21+i)};t.push(ke("Style",o.join(""),l))}),ke("Styles",t.join(""))}function U2(r){return ke("NamedRange",null,{"ss:Name":r.Name,"ss:RefersTo":"="+Lg(r.Ref,{r:0,c:0})})}function k8(r){if(!((r||{}).Workbook||{}).Names)return"";for(var e=r.Workbook.Names,t=[],n=0;n<e.length;++n){var i=e[n];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||t.push(U2(i)))}return ke("Names",t.join(""))}function N8(r,e,t,n){if(!r||!((n||{}).Workbook||{}).Names)return"";for(var i=n.Workbook.Names,o=[],l=0;l<i.length;++l){var c=i[l];c.Sheet==t&&(c.Name.match(/^_xlfn\./)||o.push(U2(c)))}return o.join("")}function O8(r,e,t,n){if(!r)return"";var i=[];if(r["!margins"]&&(i.push("<PageSetup>"),r["!margins"].header&&i.push(ke("Header",null,{"x:Margin":r["!margins"].header})),r["!margins"].footer&&i.push(ke("Footer",null,{"x:Margin":r["!margins"].footer})),i.push(ke("PageMargins",null,{"x:Bottom":r["!margins"].bottom||"0.75","x:Left":r["!margins"].left||"0.7","x:Right":r["!margins"].right||"0.7","x:Top":r["!margins"].top||"0.75"})),i.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[t])if(n.Workbook.Sheets[t].Hidden)i.push(ke("Visible",n.Workbook.Sheets[t].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var o=0;o<t&&!(n.Workbook.Sheets[o]&&!n.Workbook.Sheets[o].Hidden);++o);o==t&&i.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),r["!protect"]&&(i.push(br("ProtectContents","True")),r["!protect"].objects&&i.push(br("ProtectObjects","True")),r["!protect"].scenarios&&i.push(br("ProtectScenarios","True")),r["!protect"].selectLockedCells!=null&&!r["!protect"].selectLockedCells?i.push(br("EnableSelection","NoSelection")):r["!protect"].selectUnlockedCells!=null&&!r["!protect"].selectUnlockedCells&&i.push(br("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(l){r["!protect"][l[0]]&&i.push("<"+l[1]+"/>")})),i.length==0?"":ke("WorksheetOptions",i.join(""),{xmlns:Nn.x})}function D8(r){return r.map(function(e){var t=VO(e.t||""),n=ke("ss:Data",t,{xmlns:"http://www.w3.org/TR/REC-html40"});return ke("Comment",n,{"ss:Author":e.a})}).join("")}function F8(r,e,t,n,i,o,l){if(!r||r.v==null&&r.f==null)return"";var c={};if(r.f&&(c["ss:Formula"]="="+Ct(Lg(r.f,l))),r.F&&r.F.slice(0,e.length)==e){var h=wr(r.F.slice(e.length+1));c["ss:ArrayRange"]="RC:R"+(h.r==l.r?"":"["+(h.r-l.r)+"]")+"C"+(h.c==l.c?"":"["+(h.c-l.c)+"]")}if(r.l&&r.l.Target&&(c["ss:HRef"]=Ct(r.l.Target),r.l.Tooltip&&(c["x:HRefScreenTip"]=Ct(r.l.Tooltip))),t["!merges"])for(var d=t["!merges"],m=0;m!=d.length;++m)d[m].s.c!=l.c||d[m].s.r!=l.r||(d[m].e.c>d[m].s.c&&(c["ss:MergeAcross"]=d[m].e.c-d[m].s.c),d[m].e.r>d[m].s.r&&(c["ss:MergeDown"]=d[m].e.r-d[m].s.r));var _="",y="";switch(r.t){case"z":if(!n.sheetStubs)return"";break;case"n":_="Number",y=String(r.v);break;case"b":_="Boolean",y=r.v?"1":"0";break;case"e":_="Error",y=Oc[r.v];break;case"d":_="DateTime",y=new Date(r.v).toISOString(),r.z==null&&(r.z=r.z||Jt[14]);break;case"s":_="String",y=MO(r.v||"");break}var E=Na(n.cellXfs,r,n);c["ss:StyleID"]="s"+(21+E),c["ss:Index"]=l.c+1;var A=r.v!=null?y:"",w=r.t=="z"?"":'<Data ss:Type="'+_+'">'+A+"</Data>";return(r.c||[]).length>0&&(w+=D8(r.c)),ke("Cell",w,c)}function L8(r,e){var t='<Row ss:Index="'+(r+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=y2(e.hpt)),e.hpx&&(t+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(t+=' ss:Hidden="1"')),t+">"}function M8(r,e,t,n){if(!r["!ref"])return"";var i=Ut(r["!ref"]),o=r["!merges"]||[],l=0,c=[];r["!cols"]&&r["!cols"].forEach(function(S,H){Dg(S);var z=!!S.width,W=j0(H,S),Z={"ss:Index":H+1};z&&(Z["ss:Width"]=Jh(W.width)),S.hidden&&(Z["ss:Hidden"]="1"),c.push(ke("Column",null,Z))});for(var h=Array.isArray(r),d=i.s.r;d<=i.e.r;++d){for(var m=[L8(d,(r["!rows"]||[])[d])],_=i.s.c;_<=i.e.c;++_){var y=!1;for(l=0;l!=o.length;++l)if(!(o[l].s.c>_)&&!(o[l].s.r>d)&&!(o[l].e.c<_)&&!(o[l].e.r<d)){(o[l].s.c!=_||o[l].s.r!=d)&&(y=!0);break}if(!y){var E={r:d,c:_},A=Rt(E),w=h?(r[d]||[])[_]:r[A];m.push(F8(w,A,r,e,t,n,E))}}m.push("</Row>"),m.length>2&&c.push(m.join(""))}return c.join("")}function V8(r,e,t){var n=[],i=t.SheetNames[r],o=t.Sheets[i],l=o?N8(o,e,r,t):"";return l.length>0&&n.push("<Names>"+l+"</Names>"),l=o?M8(o,e,r,t):"",l.length>0&&n.push("<Table>"+l+"</Table>"),n.push(O8(o,e,r,t)),n.join("")}function b8(r,e){e||(e={}),r.SSF||(r.SSF=En(Jt)),r.SSF&&(M0(),L0(r.SSF),e.revssf=V0(r.SSF),e.revssf[r.SSF[65535]]=0,e.ssf=r.SSF,e.cellXfs=[],Na(e.cellXfs,{},{revssf:{General:0}}));var t=[];t.push(C8(r,e)),t.push(R8()),t.push(""),t.push("");for(var n=0;n<r.SheetNames.length;++n)t.push(ke("Worksheet",V8(n,e,r),{"ss:Name":Ct(r.SheetNames[n])}));return t[2]=P8(r,e),t[3]=k8(r),ur+ke("Workbook",t.join(""),{xmlns:Nn.ss,"xmlns:o":Nn.o,"xmlns:x":Nn.x,"xmlns:ss":Nn.ss,"xmlns:dt":Nn.dt,"xmlns:html":Nn.html})}var Mp={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function U8(r,e){var t=[],n=[],i=[],o=0,l,c=Hy(rx,"n"),h=Hy(nx,"n");if(r.Props)for(l=jr(r.Props),o=0;o<l.length;++o)(Object.prototype.hasOwnProperty.call(c,l[o])?t:Object.prototype.hasOwnProperty.call(h,l[o])?n:i).push([l[o],r.Props[l[o]]]);if(r.Custprops)for(l=jr(r.Custprops),o=0;o<l.length;++o)Object.prototype.hasOwnProperty.call(r.Props||{},l[o])||(Object.prototype.hasOwnProperty.call(c,l[o])?t:Object.prototype.hasOwnProperty.call(h,l[o])?n:i).push([l[o],r.Custprops[l[o]]]);var d=[];for(o=0;o<i.length;++o)u2.indexOf(i[o][0])>-1||a2.indexOf(i[o][0])>-1||i[o][1]!=null&&d.push(i[o]);n.length&&kt.utils.cfb_add(e,"/SummaryInformation",lx(n,Mp.SI,h,nx)),(t.length||d.length)&&kt.utils.cfb_add(e,"/DocumentSummaryInformation",lx(t,Mp.DSI,c,rx,d.length?d:null,Mp.UDI))}function B8(r,e){var t=e||{},n=kt.utils.cfb_new({root:"R"}),i="/Workbook";switch(t.bookType||"xls"){case"xls":t.bookType="biff8";case"xla":t.bookType||(t.bookType="xla");case"biff8":i="/Workbook",t.biff=8;break;case"biff5":i="/Book",t.biff=5;break;default:throw new Error("invalid type "+t.bookType+" for XLS CFB")}return kt.utils.cfb_add(n,i,B2(r,t)),t.biff==8&&(r.Props||r.Custprops)&&U8(r,n),t.biff==8&&r.vbaraw&&i6(n,kt.read(r.vbaraw,{type:typeof r.vbaraw=="string"?"binary":"buffer"})),n}var j8={0:{f:WL},1:{f:JL},2:{f:_M},3:{f:aM},4:{f:rM},5:{f:pM},6:{f:TM},7:{f:cM},8:{f:kM},9:{f:PM},10:{f:CM},11:{f:RM},12:{f:eM},13:{f:xM},14:{f:lM},15:{f:iM},16:{f:gM},17:{f:AM},18:{f:hM},19:{f:Pg},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:m8},40:{},42:{},43:{f:TF},44:{f:EF},45:{f:IF},46:{f:RF},47:{f:CF},48:{},49:{f:eD},50:{},51:{f:WF},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:tF},62:{f:wM},63:{f:YF},64:{f:GM},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:qi,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:zM},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:YL},148:{f:KL,p:16},151:{f:MM},152:{},153:{f:d8},154:{},155:{},156:{f:f8},157:{},158:{},159:{T:1,f:fF},160:{T:-1},161:{T:1,f:Ro},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:NM},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:zF},336:{T:-1},337:{f:KF,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:mm},357:{},358:{},359:{},360:{T:1},361:{},362:{f:XD},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:VM},427:{f:bM},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:BM},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:XL},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:FM},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:mm},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:t6},633:{T:1},634:{T:-1},635:{T:1,f:ZF},636:{T:-1},637:{f:iD},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:s8},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:KM},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Oe(r,e,t,n){var i=e;if(!isNaN(i)){var o=n||(t||[]).length||0,l=r.next(4);l.write_shift(2,i),l.write_shift(2,o),o>0&&Ig(t)&&r.push(t)}}function z8(r,e,t,n){var i=(t||[]).length||0;if(i<=8224)return Oe(r,e,t,i);var o=e;if(!isNaN(o)){for(var l=t.parts||[],c=0,h=0,d=0;d+(l[c]||8224)<=8224;)d+=l[c]||8224,c++;var m=r.next(4);for(m.write_shift(2,o),m.write_shift(2,d),r.push(t.slice(h,h+d)),h+=d;h<i;){for(m=r.next(4),m.write_shift(2,60),d=0;d+(l[c]||8224)<=8224;)d+=l[c]||8224,c++;m.write_shift(2,d),r.push(t.slice(h,h+d)),h+=d}}}function Fc(r,e,t){return r||(r=he(7)),r.write_shift(2,e),r.write_shift(2,t),r.write_shift(2,0),r.write_shift(1,0),r}function H8(r,e,t,n){var i=he(9);return Fc(i,r,e),f2(t,n||"b",i),i}function W8(r,e,t){var n=he(8+2*t.length);return Fc(n,r,e),n.write_shift(1,t.length),n.write_shift(t.length,t,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function $8(r,e,t,n){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?xn(ln(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?Oe(r,2,sF(t,n,i)):Oe(r,3,iF(t,n,i));return;case"b":case"e":Oe(r,5,H8(t,n,e.v,e.t));return;case"s":case"str":Oe(r,4,W8(t,n,(e.v||"").slice(0,255)));return}Oe(r,1,Fc(null,t,n))}function G8(r,e,t,n){var i=Array.isArray(e),o=Ut(e["!ref"]||"A1"),l,c="",h=[];if(o.e.c>255||o.e.r>16383){if(n.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");o.e.c=Math.min(o.e.c,255),o.e.r=Math.min(o.e.c,16383),l=lr(o)}for(var d=o.s.r;d<=o.e.r;++d){c=Ur(d);for(var m=o.s.c;m<=o.e.c;++m){d===o.s.r&&(h[m]=Jr(m)),l=h[m]+c;var _=i?(e[d]||[])[m]:e[l];_&&$8(r,_,d,m)}}}function K8(r,e){for(var t=e||{},n=yn(),i=0,o=0;o<r.SheetNames.length;++o)r.SheetNames[o]==t.sheet&&(i=o);if(i==0&&t.sheet&&r.SheetNames[0]!=t.sheet)throw new Error("Sheet not found: "+t.sheet);return Oe(n,t.biff==4?1033:t.biff==3?521:9,Og(r,16,t)),G8(n,r.Sheets[r.SheetNames[i]],i,t),Oe(n,10),n.end()}function q8(r,e,t){Oe(r,49,jD({sz:12,name:"Arial"},t))}function X8(r,e,t){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&Oe(r,1054,WD(i,e[i],t))})}function Y8(r,e){var t=he(19);t.write_shift(4,2151),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,1),t.write_shift(4,0),Oe(r,2151,t),t=he(39),t.write_shift(4,2152),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(2,1),t.write_shift(4,4),t.write_shift(2,0),p2(Ut(e["!ref"]||"A1"),t),t.write_shift(4,4),Oe(r,2152,t)}function Q8(r,e){for(var t=0;t<16;++t)Oe(r,224,cx({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(n){Oe(r,224,cx(n,0,e))})}function J8(r,e){for(var t=0;t<e["!links"].length;++t){var n=e["!links"][t];Oe(r,440,JD(n)),n[1].Tooltip&&Oe(r,2048,ZD(n))}delete e["!links"]}function Z8(r,e){if(e){var t=0;e.forEach(function(n,i){++t<=256&&n&&Oe(r,125,rF(j0(i,n),i))})}}function e5(r,e,t,n,i){var o=16+Na(i.cellXfs,e,i);if(e.v==null&&!e.bf){Oe(r,513,_o(t,n,o));return}if(e.bf)Oe(r,6,SL(e,t,n,i,o));else switch(e.t){case"d":case"n":var l=e.t=="d"?xn(ln(e.v)):e.v;Oe(r,515,qD(t,n,l,o));break;case"b":case"e":Oe(r,517,KD(t,n,e.v,o,i,e.t));break;case"s":case"str":if(i.bookSST){var c=Vg(i.Strings,e.v,i.revStrings);Oe(r,253,zD(t,n,c,o))}else Oe(r,516,HD(t,n,(e.v||"").slice(0,255),o,i));break;default:Oe(r,513,_o(t,n,o))}}function t5(r,e,t){var n=yn(),i=t.SheetNames[r],o=t.Sheets[i]||{},l=(t||{}).Workbook||{},c=(l.Sheets||[])[r]||{},h=Array.isArray(o),d=e.biff==8,m,_="",y=[],E=Ut(o["!ref"]||"A1"),A=d?65536:16384;if(E.e.c>255||E.e.r>=A){if(e.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:IV16384");E.e.c=Math.min(E.e.c,255),E.e.r=Math.min(E.e.c,A-1)}Oe(n,2057,Og(t,16,e)),Oe(n,13,Kn(1)),Oe(n,12,Kn(100)),Oe(n,15,on(!0)),Oe(n,17,on(!1)),Oe(n,16,vo(.001)),Oe(n,95,on(!0)),Oe(n,42,on(!1)),Oe(n,43,on(!1)),Oe(n,130,Kn(1)),Oe(n,128,GD()),Oe(n,131,on(!1)),Oe(n,132,on(!1)),d&&Z8(n,o["!cols"]),Oe(n,512,$D(E,e)),d&&(o["!links"]=[]);for(var w=E.s.r;w<=E.e.r;++w){_=Ur(w);for(var S=E.s.c;S<=E.e.c;++S){w===E.s.r&&(y[S]=Jr(S)),m=y[S]+_;var H=h?(o[w]||[])[S]:o[m];H&&(e5(n,H,w,S,e),d&&H.l&&o["!links"].push([m,H.l]))}}var z=c.CodeName||c.name||i;return d&&Oe(n,574,BD((l.Views||[])[0])),d&&(o["!merges"]||[]).length&&Oe(n,229,QD(o["!merges"])),d&&J8(n,o),Oe(n,442,d2(z)),d&&Y8(n,o),Oe(n,10),n.end()}function r5(r,e,t){var n=yn(),i=(r||{}).Workbook||{},o=i.Sheets||[],l=i.WBProps||{},c=t.biff==8,h=t.biff==5;if(Oe(n,2057,Og(r,5,t)),t.bookType=="xla"&&Oe(n,135),Oe(n,225,c?Kn(1200):null),Oe(n,193,CD(2)),h&&Oe(n,191),h&&Oe(n,192),Oe(n,226),Oe(n,92,MD("SheetJS",t)),Oe(n,66,Kn(c?1200:1252)),c&&Oe(n,353,Kn(0)),c&&Oe(n,448),Oe(n,317,nF(r.SheetNames.length)),c&&r.vbaraw&&Oe(n,211),c&&r.vbaraw){var d=l.CodeName||"ThisWorkbook";Oe(n,442,d2(d))}Oe(n,156,Kn(17)),Oe(n,25,on(!1)),Oe(n,18,on(!1)),Oe(n,19,Kn(0)),c&&Oe(n,431,on(!1)),c&&Oe(n,444,Kn(0)),Oe(n,61,UD()),Oe(n,64,on(!1)),Oe(n,141,Kn(0)),Oe(n,34,on(o8(r)=="true")),Oe(n,14,on(!0)),c&&Oe(n,439,on(!1)),Oe(n,218,Kn(0)),q8(n,r,t),X8(n,r.SSF,t),Q8(n,t),c&&Oe(n,352,on(!1));var m=n.end(),_=yn();c&&Oe(_,140,eF()),c&&t.Strings&&z8(_,252,bD(t.Strings)),Oe(_,10);var y=_.end(),E=yn(),A=0,w=0;for(w=0;w<r.SheetNames.length;++w)A+=(c?12:11)+(c?2:1)*r.SheetNames[w].length;var S=m.length+A+y.length;for(w=0;w<r.SheetNames.length;++w){var H=o[w]||{};Oe(E,133,VD({pos:S,hs:H.Hidden||0,dt:0,name:r.SheetNames[w]},t)),S+=e[w].length}var z=E.end();if(A!=z.length)throw new Error("BS8 "+A+" != "+z.length);var W=[];return m.length&&W.push(m),z.length&&W.push(z),y.length&&W.push(y),Vr(W)}function n5(r,e){var t=e||{},n=[];r&&!r.SSF&&(r.SSF=En(Jt)),r&&r.SSF&&(M0(),L0(r.SSF),t.revssf=V0(r.SSF),t.revssf[r.SSF[65535]]=0,t.ssf=r.SSF),t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,bg(t),t.cellXfs=[],Na(t.cellXfs,{},{revssf:{General:0}}),r.Props||(r.Props={});for(var i=0;i<r.SheetNames.length;++i)n[n.length]=t5(i,t,r);return n.unshift(r5(r,n,t)),Vr(n)}function B2(r,e){for(var t=0;t<=r.SheetNames.length;++t){var n=r.Sheets[r.SheetNames[t]];if(!(!n||!n["!ref"])){var i=Fn(n["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+r.SheetNames[t]+"' extends beyond column IV (255).  Data may be lost.")}}var o=e||{};switch(o.biff||2){case 8:case 5:return n5(r,e);case 4:case 3:case 2:return K8(r,e)}throw new Error("invalid type "+o.bookType+" for BIFF")}function i5(r,e,t,n){for(var i=r["!merges"]||[],o=[],l=e.s.c;l<=e.e.c;++l){for(var c=0,h=0,d=0;d<i.length;++d)if(!(i[d].s.r>t||i[d].s.c>l)&&!(i[d].e.r<t||i[d].e.c<l)){if(i[d].s.r<t||i[d].s.c<l){c=-1;break}c=i[d].e.r-i[d].s.r+1,h=i[d].e.c-i[d].s.c+1;break}if(!(c<0)){var m=Rt({r:t,c:l}),_=n.dense?(r[t]||[])[l]:r[m],y=_&&_.v!=null&&(_.h||LO(_.w||(Ps(_),_.w)||""))||"",E={};c>1&&(E.rowspan=c),h>1&&(E.colspan=h),n.editable?y='<span contenteditable="true">'+y+"</span>":_&&(E["data-t"]=_&&_.t||"z",_.v!=null&&(E["data-v"]=_.v),_.z!=null&&(E["data-z"]=_.z),_.l&&(_.l.Target||"#").charAt(0)!="#"&&(y='<a href="'+_.l.Target+'">'+y+"</a>")),E.id=(n.id||"sjs")+"-"+m,o.push(ke("td",y,E))}}var A="<tr>";return A+o.join("")+"</tr>"}var s5='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',a5="</body></html>";function o5(r,e,t){var n=[];return n.join("")+"<table"+(t&&t.id?' id="'+t.id+'"':"")+">"}function j2(r,e){var t=e||{},n=t.header!=null?t.header:s5,i=t.footer!=null?t.footer:a5,o=[n],l=Fn(r["!ref"]);t.dense=Array.isArray(r),o.push(o5(r,l,t));for(var c=l.s.r;c<=l.e.r;++c)o.push(i5(r,l,c,t));return o.push("</table>"+i),o.join("")}function z2(r,e,t){var n=t||{},i=0,o=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var l=typeof n.origin=="string"?wr(n.origin):n.origin;i=l.r,o=l.c}var c=e.getElementsByTagName("tr"),h=Math.min(n.sheetRows||1e7,c.length),d={s:{r:0,c:0},e:{r:i,c:o}};if(r["!ref"]){var m=Fn(r["!ref"]);d.s.r=Math.min(d.s.r,m.s.r),d.s.c=Math.min(d.s.c,m.s.c),d.e.r=Math.max(d.e.r,m.e.r),d.e.c=Math.max(d.e.c,m.e.c),i==-1&&(d.e.r=i=m.e.r+1)}var _=[],y=0,E=r["!rows"]||(r["!rows"]=[]),A=0,w=0,S=0,H=0,z=0,W=0;for(r["!cols"]||(r["!cols"]=[]);A<c.length&&w<h;++A){var Z=c[A];if(vx(Z)){if(n.display)continue;E[w]={hidden:!0}}var fe=Z.children;for(S=H=0;S<fe.length;++S){var ge=fe[S];if(!(n.display&&vx(ge))){var k=ge.hasAttribute("data-v")?ge.getAttribute("data-v"):ge.hasAttribute("v")?ge.getAttribute("v"):UO(ge.innerHTML),P=ge.getAttribute("data-z")||ge.getAttribute("z");for(y=0;y<_.length;++y){var C=_[y];C.s.c==H+o&&C.s.r<w+i&&w+i<=C.e.r&&(H=C.e.c+1-o,y=-1)}W=+ge.getAttribute("colspan")||1,((z=+ge.getAttribute("rowspan")||1)>1||W>1)&&_.push({s:{r:w+i,c:H+o},e:{r:w+i+(z||1)-1,c:H+o+(W||1)-1}});var L={t:"s",v:k},V=ge.getAttribute("data-t")||ge.getAttribute("t")||"";k!=null&&(k.length==0?L.t=V||"z":n.raw||k.trim().length==0||V=="s"||(k==="TRUE"?L={t:"b",v:!0}:k==="FALSE"?L={t:"b",v:!1}:isNaN(Es(k))?isNaN(cc(k).getDate())||(L={t:"d",v:ln(k)},n.cellDates||(L={t:"n",v:xn(L.v)}),L.z=n.dateNF||Jt[14]):L={t:"n",v:Es(k)})),L.z===void 0&&P!=null&&(L.z=P);var j="",F=ge.getElementsByTagName("A");if(F&&F.length)for(var qe=0;qe<F.length&&!(F[qe].hasAttribute("href")&&(j=F[qe].getAttribute("href"),j.charAt(0)!="#"));++qe);j&&j.charAt(0)!="#"&&(L.l={Target:j}),n.dense?(r[w+i]||(r[w+i]=[]),r[w+i][H+o]=L):r[Rt({c:H+o,r:w+i})]=L,d.e.c<H+o&&(d.e.c=H+o),H+=W}}++w}return _.length&&(r["!merges"]=(r["!merges"]||[]).concat(_)),d.e.r=Math.max(d.e.r,w-1+i),r["!ref"]=lr(d),w>=h&&(r["!fullref"]=lr((d.e.r=c.length-A+w-1+i,d))),r}function H2(r,e){var t=e||{},n=t.dense?[]:{};return z2(n,r,e)}function l5(r,e){return So(H2(r,e),e)}function vx(r){var e="",t=u5(r);return t&&(e=t(r).getPropertyValue("display")),e||(e=r.style&&r.style.display),e==="none"}function u5(r){return r.ownerDocument.defaultView&&typeof r.ownerDocument.defaultView.getComputedStyle=="function"?r.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var c5=(function(){var r=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+hc({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+r+"</office:document-styles>";return function(){return ur+e}})(),_x=(function(){var r=function(o){return Ct(o).replace(/  +/g,function(l){return'<text:s text:c="'+l.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,t=`          <table:covered-table-cell/>
`,n=function(o,l,c){var h=[];h.push('      <table:table table:name="'+Ct(l.SheetNames[c])+`" table:style-name="ta1">
`);var d=0,m=0,_=Fn(o["!ref"]||"A1"),y=o["!merges"]||[],E=0,A=Array.isArray(o);if(o["!cols"])for(m=0;m<=_.e.c;++m)h.push("        <table:table-column"+(o["!cols"][m]?' table:style-name="co'+o["!cols"][m].ods+'"':"")+`></table:table-column>
`);var w="",S=o["!rows"]||[];for(d=0;d<_.s.r;++d)w=S[d]?' table:style-name="ro'+S[d].ods+'"':"",h.push("        <table:table-row"+w+`></table:table-row>
`);for(;d<=_.e.r;++d){for(w=S[d]?' table:style-name="ro'+S[d].ods+'"':"",h.push("        <table:table-row"+w+`>
`),m=0;m<_.s.c;++m)h.push(e);for(;m<=_.e.c;++m){var H=!1,z={},W="";for(E=0;E!=y.length;++E)if(!(y[E].s.c>m)&&!(y[E].s.r>d)&&!(y[E].e.c<m)&&!(y[E].e.r<d)){(y[E].s.c!=m||y[E].s.r!=d)&&(H=!0),z["table:number-columns-spanned"]=y[E].e.c-y[E].s.c+1,z["table:number-rows-spanned"]=y[E].e.r-y[E].s.r+1;break}if(H){h.push(t);continue}var Z=Rt({r:d,c:m}),fe=A?(o[d]||[])[m]:o[Z];if(fe&&fe.f&&(z["table:formula"]=Ct(kL(fe.f)),fe.F&&fe.F.slice(0,Z.length)==Z)){var ge=Fn(fe.F);z["table:number-matrix-columns-spanned"]=ge.e.c-ge.s.c+1,z["table:number-matrix-rows-spanned"]=ge.e.r-ge.s.r+1}if(!fe){h.push(e);continue}switch(fe.t){case"b":W=fe.v?"TRUE":"FALSE",z["office:value-type"]="boolean",z["office:boolean-value"]=fe.v?"true":"false";break;case"n":W=fe.w||String(fe.v||0),z["office:value-type"]="float",z["office:value"]=fe.v||0;break;case"s":case"str":W=fe.v==null?"":fe.v,z["office:value-type"]="string";break;case"d":W=fe.w||ln(fe.v).toISOString(),z["office:value-type"]="date",z["office:date-value"]=ln(fe.v).toISOString(),z["table:style-name"]="ce1";break;default:h.push(e);continue}var k=r(W);if(fe.l&&fe.l.Target){var P=fe.l.Target;P=P.charAt(0)=="#"?"#"+NL(P.slice(1)):P,P.charAt(0)!="#"&&!P.match(/^\w+:/)&&(P="../"+P),k=ke("text:a",k,{"xlink:href":P.replace(/&/g,"&amp;")})}h.push("          "+ke("table:table-cell",ke("text:p",k,{}),z)+`
`)}h.push(`        </table:table-row>
`)}return h.push(`      </table:table>
`),h.join("")},i=function(o,l){o.push(` <office:automatic-styles>
`),o.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),o.push(`   <number:month number:style="long"/>
`),o.push(`   <number:text>/</number:text>
`),o.push(`   <number:day number:style="long"/>
`),o.push(`   <number:text>/</number:text>
`),o.push(`   <number:year/>
`),o.push(`  </number:date-style>
`);var c=0;l.SheetNames.map(function(d){return l.Sheets[d]}).forEach(function(d){if(d&&d["!cols"]){for(var m=0;m<d["!cols"].length;++m)if(d["!cols"][m]){var _=d["!cols"][m];if(_.width==null&&_.wpx==null&&_.wch==null)continue;Dg(_),_.ods=c;var y=d["!cols"][m].wpx+"px";o.push('  <style:style style:name="co'+c+`" style:family="table-column">
`),o.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+y+`"/>
`),o.push(`  </style:style>
`),++c}}});var h=0;l.SheetNames.map(function(d){return l.Sheets[d]}).forEach(function(d){if(d&&d["!rows"]){for(var m=0;m<d["!rows"].length;++m)if(d["!rows"][m]){d["!rows"][m].ods=h;var _=d["!rows"][m].hpx+"px";o.push('  <style:style style:name="ro'+h+`" style:family="table-row">
`),o.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+_+`"/>
`),o.push(`  </style:style>
`),++h}}}),o.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),o.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),o.push(`  </style:style>
`),o.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),o.push(` </office:automatic-styles>
`)};return function(l,c){var h=[ur],d=hc({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),m=hc({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});c.bookType=="fods"?(h.push("<office:document"+d+m+`>
`),h.push(i2().replace(/office:document-meta/g,"office:meta"))):h.push("<office:document-content"+d+`>
`),i(h,l),h.push(`  <office:body>
`),h.push(`    <office:spreadsheet>
`);for(var _=0;_!=l.SheetNames.length;++_)h.push(n(l.Sheets[l.SheetNames[_]],l,_));return h.push(`    </office:spreadsheet>
`),h.push(`  </office:body>
`),c.bookType=="fods"?h.push("</office:document>"):h.push("</office:document-content>"),h.join("")}})();function W2(r,e){if(e.bookType=="fods")return _x(r,e);var t=wg(),n="",i=[],o=[];return n="mimetype",st(t,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",st(t,n,_x(r,e)),i.push([n,"text/xml"]),o.push([n,"ContentFile"]),n="styles.xml",st(t,n,c5(r,e)),i.push([n,"text/xml"]),o.push([n,"StylesFile"]),n="meta.xml",st(t,n,ur+i2()),i.push([n,"text/xml"]),o.push([n,"MetadataFile"]),n="manifest.rdf",st(t,n,wD(o)),i.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",st(t,n,xD(i)),t}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function t0(r){return new DataView(r.buffer,r.byteOffset,r.byteLength)}function f5(r){return typeof TextEncoder<"u"?new TextEncoder().encode(r):mi(fc(r))}function h5(r,e){e:for(var t=0;t<=r.length-e.length;++t){for(var n=0;n<e.length;++n)if(r[t+n]!=e[n])continue e;return!0}return!1}function ka(r){var e=r.reduce(function(i,o){return i+o.length},0),t=new Uint8Array(e),n=0;return r.forEach(function(i){t.set(i,n),n+=i.length}),t}function d5(r,e,t){var n=Math.floor(t==0?0:Math.LOG10E*Math.log(Math.abs(t)))+6176-20,i=t/Math.pow(10,n-6176);r[e+15]|=n>>7,r[e+14]|=(n&127)<<1;for(var o=0;i>=1;++o,i/=256)r[e+o]=i&255;r[e+15]|=t>=0?0:128}function dc(r,e){var t=e?e[0]:0,n=r[t]&127;e:if(r[t++]>=128&&(n|=(r[t]&127)<<7,r[t++]<128||(n|=(r[t]&127)<<14,r[t++]<128)||(n|=(r[t]&127)<<21,r[t++]<128)||(n+=(r[t]&127)*Math.pow(2,28),++t,r[t++]<128)||(n+=(r[t]&127)*Math.pow(2,35),++t,r[t++]<128)||(n+=(r[t]&127)*Math.pow(2,42),++t,r[t++]<128)))break e;return e&&(e[0]=t),n}function At(r){var e=new Uint8Array(7);e[0]=r&127;var t=1;e:if(r>127){if(e[t-1]|=128,e[t]=r>>7&127,++t,r<=16383||(e[t-1]|=128,e[t]=r>>14&127,++t,r<=2097151)||(e[t-1]|=128,e[t]=r>>21&127,++t,r<=268435455)||(e[t-1]|=128,e[t]=r/256>>>21&127,++t,r<=34359738367)||(e[t-1]|=128,e[t]=r/65536>>>21&127,++t,r<=4398046511103))break e;e[t-1]|=128,e[t]=r/16777216>>>21&127,++t}return e.slice(0,t)}function Rl(r){var e=0,t=r[e]&127;e:if(r[e++]>=128){if(t|=(r[e]&127)<<7,r[e++]<128||(t|=(r[e]&127)<<14,r[e++]<128)||(t|=(r[e]&127)<<21,r[e++]<128))break e;t|=(r[e]&127)<<28}return t}function dr(r){for(var e=[],t=[0];t[0]<r.length;){var n=t[0],i=dc(r,t),o=i&7;i=Math.floor(i/8);var l=0,c;if(i==0)break;switch(o){case 0:{for(var h=t[0];r[t[0]++]>=128;);c=r.slice(h,t[0])}break;case 5:l=4,c=r.slice(t[0],t[0]+l),t[0]+=l;break;case 1:l=8,c=r.slice(t[0],t[0]+l),t[0]+=l;break;case 2:l=dc(r,t),c=r.slice(t[0],t[0]+l),t[0]+=l;break;case 3:case 4:default:throw new Error("PB Type ".concat(o," for Field ").concat(i," at offset ").concat(n))}var d={data:c,type:o};e[i]==null?e[i]=[d]:e[i].push(d)}return e}function Dr(r){var e=[];return r.forEach(function(t,n){t.forEach(function(i){i.data&&(e.push(At(n*8+i.type)),i.type==2&&e.push(At(i.data.length)),e.push(i.data))})}),ka(e)}function hi(r){for(var e,t=[],n=[0];n[0]<r.length;){var i=dc(r,n),o=dr(r.slice(n[0],n[0]+i));n[0]+=i;var l={id:Rl(o[1][0].data),messages:[]};o[2].forEach(function(c){var h=dr(c.data),d=Rl(h[3][0].data);l.messages.push({meta:h,data:r.slice(n[0],n[0]+d)}),n[0]+=d}),(e=o[3])!=null&&e[0]&&(l.merge=Rl(o[3][0].data)>>>0>0),t.push(l)}return t}function cl(r){var e=[];return r.forEach(function(t){var n=[];n[1]=[{data:At(t.id),type:0}],n[2]=[],t.merge!=null&&(n[3]=[{data:At(+!!t.merge),type:0}]);var i=[];t.messages.forEach(function(l){i.push(l.data),l.meta[3]=[{type:0,data:At(l.data.length)}],n[2].push({data:Dr(l.meta),type:2})});var o=Dr(n);e.push(At(o.length)),e.push(o),i.forEach(function(l){return e.push(l)})}),ka(e)}function p5(r,e){if(r!=0)throw new Error("Unexpected Snappy chunk type ".concat(r));for(var t=[0],n=dc(e,t),i=[];t[0]<e.length;){var o=e[t[0]]&3;if(o==0){var l=e[t[0]++]>>2;if(l<60)++l;else{var c=l-59;l=e[t[0]],c>1&&(l|=e[t[0]+1]<<8),c>2&&(l|=e[t[0]+2]<<16),c>3&&(l|=e[t[0]+3]<<24),l>>>=0,l++,t[0]+=c}i.push(e.slice(t[0],t[0]+l)),t[0]+=l;continue}else{var h=0,d=0;if(o==1?(d=(e[t[0]]>>2&7)+4,h=(e[t[0]++]&224)<<3,h|=e[t[0]++]):(d=(e[t[0]++]>>2)+1,o==2?(h=e[t[0]]|e[t[0]+1]<<8,t[0]+=2):(h=(e[t[0]]|e[t[0]+1]<<8|e[t[0]+2]<<16|e[t[0]+3]<<24)>>>0,t[0]+=4)),i=[ka(i)],h==0)throw new Error("Invalid offset 0");if(h>i[0].length)throw new Error("Invalid offset beyond length");if(d>=h)for(i.push(i[0].slice(-h)),d-=h;d>=i[i.length-1].length;)i.push(i[i.length-1]),d-=i[i.length-1].length;i.push(i[0].slice(-h,-h+d))}}var m=ka(i);if(m.length!=n)throw new Error("Unexpected length: ".concat(m.length," != ").concat(n));return m}function di(r){for(var e=[],t=0;t<r.length;){var n=r[t++],i=r[t]|r[t+1]<<8|r[t+2]<<16;t+=3,e.push(p5(n,r.slice(t,t+i))),t+=i}if(t!==r.length)throw new Error("data is not a valid framed stream!");return ka(e)}function fl(r){for(var e=[],t=0;t<r.length;){var n=Math.min(r.length-t,268435455),i=new Uint8Array(4);e.push(i);var o=At(n),l=o.length;e.push(o),n<=60?(l++,e.push(new Uint8Array([n-1<<2]))):n<=256?(l+=2,e.push(new Uint8Array([240,n-1&255]))):n<=65536?(l+=3,e.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(l+=4,e.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(l+=5,e.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),e.push(r.slice(t,t+n)),l+=n,i[0]=0,i[1]=l&255,i[2]=l>>8&255,i[3]=l>>16&255,t+=n}return ka(e)}function Vp(r,e){var t=new Uint8Array(32),n=t0(t),i=12,o=0;switch(t[0]=5,r.t){case"n":t[1]=2,d5(t,i,r.v),o|=1,i+=16;break;case"b":t[1]=6,n.setFloat64(i,r.v?1:0,!0),o|=2,i+=8;break;case"s":if(e.indexOf(r.v)==-1)throw new Error("Value ".concat(r.v," missing from SST!"));t[1]=3,n.setUint32(i,e.indexOf(r.v),!0),o|=8,i+=4;break;default:throw"unsupported cell type "+r.t}return n.setUint32(8,o,!0),t.slice(0,i)}function bp(r,e){var t=new Uint8Array(32),n=t0(t),i=12,o=0;switch(t[0]=3,r.t){case"n":t[2]=2,n.setFloat64(i,r.v,!0),o|=32,i+=8;break;case"b":t[2]=6,n.setFloat64(i,r.v?1:0,!0),o|=32,i+=8;break;case"s":if(e.indexOf(r.v)==-1)throw new Error("Value ".concat(r.v," missing from SST!"));t[2]=3,n.setUint32(i,e.indexOf(r.v),!0),o|=16,i+=4;break;default:throw"unsupported cell type "+r.t}return n.setUint32(4,o,!0),t.slice(0,i)}function ua(r){var e=dr(r);return dc(e[1][0].data)}function m5(r,e,t){var n,i,o,l;if(!((n=r[6])!=null&&n[0])||!((i=r[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var c=((l=(o=r[8])==null?void 0:o[0])==null?void 0:l.data)&&Rl(r[8][0].data)>0||!1;if(c)throw"Math only works with normal offsets";for(var h=0,d=t0(r[7][0].data),m=0,_=[],y=t0(r[4][0].data),E=0,A=[],w=0;w<e.length;++w){if(e[w]==null){d.setUint16(w*2,65535,!0),y.setUint16(w*2,65535);continue}d.setUint16(w*2,m,!0),y.setUint16(w*2,E,!0);var S,H;switch(typeof e[w]){case"string":S=Vp({t:"s",v:e[w]},t),H=bp({t:"s",v:e[w]},t);break;case"number":S=Vp({t:"n",v:e[w]},t),H=bp({t:"n",v:e[w]},t);break;case"boolean":S=Vp({t:"b",v:e[w]},t),H=bp({t:"b",v:e[w]},t);break;default:throw new Error("Unsupported value "+e[w])}_.push(S),m+=S.length,A.push(H),E+=H.length,++h}for(r[2][0].data=At(h);w<r[7][0].data.length/2;++w)d.setUint16(w*2,65535,!0),y.setUint16(w*2,65535,!0);return r[6][0].data=ka(_),r[3][0].data=ka(A),h}function g5(r,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var t=r.Sheets[r.SheetNames[0]];r.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Fn(t["!ref"]);n.s.r=n.s.c=0;var i=!1;n.e.c>9&&(i=!0,n.e.c=9),n.e.r>49&&(i=!0,n.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(lr(n)));var o=r0(t,{range:n,header:1}),l=["~Sh33tJ5~"];o.forEach(function(Y){return Y.forEach(function(q){typeof q=="string"&&l.push(q)})});var c={},h=[],d=kt.read(e.numbers,{type:"base64"});d.FileIndex.map(function(Y,q){return[Y,d.FullPaths[q]]}).forEach(function(Y){var q=Y[0],K=Y[1];if(q.type==2&&q.name.match(/\.iwa/)){var le=q.content,Ae=di(le),Re=hi(Ae);Re.forEach(function(Pe){h.push(Pe.id),c[Pe.id]={deps:[],location:K,type:Rl(Pe.messages[0].meta[1][0].data)}})}}),h.sort(function(Y,q){return Y-q});var m=h.filter(function(Y){return Y>1}).map(function(Y){return[Y,At(Y)]});d.FileIndex.map(function(Y,q){return[Y,d.FullPaths[q]]}).forEach(function(Y){var q=Y[0];if(Y[1],!!q.name.match(/\.iwa/)){var K=hi(di(q.content));K.forEach(function(le){le.messages.forEach(function(Ae){m.forEach(function(Re){le.messages.some(function(Pe){return Rl(Pe.meta[1][0].data)!=11006&&h5(Pe.data,Re[1])})&&c[Re[0]].deps.push(le.id)})})})}});for(var _=kt.find(d,c[1].location),y=hi(di(_.content)),E,A=0;A<y.length;++A){var w=y[A];w.id==1&&(E=w)}var S=ua(dr(E.messages[0].data)[1][0].data);for(_=kt.find(d,c[S].location),y=hi(di(_.content)),A=0;A<y.length;++A)w=y[A],w.id==S&&(E=w);for(S=ua(dr(E.messages[0].data)[2][0].data),_=kt.find(d,c[S].location),y=hi(di(_.content)),A=0;A<y.length;++A)w=y[A],w.id==S&&(E=w);for(S=ua(dr(E.messages[0].data)[2][0].data),_=kt.find(d,c[S].location),y=hi(di(_.content)),A=0;A<y.length;++A)w=y[A],w.id==S&&(E=w);var H=dr(E.messages[0].data);{H[6][0].data=At(n.e.r+1),H[7][0].data=At(n.e.c+1);var z=ua(H[46][0].data),W=kt.find(d,c[z].location),Z=hi(di(W.content));{for(var fe=0;fe<Z.length&&Z[fe].id!=z;++fe);if(Z[fe].id!=z)throw"Bad ColumnRowUIDMapArchive";var ge=dr(Z[fe].messages[0].data);ge[1]=[],ge[2]=[],ge[3]=[];for(var k=0;k<=n.e.c;++k){var P=[];P[1]=P[2]=[{type:0,data:At(k+420690)}],ge[1].push({type:2,data:Dr(P)}),ge[2].push({type:0,data:At(k)}),ge[3].push({type:0,data:At(k)})}ge[4]=[],ge[5]=[],ge[6]=[];for(var C=0;C<=n.e.r;++C)P=[],P[1]=P[2]=[{type:0,data:At(C+726270)}],ge[4].push({type:2,data:Dr(P)}),ge[5].push({type:0,data:At(C)}),ge[6].push({type:0,data:At(C)});Z[fe].messages[0].data=Dr(ge)}W.content=fl(cl(Z)),W.size=W.content.length,delete H[46];var L=dr(H[4][0].data);{L[7][0].data=At(n.e.r+1);var V=dr(L[1][0].data),j=ua(V[2][0].data);W=kt.find(d,c[j].location),Z=hi(di(W.content));{if(Z[0].id!=j)throw"Bad HeaderStorageBucket";var F=dr(Z[0].messages[0].data);for(C=0;C<o.length;++C){var qe=dr(F[2][0].data);qe[1][0].data=At(C),qe[4][0].data=At(o[C].length),F[2][C]={type:F[2][0].type,data:Dr(qe)}}Z[0].messages[0].data=Dr(F)}W.content=fl(cl(Z)),W.size=W.content.length;var We=ua(L[2][0].data);W=kt.find(d,c[We].location),Z=hi(di(W.content));{if(Z[0].id!=We)throw"Bad HeaderStorageBucket";for(F=dr(Z[0].messages[0].data),k=0;k<=n.e.c;++k)qe=dr(F[2][0].data),qe[1][0].data=At(k),qe[4][0].data=At(n.e.r+1),F[2][k]={type:F[2][0].type,data:Dr(qe)};Z[0].messages[0].data=Dr(F)}W.content=fl(cl(Z)),W.size=W.content.length;var ut=ua(L[4][0].data);(function(){for(var Y=kt.find(d,c[ut].location),q=hi(di(Y.content)),K,le=0;le<q.length;++le){var Ae=q[le];Ae.id==ut&&(K=Ae)}var Re=dr(K.messages[0].data);{Re[3]=[];var Pe=[];l.forEach(function(it,Bt){Pe[1]=[{type:0,data:At(Bt)}],Pe[2]=[{type:0,data:At(1)}],Pe[3]=[{type:2,data:f5(it)}],Re[3].push({type:2,data:Dr(Pe)})})}K.messages[0].data=Dr(Re);var Se=cl(q),lt=fl(Se);Y.content=lt,Y.size=Y.content.length})();var Xe=dr(L[3][0].data);{var Te=Xe[1][0];delete Xe[2];var Le=dr(Te.data);{var Fe=ua(Le[2][0].data);(function(){for(var Y=kt.find(d,c[Fe].location),q=hi(di(Y.content)),K,le=0;le<q.length;++le){var Ae=q[le];Ae.id==Fe&&(K=Ae)}var Re=dr(K.messages[0].data);{delete Re[6],delete Xe[7];var Pe=new Uint8Array(Re[5][0].data);Re[5]=[];for(var Se=0,lt=0;lt<=n.e.r;++lt){var it=dr(Pe);Se+=m5(it,o[lt],l),it[1][0].data=At(lt),Re[5].push({data:Dr(it),type:2})}Re[1]=[{type:0,data:At(n.e.c+1)}],Re[2]=[{type:0,data:At(n.e.r+1)}],Re[3]=[{type:0,data:At(Se)}],Re[4]=[{type:0,data:At(n.e.r+1)}]}K.messages[0].data=Dr(Re);var Bt=cl(q),at=fl(Bt);Y.content=at,Y.size=Y.content.length})()}Te.data=Dr(Le)}L[3][0].data=Dr(Xe)}H[4][0].data=Dr(L)}E.messages[0].data=Dr(H);var J=cl(y),O=fl(J);return _.content=O,_.size=_.content.length,d}function v5(r){return function(t){for(var n=0;n!=r.length;++n){var i=r[n];t[i[0]]===void 0&&(t[i[0]]=i[1]),i[2]==="n"&&(t[i[0]]=Number(t[i[0]]))}}}function bg(r){v5([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(r)}function _5(r,e){return e.bookType=="ods"?W2(r,e):e.bookType=="numbers"?g5(r,e):e.bookType=="xlsb"?y5(r,e):x5(r,e)}function y5(r,e){vl=1024,r&&!r.SSF&&(r.SSF=En(Jt)),r&&r.SSF&&(M0(),L0(r.SSF),e.revssf=V0(r.SSF),e.revssf[r.SSF[65535]]=0,e.ssf=r.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Qu?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t=e.bookType=="xlsb"?"bin":"xml",n=I2.indexOf(e.bookType)>-1,i=t2();bg(e=e||{});var o=wg(),l="",c=0;if(e.cellXfs=[],Na(e.cellXfs,{},{revssf:{General:0}}),r.Props||(r.Props={}),l="docProps/core.xml",st(o,l,s2(r.Props,e)),i.coreprops.push(l),It(e.rels,2,l,yt.CORE_PROPS),l="docProps/app.xml",!(r.Props&&r.Props.SheetNames))if(!r.Workbook||!r.Workbook.Sheets)r.Props.SheetNames=r.SheetNames;else{for(var h=[],d=0;d<r.SheetNames.length;++d)(r.Workbook.Sheets[d]||{}).Hidden!=2&&h.push(r.SheetNames[d]);r.Props.SheetNames=h}for(r.Props.Worksheets=r.Props.SheetNames.length,st(o,l,o2(r.Props)),i.extprops.push(l),It(e.rels,3,l,yt.EXT_PROPS),r.Custprops!==r.Props&&jr(r.Custprops||{}).length>0&&(l="docProps/custom.xml",st(o,l,l2(r.Custprops)),i.custprops.push(l),It(e.rels,4,l,yt.CUST_PROPS)),c=1;c<=r.SheetNames.length;++c){var m={"!id":{}},_=r.Sheets[r.SheetNames[c-1]],y=(_||{})["!type"]||"sheet";switch(y){case"chart":default:l="xl/worksheets/sheet"+c+"."+t,st(o,l,w8(c-1,l,e,r,m)),i.sheets.push(l),It(e.wbrels,-1,"worksheets/sheet"+c+"."+t,yt.WS[0])}if(_){var E=_["!comments"],A=!1,w="";E&&E.length>0&&(w="xl/comments"+c+"."+t,st(o,w,A8(E,w)),i.comments.push(w),It(m,-1,"../comments"+c+"."+t,yt.CMNT),A=!0),_["!legacy"]&&A&&st(o,"xl/drawings/vmlDrawing"+c+".vml",S2(c,_["!comments"])),delete _["!comments"],delete _["!legacy"]}m["!id"].rId1&&st(o,n2(l),Il(m))}return e.Strings!=null&&e.Strings.length>0&&(l="xl/sharedStrings."+t,st(o,l,S8(e.Strings,l,e)),i.strs.push(l),It(e.wbrels,-1,"sharedStrings."+t,yt.SST)),l="xl/workbook."+t,st(o,l,E8(r,l)),i.workbooks.push(l),It(e.rels,1,l,yt.WB),l="xl/theme/theme1.xml",st(o,l,w2(r.Themes,e)),i.themes.push(l),It(e.wbrels,-1,"theme/theme1.xml",yt.THEME),l="xl/styles."+t,st(o,l,T8(r,l,e)),i.styles.push(l),It(e.wbrels,-1,"styles."+t,yt.STY),r.vbaraw&&n&&(l="xl/vbaProject.bin",st(o,l,r.vbaraw),i.vba.push(l),It(e.wbrels,-1,"vbaProject.bin",yt.VBA)),l="xl/metadata."+t,st(o,l,I8(l)),i.metadata.push(l),It(e.wbrels,-1,"metadata."+t,yt.XLMETA),st(o,"[Content_Types].xml",r2(i,e)),st(o,"_rels/.rels",Il(e.rels)),st(o,"xl/_rels/workbook."+t+".rels",Il(e.wbrels)),delete e.revssf,delete e.ssf,o}function x5(r,e){vl=1024,r&&!r.SSF&&(r.SSF=En(Jt)),r&&r.SSF&&(M0(),L0(r.SSF),e.revssf=V0(r.SSF),e.revssf[r.SSF[65535]]=0,e.ssf=r.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Qu?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t="xml",n=I2.indexOf(e.bookType)>-1,i=t2();bg(e=e||{});var o=wg(),l="",c=0;if(e.cellXfs=[],Na(e.cellXfs,{},{revssf:{General:0}}),r.Props||(r.Props={}),l="docProps/core.xml",st(o,l,s2(r.Props,e)),i.coreprops.push(l),It(e.rels,2,l,yt.CORE_PROPS),l="docProps/app.xml",!(r.Props&&r.Props.SheetNames))if(!r.Workbook||!r.Workbook.Sheets)r.Props.SheetNames=r.SheetNames;else{for(var h=[],d=0;d<r.SheetNames.length;++d)(r.Workbook.Sheets[d]||{}).Hidden!=2&&h.push(r.SheetNames[d]);r.Props.SheetNames=h}r.Props.Worksheets=r.Props.SheetNames.length,st(o,l,o2(r.Props)),i.extprops.push(l),It(e.rels,3,l,yt.EXT_PROPS),r.Custprops!==r.Props&&jr(r.Custprops||{}).length>0&&(l="docProps/custom.xml",st(o,l,l2(r.Custprops)),i.custprops.push(l),It(e.rels,4,l,yt.CUST_PROPS));var m=["SheetJ5"];for(e.tcid=0,c=1;c<=r.SheetNames.length;++c){var _={"!id":{}},y=r.Sheets[r.SheetNames[c-1]],E=(y||{})["!type"]||"sheet";switch(E){case"chart":default:l="xl/worksheets/sheet"+c+"."+t,st(o,l,L2(c-1,e,r,_)),i.sheets.push(l),It(e.wbrels,-1,"worksheets/sheet"+c+"."+t,yt.WS[0])}if(y){var A=y["!comments"],w=!1,S="";if(A&&A.length>0){var H=!1;A.forEach(function(z){z[1].forEach(function(W){W.T==!0&&(H=!0)})}),H&&(S="xl/threadedComments/threadedComment"+c+"."+t,st(o,S,QF(A,m,e)),i.threadedcomments.push(S),It(_,-1,"../threadedComments/threadedComment"+c+"."+t,yt.TCMNT)),S="xl/comments"+c+"."+t,st(o,S,A2(A)),i.comments.push(S),It(_,-1,"../comments"+c+"."+t,yt.CMNT),w=!0}y["!legacy"]&&w&&st(o,"xl/drawings/vmlDrawing"+c+".vml",S2(c,y["!comments"])),delete y["!comments"],delete y["!legacy"]}_["!id"].rId1&&st(o,n2(l),Il(_))}return e.Strings!=null&&e.Strings.length>0&&(l="xl/sharedStrings."+t,st(o,l,g2(e.Strings,e)),i.strs.push(l),It(e.wbrels,-1,"sharedStrings."+t,yt.SST)),l="xl/workbook."+t,st(o,l,b2(r)),i.workbooks.push(l),It(e.rels,1,l,yt.WB),l="xl/theme/theme1.xml",st(o,l,w2(r.Themes,e)),i.themes.push(l),It(e.wbrels,-1,"theme/theme1.xml",yt.THEME),l="xl/styles."+t,st(o,l,x2(r,e)),i.styles.push(l),It(e.wbrels,-1,"styles."+t,yt.STY),r.vbaraw&&n&&(l="xl/vbaProject.bin",st(o,l,r.vbaraw),i.vba.push(l),It(e.wbrels,-1,"vbaProject.bin",yt.VBA)),l="xl/metadata."+t,st(o,l,T2()),i.metadata.push(l),It(e.wbrels,-1,"metadata."+t,yt.XLMETA),m.length>1&&(l="xl/persons/person.xml",st(o,l,JF(m)),i.people.push(l),It(e.wbrels,-1,"persons/person.xml",yt.PEOPLE)),st(o,"[Content_Types].xml",r2(i,e)),st(o,"_rels/.rels",Il(e.rels)),st(o,"xl/_rels/workbook."+t+".rels",Il(e.wbrels)),delete e.revssf,delete e.ssf,o}function E5(r,e){var t="";switch((e||{}).type||"base64"){case"buffer":return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7]];case"base64":t=Rs(r.slice(0,12));break;case"binary":t=r;break;case"array":return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3),t.charCodeAt(4),t.charCodeAt(5),t.charCodeAt(6),t.charCodeAt(7)]}function $2(r,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return kc(e.file,kt.write(r,{type:Et?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return kt.write(r,e)}function w5(r,e){var t=En(e||{}),n=_5(r,t);return T5(n,t)}function T5(r,e){var t={},n=Et?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(t.compression="DEFLATE"),e.password)t.type=n;else switch(e.type){case"base64":t.type="base64";break;case"binary":t.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":t.type=n;break;default:throw new Error("Unrecognized type "+e.type)}var i=r.FullPaths?kt.write(r,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[t.type]||t.type,compression:!!e.compression}):r.generate(t);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(F0(i))}return e.password&&typeof encrypt_agile<"u"?$2(encrypt_agile(i,e.password),e):e.type==="file"?kc(e.file,i):e.type=="string"?Ku(i):i}function S5(r,e){var t=e||{},n=B8(r,t);return $2(n,t)}function bi(r,e,t){t||(t="");var n=t+r;switch(e.type){case"base64":return uc(fc(n));case"binary":return fc(n);case"string":return r;case"file":return kc(e.file,n,"utf8");case"buffer":return Et?Os(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):bi(n,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function A5(r,e){switch(e.type){case"base64":return uc(r);case"binary":return r;case"string":return r;case"file":return kc(e.file,r,"binary");case"buffer":return Et?Os(r,"binary"):r.split("").map(function(t){return t.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function ah(r,e){switch(e.type){case"string":case"base64":case"binary":for(var t="",n=0;n<r.length;++n)t+=String.fromCharCode(r[n]);return e.type=="base64"?uc(t):e.type=="string"?Ku(t):t;case"file":return kc(e.file,r);case"buffer":return r;default:throw new Error("Unrecognized type "+e.type)}}function G2(r,e){ZN(),c8(r);var t=En(e||{});if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),t.type=="array"){t.type="binary";var n=G2(r,t);return t.type="array",F0(n)}var i=0;if(t.sheet&&(typeof t.sheet=="number"?i=t.sheet:i=r.SheetNames.indexOf(t.sheet),!r.SheetNames[i]))throw new Error("Sheet not found: "+t.sheet+" : "+typeof t.sheet);switch(t.bookType||"xlsb"){case"xml":case"xlml":return bi(b8(r,t),t);case"slk":case"sylk":return bi(oF.from_sheet(r.Sheets[r.SheetNames[i]],t),t);case"htm":case"html":return bi(j2(r.Sheets[r.SheetNames[i]],t),t);case"txt":return A5(K2(r.Sheets[r.SheetNames[i]],t),t);case"csv":return bi(Ug(r.Sheets[r.SheetNames[i]],t),t,"\uFEFF");case"dif":return bi(lF.from_sheet(r.Sheets[r.SheetNames[i]],t),t);case"dbf":return ah(aF.from_sheet(r.Sheets[r.SheetNames[i]],t),t);case"prn":return bi(uF.from_sheet(r.Sheets[r.SheetNames[i]],t),t);case"rtf":return bi(gF.from_sheet(r.Sheets[r.SheetNames[i]],t),t);case"eth":return bi(m2.from_sheet(r.Sheets[r.SheetNames[i]],t),t);case"fods":return bi(W2(r,t),t);case"wk1":return ah(fx.sheet_to_wk1(r.Sheets[r.SheetNames[i]],t),t);case"wk3":return ah(fx.book_to_wk3(r,t),t);case"biff2":t.biff||(t.biff=2);case"biff3":t.biff||(t.biff=3);case"biff4":return t.biff||(t.biff=4),ah(B2(r,t),t);case"biff5":t.biff||(t.biff=5);case"biff8":case"xla":case"xls":return t.biff||(t.biff=8),S5(r,t);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return w5(r,t);default:throw new Error("Unrecognized bookType |"+t.bookType+"|")}}function I5(r,e,t,n,i,o,l,c){var h=Ur(t),d=c.defval,m=c.raw||!Object.prototype.hasOwnProperty.call(c,"raw"),_=!0,y=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(y,"__rowNum__",{value:t,enumerable:!1})}catch{y.__rowNum__=t}else y.__rowNum__=t;if(!l||r[t])for(var E=e.s.c;E<=e.e.c;++E){var A=l?r[t][E]:r[n[E]+h];if(A===void 0||A.t===void 0){if(d===void 0)continue;o[E]!=null&&(y[o[E]]=d);continue}var w=A.v;switch(A.t){case"z":if(w==null)break;continue;case"e":w=w==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+A.t)}if(o[E]!=null){if(w==null)if(A.t=="e"&&w===null)y[o[E]]=null;else if(d!==void 0)y[o[E]]=d;else if(m&&w===null)y[o[E]]=null;else continue;else y[o[E]]=m&&(A.t!=="n"||A.t==="n"&&c.rawNumbers!==!1)?w:Ps(A,w,c);w!=null&&(_=!1)}}return{row:y,isempty:_}}function r0(r,e){if(r==null||r["!ref"]==null)return[];var t={t:"n",v:0},n=0,i=1,o=[],l=0,c="",h={s:{r:0,c:0},e:{r:0,c:0}},d=e||{},m=d.range!=null?d.range:r["!ref"];switch(d.header===1?n=1:d.header==="A"?n=2:Array.isArray(d.header)?n=3:d.header==null&&(n=0),typeof m){case"string":h=Ut(m);break;case"number":h=Ut(r["!ref"]),h.s.r=m;break;default:h=m}n>0&&(i=0);var _=Ur(h.s.r),y=[],E=[],A=0,w=0,S=Array.isArray(r),H=h.s.r,z=0,W={};S&&!r[H]&&(r[H]=[]);var Z=d.skipHidden&&r["!cols"]||[],fe=d.skipHidden&&r["!rows"]||[];for(z=h.s.c;z<=h.e.c;++z)if(!(Z[z]||{}).hidden)switch(y[z]=Jr(z),t=S?r[H][z]:r[y[z]+_],n){case 1:o[z]=z-h.s.c;break;case 2:o[z]=y[z];break;case 3:o[z]=d.header[z-h.s.c];break;default:if(t==null&&(t={w:"__EMPTY",t:"s"}),c=l=Ps(t,null,d),w=W[l]||0,!w)W[l]=1;else{do c=l+"_"+w++;while(W[c]);W[l]=w,W[c]=1}o[z]=c}for(H=h.s.r+i;H<=h.e.r;++H)if(!(fe[H]||{}).hidden){var ge=I5(r,h,H,y,n,o,S,d);(ge.isempty===!1||(n===1?d.blankrows!==!1:d.blankrows))&&(E[A++]=ge.row)}return E.length=A,E}var yx=/"/g;function C5(r,e,t,n,i,o,l,c){for(var h=!0,d=[],m="",_=Ur(t),y=e.s.c;y<=e.e.c;++y)if(n[y]){var E=c.dense?(r[t]||[])[y]:r[n[y]+_];if(E==null)m="";else if(E.v!=null){h=!1,m=""+(c.rawNumbers&&E.t=="n"?E.v:Ps(E,null,c));for(var A=0,w=0;A!==m.length;++A)if((w=m.charCodeAt(A))===i||w===o||w===34||c.forceQuotes){m='"'+m.replace(yx,'""')+'"';break}m=="ID"&&(m='"ID"')}else E.f!=null&&!E.F?(h=!1,m="="+E.f,m.indexOf(",")>=0&&(m='"'+m.replace(yx,'""')+'"')):m="";d.push(m)}return c.blankrows===!1&&h?null:d.join(l)}function Ug(r,e){var t=[],n=e??{};if(r==null||r["!ref"]==null)return"";var i=Ut(r["!ref"]),o=n.FS!==void 0?n.FS:",",l=o.charCodeAt(0),c=n.RS!==void 0?n.RS:`
`,h=c.charCodeAt(0),d=new RegExp((o=="|"?"\\|":o)+"+$"),m="",_=[];n.dense=Array.isArray(r);for(var y=n.skipHidden&&r["!cols"]||[],E=n.skipHidden&&r["!rows"]||[],A=i.s.c;A<=i.e.c;++A)(y[A]||{}).hidden||(_[A]=Jr(A));for(var w=0,S=i.s.r;S<=i.e.r;++S)(E[S]||{}).hidden||(m=C5(r,i,S,_,l,h,o,n),m!=null&&(n.strip&&(m=m.replace(d,"")),(m||n.blankrows!==!1)&&t.push((w++?c:"")+m)));return delete n.dense,t.join("")}function K2(r,e){e||(e={}),e.FS="	",e.RS=`
`;var t=Ug(r,e);return t}function R5(r){var e="",t,n="";if(r==null||r["!ref"]==null)return[];var i=Ut(r["!ref"]),o="",l=[],c,h=[],d=Array.isArray(r);for(c=i.s.c;c<=i.e.c;++c)l[c]=Jr(c);for(var m=i.s.r;m<=i.e.r;++m)for(o=Ur(m),c=i.s.c;c<=i.e.c;++c)if(e=l[c]+o,t=d?(r[m]||[])[c]:r[e],n="",t!==void 0){if(t.F!=null){if(e=t.F,!t.f)continue;n=t.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(t.f!=null)n=t.f;else{if(t.t=="z")continue;if(t.t=="n"&&t.v!=null)n=""+t.v;else if(t.t=="b")n=t.v?"TRUE":"FALSE";else if(t.w!==void 0)n="'"+t.w;else{if(t.v===void 0)continue;t.t=="s"?n="'"+t.v:n=""+t.v}}h[h.length]=e+"="+n}return h}function q2(r,e,t){var n=t||{},i=+!n.skipHeader,o=r||{},l=0,c=0;if(o&&n.origin!=null)if(typeof n.origin=="number")l=n.origin;else{var h=typeof n.origin=="string"?wr(n.origin):n.origin;l=h.r,c=h.c}var d,m={s:{c:0,r:0},e:{c,r:l+e.length-1+i}};if(o["!ref"]){var _=Ut(o["!ref"]);m.e.c=Math.max(m.e.c,_.e.c),m.e.r=Math.max(m.e.r,_.e.r),l==-1&&(l=_.e.r+1,m.e.r=l+e.length-1+i)}else l==-1&&(l=0,m.e.r=e.length-1+i);var y=n.header||[],E=0;e.forEach(function(w,S){jr(w).forEach(function(H){(E=y.indexOf(H))==-1&&(y[E=y.length]=H);var z=w[H],W="z",Z="",fe=Rt({c:c+E,r:l+S+i});d=pc(o,fe),z&&typeof z=="object"&&!(z instanceof Date)?o[fe]=z:(typeof z=="number"?W="n":typeof z=="boolean"?W="b":typeof z=="string"?W="s":z instanceof Date?(W="d",n.cellDates||(W="n",z=xn(z)),Z=n.dateNF||Jt[14]):z===null&&n.nullError&&(W="e",z=0),d?(d.t=W,d.v=z,delete d.w,delete d.R,Z&&(d.z=Z)):o[fe]=d={t:W,v:z},Z&&(d.z=Z))})}),m.e.c=Math.max(m.e.c,c+y.length-1);var A=Ur(l);if(i)for(E=0;E<y.length;++E)o[Jr(E+c)+A]={t:"s",v:y[E]};return o["!ref"]=lr(m),o}function P5(r,e){return q2(null,r,e)}function pc(r,e,t){if(typeof e=="string"){if(Array.isArray(r)){var n=wr(e);return r[n.r]||(r[n.r]=[]),r[n.r][n.c]||(r[n.r][n.c]={t:"z"})}return r[e]||(r[e]={t:"z"})}return typeof e!="number"?pc(r,Rt(e)):pc(r,Rt({r:e,c:t||0}))}function k5(r,e){if(typeof e=="number"){if(e>=0&&r.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var t=r.SheetNames.indexOf(e);if(t>-1)return t;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function N5(){return{SheetNames:[],Sheets:{}}}function O5(r,e,t,n){var i=1;if(!t)for(;i<=65535&&r.SheetNames.indexOf(t="Sheet"+i)!=-1;++i,t=void 0);if(!t||r.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&r.SheetNames.indexOf(t)>=0){var o=t.match(/(^.*?)(\d+)$/);i=o&&+o[2]||0;var l=o&&o[1]||t;for(++i;i<=65535&&r.SheetNames.indexOf(t=l+i)!=-1;++i);}if(V2(t),r.SheetNames.indexOf(t)>=0)throw new Error("Worksheet with name |"+t+"| already exists!");return r.SheetNames.push(t),r.Sheets[t]=e,t}function D5(r,e,t){r.Workbook||(r.Workbook={}),r.Workbook.Sheets||(r.Workbook.Sheets=[]);var n=k5(r,e);switch(r.Workbook.Sheets[n]||(r.Workbook.Sheets[n]={}),t){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+t)}r.Workbook.Sheets[n].Hidden=t}function F5(r,e){return r.z=e,r}function X2(r,e,t){return e?(r.l={Target:e},t&&(r.l.Tooltip=t)):delete r.l,r}function L5(r,e,t){return X2(r,"#"+e,t)}function M5(r,e,t){r.c||(r.c=[]),r.c.push({t:e,a:t||"SheetJS"})}function V5(r,e,t,n){for(var i=typeof e!="string"?e:Ut(e),o=typeof e=="string"?e:lr(e),l=i.s.r;l<=i.e.r;++l)for(var c=i.s.c;c<=i.e.c;++c){var h=pc(r,l,c);h.t="n",h.F=o,delete h.v,l==i.s.r&&c==i.s.c&&(h.f=t,n&&(h.D=!0))}return r}var Up={encode_col:Jr,encode_row:Ur,encode_cell:Rt,encode_range:lr,decode_col:Rg,decode_row:Cg,split_cell:ZO,decode_cell:wr,decode_range:Fn,format_cell:Ps,sheet_add_aoa:XT,sheet_add_json:q2,sheet_add_dom:z2,aoa_to_sheet:Yl,json_to_sheet:P5,table_to_sheet:H2,table_to_book:l5,sheet_to_csv:Ug,sheet_to_txt:K2,sheet_to_json:r0,sheet_to_html:j2,sheet_to_formulae:R5,sheet_to_row_object_array:r0,sheet_get_cell:pc,book_new:N5,book_append_sheet:O5,book_set_sheet_visibility:D5,cell_set_number_format:F5,cell_set_hyperlink:X2,cell_set_internal_link:L5,cell_add_comment:M5,sheet_set_array_formula:V5,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}},xh={exports:{}},b5=xh.exports,xx;function U5(){return xx||(xx=1,(function(r,e){(function(t,n){n()})(b5,function(){function t(d,m){return typeof m>"u"?m={autoBom:!1}:typeof m!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),m={autoBom:!m}),m.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(d.type)?new Blob(["\uFEFF",d],{type:d.type}):d}function n(d,m,_){var y=new XMLHttpRequest;y.open("GET",d),y.responseType="blob",y.onload=function(){h(y.response,m,_)},y.onerror=function(){console.error("could not download file")},y.send()}function i(d){var m=new XMLHttpRequest;m.open("HEAD",d,!1);try{m.send()}catch{}return 200<=m.status&&299>=m.status}function o(d){try{d.dispatchEvent(new MouseEvent("click"))}catch{var m=document.createEvent("MouseEvents");m.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),d.dispatchEvent(m)}}var l=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Wf=="object"&&Wf.global===Wf?Wf:void 0,c=l.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),h=l.saveAs||(typeof window!="object"||window!==l?function(){}:"download"in HTMLAnchorElement.prototype&&!c?function(d,m,_){var y=l.URL||l.webkitURL,E=document.createElement("a");m=m||d.name||"download",E.download=m,E.rel="noopener",typeof d=="string"?(E.href=d,E.origin===location.origin?o(E):i(E.href)?n(d,m,_):o(E,E.target="_blank")):(E.href=y.createObjectURL(d),setTimeout(function(){y.revokeObjectURL(E.href)},4e4),setTimeout(function(){o(E)},0))}:"msSaveOrOpenBlob"in navigator?function(d,m,_){if(m=m||d.name||"download",typeof d!="string")navigator.msSaveOrOpenBlob(t(d,_),m);else if(i(d))n(d,m,_);else{var y=document.createElement("a");y.href=d,y.target="_blank",setTimeout(function(){o(y)})}}:function(d,m,_,y){if(y=y||open("","_blank"),y&&(y.document.title=y.document.body.innerText="downloading..."),typeof d=="string")return n(d,m,_);var E=d.type==="application/octet-stream",A=/constructor/i.test(l.HTMLElement)||l.safari,w=/CriOS\/[\d]+/.test(navigator.userAgent);if((w||E&&A||c)&&typeof FileReader<"u"){var S=new FileReader;S.onloadend=function(){var W=S.result;W=w?W:W.replace(/^data:[^;]*;/,"data:attachment/file;"),y?y.location.href=W:location=W,y=null},S.readAsDataURL(d)}else{var H=l.URL||l.webkitURL,z=H.createObjectURL(d);y?y.location=z:location.href=z,y=null,setTimeout(function(){H.revokeObjectURL(z)},4e4)}});l.saveAs=h.saveAs=h,r.exports=h})})(xh)),xh.exports}var B5=U5();function j5(){const[r,e]=de.useState(null),[t,n]=de.useState([]),[i,o]=de.useState(null),[l,c]=de.useState([]),[h,d]=de.useState("");de.useEffect(()=>{const E=Sl.onAuthStateChanged(A=>e(A));return()=>E()},[]);async function m(){try{await RE(Sl,fT),d("")}catch(E){d("Error login: "+E.message)}}async function _(){await vE(Sl),e(null),n([]),c([])}de.useEffect(()=>{r&&(async()=>{const E=Wu(wl(ao,"materias"),da("profesores","array-contains",r.email)),w=(await $u(E)).docs.map(S=>({id:S.id,...S.data()}));n(w),w.length===0&&d("Tu mail no est asignado a ninguna materia.")})()},[r]),de.useEffect(()=>{i&&(async()=>{const E=Wu(wl(ao,"comisiones"),da("materiaId","==",i.id)),A=await $u(E);c(A.docs.map(w=>({id:w.id,...w.data()})))})()},[i]);async function y(E){const A=Wu(wl(ao,"asistencias"),da("comisionId","==",E)),w=await $u(A);if(w.empty){d("No hay asistencias para esa comisin");return}const S=w.docs.map(Z=>{const fe=Z.data();return{Fecha:fe.fecha,Aula:fe.aulaId,Comisin:fe.comisionId,Alumno:(fe.alumno?.nombre||"")+" "+(fe.alumno?.apellido||""),Email:fe.alumno?.email,Hora:fe.hora}}),H=Up.json_to_sheet(S),z=Up.book_new();Up.book_append_sheet(z,H,"Asistencias");const W=G2(z,{bookType:"xlsx",type:"array"});B5.saveAs(new Blob([W],{type:"application/octet-stream"}),`asistencias_${i.nombre||i.id}_${E}.xlsx`)}return $e.jsxs("div",{className:"container",children:[$e.jsx("h2",{children:"Panel Profesores"}),r?$e.jsxs($e.Fragment,{children:[$e.jsxs("div",{className:"profile-card",children:[$e.jsx("img",{className:"user-photo",src:r.photoURL||"https://upload.wikimedia.org/wikipedia/commons/2/2c/Default_pfp.svg",alt:"Foto de perfil"}),$e.jsx("div",{className:"user-name",children:r.displayName}),$e.jsx("div",{className:"user-email",children:r.email})]}),$e.jsx("div",{className:"user-actions",children:$e.jsx("button",{className:"main-button",onClick:_,children:"Cerrar Sesin"})}),$e.jsxs("div",{className:"section-title",children:[$e.jsx("h3",{children:"Mis materias"}),$e.jsx("div",{className:"button-group",children:t.map(E=>$e.jsxs("button",{className:"secondary-button",onClick:()=>o(E),children:[E.nombre," (",E.id,")"]},E.id))})]}),i&&$e.jsxs("div",{className:"section-title",children:[$e.jsxs("h4",{children:["Comisiones de ",i.nombre]}),$e.jsx("div",{className:"button-group",children:l.map(E=>$e.jsxs("div",{children:[$e.jsxs("span",{children:[E.nombre,"  ",E.fecha," ",E.horaInicio,"-",E.horaFin]}),$e.jsx("button",{className:"secondary-button",onClick:()=>y(E.id),children:"Exportar CSV/XLSX"})]},E.id))})]}),$e.jsx("div",{className:"status-message",children:h})]}):$e.jsxs("div",{children:[$e.jsx("button",{className:"main-button",onClick:m,children:"Login con Google"}),$e.jsx("div",{className:"status-message",children:h})]})]})}function z5(){return $e.jsxs(eI,{children:[$e.jsx(oh,{path:"/",element:$e.jsx(DI,{})}),$e.jsx(oh,{path:"/scan",element:$e.jsx(YN,{})}),$e.jsx(oh,{path:"/profesores",element:$e.jsx(j5,{})})]})}uA.createRoot(document.getElementById("root")).render($e.jsx(rA.StrictMode,{children:$e.jsx(TI,{basename:"/asistencia-qr1",children:$e.jsx(z5,{})})}));
